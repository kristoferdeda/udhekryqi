(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function fi(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var yh={exports:{}},lo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lb;function cC(){if(Lb)return lo;Lb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:u,ref:s!==void 0?s:null,props:o}}return lo.Fragment=e,lo.jsx=t,lo.jsxs=t,lo}var Bb;function fC(){return Bb||(Bb=1,yh.exports=cC()),yh.exports}var T=fC(),bh={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _b;function dC(){if(_b)return be;_b=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function b(O){return O===null||typeof O!="object"?null:(O=y&&O[y]||O["@@iterator"],typeof O=="function"?O:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,E={};function w(O,$,ee){this.props=O,this.context=$,this.refs=E,this.updater=ee||v}w.prototype.isReactComponent={},w.prototype.setState=function(O,$){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,$,"setState")},w.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function k(){}k.prototype=w.prototype;function A(O,$,ee){this.props=O,this.context=$,this.refs=E,this.updater=ee||v}var j=A.prototype=new k;j.constructor=A,x(j,w.prototype),j.isPureReactComponent=!0;var I=Array.isArray,U={H:null,A:null,T:null,S:null,V:null},X=Object.prototype.hasOwnProperty;function Q(O,$,ee,Z,oe,Oe){return ee=Oe.ref,{$$typeof:n,type:O,key:$,ref:ee!==void 0?ee:null,props:Oe}}function ie(O,$){return Q(O.type,$,void 0,void 0,void 0,O.props)}function J(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function Ne(O){var $={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ee){return $[ee]})}var ze=/\/+/g;function ge(O,$){return typeof O=="object"&&O!==null&&O.key!=null?Ne(""+O.key):$.toString(36)}function Ct(){}function Ht(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ct,Ct):(O.status="pending",O.then(function($){O.status==="pending"&&(O.status="fulfilled",O.value=$)},function($){O.status==="pending"&&(O.status="rejected",O.reason=$)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ue(O,$,ee,Z,oe){var Oe=typeof O;(Oe==="undefined"||Oe==="boolean")&&(O=null);var pe=!1;if(O===null)pe=!0;else switch(Oe){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(O.$$typeof){case n:case e:pe=!0;break;case m:return pe=O._init,ue(pe(O._payload),$,ee,Z,oe)}}if(pe)return oe=oe(O),pe=Z===""?"."+ge(O,0):Z,I(oe)?(ee="",pe!=null&&(ee=pe.replace(ze,"$&/")+"/"),ue(oe,$,ee,"",function(wr){return wr})):oe!=null&&(J(oe)&&(oe=ie(oe,ee+(oe.key==null||O&&O.key===oe.key?"":(""+oe.key).replace(ze,"$&/")+"/")+pe)),$.push(oe)),1;pe=0;var Xt=Z===""?".":Z+":";if(I(O))for(var Fe=0;Fe<O.length;Fe++)Z=O[Fe],Oe=Xt+ge(Z,Fe),pe+=ue(Z,$,ee,Oe,oe);else if(Fe=b(O),typeof Fe=="function")for(O=Fe.call(O),Fe=0;!(Z=O.next()).done;)Z=Z.value,Oe=Xt+ge(Z,Fe++),pe+=ue(Z,$,ee,Oe,oe);else if(Oe==="object"){if(typeof O.then=="function")return ue(Ht(O),$,ee,Z,oe);throw $=String(O),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return pe}function B(O,$,ee){if(O==null)return O;var Z=[],oe=0;return ue(O,Z,"","",function(Oe){return $.call(ee,Oe,oe++)}),Z}function G(O){if(O._status===-1){var $=O._result;$=$(),$.then(function(ee){(O._status===0||O._status===-1)&&(O._status=1,O._result=ee)},function(ee){(O._status===0||O._status===-1)&&(O._status=2,O._result=ee)}),O._status===-1&&(O._status=0,O._result=$)}if(O._status===1)return O._result.default;throw O._result}var re=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Le(){}return be.Children={map:B,forEach:function(O,$,ee){B(O,function(){$.apply(this,arguments)},ee)},count:function(O){var $=0;return B(O,function(){$++}),$},toArray:function(O){return B(O,function($){return $})||[]},only:function(O){if(!J(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},be.Component=w,be.Fragment=t,be.Profiler=s,be.PureComponent=A,be.StrictMode=r,be.Suspense=d,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,be.__COMPILER_RUNTIME={__proto__:null,c:function(O){return U.H.useMemoCache(O)}},be.cache=function(O){return function(){return O.apply(null,arguments)}},be.cloneElement=function(O,$,ee){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var Z=x({},O.props),oe=O.key,Oe=void 0;if($!=null)for(pe in $.ref!==void 0&&(Oe=void 0),$.key!==void 0&&(oe=""+$.key),$)!X.call($,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&$.ref===void 0||(Z[pe]=$[pe]);var pe=arguments.length-2;if(pe===1)Z.children=ee;else if(1<pe){for(var Xt=Array(pe),Fe=0;Fe<pe;Fe++)Xt[Fe]=arguments[Fe+2];Z.children=Xt}return Q(O.type,oe,void 0,void 0,Oe,Z)},be.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:o,_context:O},O},be.createElement=function(O,$,ee){var Z,oe={},Oe=null;if($!=null)for(Z in $.key!==void 0&&(Oe=""+$.key),$)X.call($,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(oe[Z]=$[Z]);var pe=arguments.length-2;if(pe===1)oe.children=ee;else if(1<pe){for(var Xt=Array(pe),Fe=0;Fe<pe;Fe++)Xt[Fe]=arguments[Fe+2];oe.children=Xt}if(O&&O.defaultProps)for(Z in pe=O.defaultProps,pe)oe[Z]===void 0&&(oe[Z]=pe[Z]);return Q(O,Oe,void 0,void 0,null,oe)},be.createRef=function(){return{current:null}},be.forwardRef=function(O){return{$$typeof:c,render:O}},be.isValidElement=J,be.lazy=function(O){return{$$typeof:m,_payload:{_status:-1,_result:O},_init:G}},be.memo=function(O,$){return{$$typeof:h,type:O,compare:$===void 0?null:$}},be.startTransition=function(O){var $=U.T,ee={};U.T=ee;try{var Z=O(),oe=U.S;oe!==null&&oe(ee,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(Le,re)}catch(Oe){re(Oe)}finally{U.T=$}},be.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},be.use=function(O){return U.H.use(O)},be.useActionState=function(O,$,ee){return U.H.useActionState(O,$,ee)},be.useCallback=function(O,$){return U.H.useCallback(O,$)},be.useContext=function(O){return U.H.useContext(O)},be.useDebugValue=function(){},be.useDeferredValue=function(O,$){return U.H.useDeferredValue(O,$)},be.useEffect=function(O,$,ee){var Z=U.H;if(typeof ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(O,$)},be.useId=function(){return U.H.useId()},be.useImperativeHandle=function(O,$,ee){return U.H.useImperativeHandle(O,$,ee)},be.useInsertionEffect=function(O,$){return U.H.useInsertionEffect(O,$)},be.useLayoutEffect=function(O,$){return U.H.useLayoutEffect(O,$)},be.useMemo=function(O,$){return U.H.useMemo(O,$)},be.useOptimistic=function(O,$){return U.H.useOptimistic(O,$)},be.useReducer=function(O,$,ee){return U.H.useReducer(O,$,ee)},be.useRef=function(O){return U.H.useRef(O)},be.useState=function(O){return U.H.useState(O)},be.useSyncExternalStore=function(O,$,ee){return U.H.useSyncExternalStore(O,$,ee)},be.useTransition=function(){return U.H.useTransition()},be.version="19.1.0",be}var Hb;function Oc(){return Hb||(Hb=1,bh.exports=dC()),bh.exports}var R=Oc();const Ue=fi(R);var xh={exports:{}},oo={},vh={exports:{}},Sh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ub;function hC(){return Ub||(Ub=1,function(n){function e(B,G){var re=B.length;B.push(G);e:for(;0<re;){var Le=re-1>>>1,O=B[Le];if(0<s(O,G))B[Le]=G,B[re]=O,re=Le;else break e}}function t(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var G=B[0],re=B.pop();if(re!==G){B[0]=re;e:for(var Le=0,O=B.length,$=O>>>1;Le<$;){var ee=2*(Le+1)-1,Z=B[ee],oe=ee+1,Oe=B[oe];if(0>s(Z,re))oe<O&&0>s(Oe,Z)?(B[Le]=Oe,B[oe]=re,Le=oe):(B[Le]=Z,B[ee]=re,Le=ee);else if(oe<O&&0>s(Oe,re))B[Le]=Oe,B[oe]=re,Le=oe;else break e}}return G}function s(B,G){var re=B.sortIndex-G.sortIndex;return re!==0?re:B.id-G.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();n.unstable_now=function(){return u.now()-c}}var d=[],h=[],m=1,y=null,b=3,v=!1,x=!1,E=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function I(B){for(var G=t(h);G!==null;){if(G.callback===null)r(h);else if(G.startTime<=B)r(h),G.sortIndex=G.expirationTime,e(d,G);else break;G=t(h)}}function U(B){if(E=!1,I(B),!x)if(t(d)!==null)x=!0,X||(X=!0,ge());else{var G=t(h);G!==null&&ue(U,G.startTime-B)}}var X=!1,Q=-1,ie=5,J=-1;function Ne(){return w?!0:!(n.unstable_now()-J<ie)}function ze(){if(w=!1,X){var B=n.unstable_now();J=B;var G=!0;try{e:{x=!1,E&&(E=!1,A(Q),Q=-1),v=!0;var re=b;try{t:{for(I(B),y=t(d);y!==null&&!(y.expirationTime>B&&Ne());){var Le=y.callback;if(typeof Le=="function"){y.callback=null,b=y.priorityLevel;var O=Le(y.expirationTime<=B);if(B=n.unstable_now(),typeof O=="function"){y.callback=O,I(B),G=!0;break t}y===t(d)&&r(d),I(B)}else r(d);y=t(d)}if(y!==null)G=!0;else{var $=t(h);$!==null&&ue(U,$.startTime-B),G=!1}}break e}finally{y=null,b=re,v=!1}G=void 0}}finally{G?ge():X=!1}}}var ge;if(typeof j=="function")ge=function(){j(ze)};else if(typeof MessageChannel<"u"){var Ct=new MessageChannel,Ht=Ct.port2;Ct.port1.onmessage=ze,ge=function(){Ht.postMessage(null)}}else ge=function(){k(ze,0)};function ue(B,G){Q=k(function(){B(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(B){switch(b){case 1:case 2:case 3:var G=3;break;default:G=b}var re=b;b=G;try{return B()}finally{b=re}},n.unstable_requestPaint=function(){w=!0},n.unstable_runWithPriority=function(B,G){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var re=b;b=B;try{return G()}finally{b=re}},n.unstable_scheduleCallback=function(B,G,re){var Le=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Le+re:Le):re=Le,B){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=re+O,B={id:m++,callback:G,priorityLevel:B,startTime:re,expirationTime:O,sortIndex:-1},re>Le?(B.sortIndex=re,e(h,B),t(d)===null&&B===t(h)&&(E?(A(Q),Q=-1):E=!0,ue(U,re-Le))):(B.sortIndex=O,e(d,B),x||v||(x=!0,X||(X=!0,ge()))),B},n.unstable_shouldYield=Ne,n.unstable_wrapCallback=function(B){var G=b;return function(){var re=b;b=G;try{return B.apply(this,arguments)}finally{b=re}}}}(Sh)),Sh}var Pb;function pC(){return Pb||(Pb=1,vh.exports=hC()),vh.exports}var Eh={exports:{}},At={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qb;function mC(){if(qb)return At;qb=1;var n=Oc();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,h,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:d,containerInfo:h,implementation:m}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return At.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,At.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(d,h,null,m)},At.flushSync=function(d){var h=u.T,m=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=h,r.p=m,r.d.f()}},At.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},At.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},At.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,y=c(m,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:v}):m==="script"&&r.d.X(d,{crossOrigin:y,integrity:b,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},At.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},At.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,y=c(m,h.crossOrigin);r.d.L(d,m,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},At.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=c(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},At.requestFormReset=function(d){r.d.r(d)},At.unstable_batchedUpdates=function(d,h){return d(h)},At.useFormState=function(d,h,m){return u.H.useFormState(d,h,m)},At.useFormStatus=function(){return u.H.useHostTransitionStatus()},At.version="19.1.0",At}var Ib;function $x(){if(Ib)return Eh.exports;Ib=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Eh.exports=mC(),Eh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vb;function gC(){if(Vb)return oo;Vb=1;var n=pC(),e=Oc(),t=$x();function r(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)l+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var l=i,a=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(a=l.return),i=l.return;while(i)}return l.tag===3?a:null}function u(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function c(i){if(o(i)!==i)throw Error(r(188))}function d(i){var l=i.alternate;if(!l){if(l=o(i),l===null)throw Error(r(188));return l!==i?null:i}for(var a=i,f=l;;){var p=a.return;if(p===null)break;var g=p.alternate;if(g===null){if(f=p.return,f!==null){a=f;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===a)return c(p),i;if(g===f)return c(p),l;g=g.sibling}throw Error(r(188))}if(a.return!==f.return)a=p,f=g;else{for(var S=!1,C=p.child;C;){if(C===a){S=!0,a=p,f=g;break}if(C===f){S=!0,f=p,a=g;break}C=C.sibling}if(!S){for(C=g.child;C;){if(C===a){S=!0,a=g,f=p;break}if(C===f){S=!0,f=g,a=p;break}C=C.sibling}if(!S)throw Error(r(189))}}if(a.alternate!==f)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?i:l}function h(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=h(i),l!==null)return l;i=i.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),j=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),Ne=Symbol.for("react.memo_cache_sentinel"),ze=Symbol.iterator;function ge(i){return i===null||typeof i!="object"?null:(i=ze&&i[ze]||i["@@iterator"],typeof i=="function"?i:null)}var Ct=Symbol.for("react.client.reference");function Ht(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Ct?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case w:return"Profiler";case E:return"StrictMode";case U:return"Suspense";case X:return"SuspenseList";case J:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case v:return"Portal";case j:return(i.displayName||"Context")+".Provider";case A:return(i._context.displayName||"Context")+".Consumer";case I:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Q:return l=i.displayName||null,l!==null?l:Ht(i.type)||"Memo";case ie:l=i._payload,i=i._init;try{return Ht(i(l))}catch{}}return null}var ue=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},Le=[],O=-1;function $(i){return{current:i}}function ee(i){0>O||(i.current=Le[O],Le[O]=null,O--)}function Z(i,l){O++,Le[O]=i.current,i.current=l}var oe=$(null),Oe=$(null),pe=$(null),Xt=$(null);function Fe(i,l){switch(Z(pe,l),Z(Oe,i),Z(oe,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?ub(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=ub(l),i=cb(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ee(oe),Z(oe,i)}function wr(){ee(oe),ee(Oe),ee(pe)}function tf(i){i.memoizedState!==null&&Z(Xt,i);var l=oe.current,a=cb(l,i.type);l!==a&&(Z(Oe,i),Z(oe,a))}function Qo(i){Oe.current===i&&(ee(oe),ee(Oe)),Xt.current===i&&(ee(Xt),to._currentValue=re)}var nf=Object.prototype.hasOwnProperty,rf=n.unstable_scheduleCallback,sf=n.unstable_cancelCallback,IE=n.unstable_shouldYield,VE=n.unstable_requestPaint,zn=n.unstable_now,FE=n.unstable_getCurrentPriorityLevel,Vm=n.unstable_ImmediatePriority,Fm=n.unstable_UserBlockingPriority,Zo=n.unstable_NormalPriority,$E=n.unstable_LowPriority,$m=n.unstable_IdlePriority,GE=n.log,KE=n.unstable_setDisableYieldValue,ul=null,Qt=null;function Cr(i){if(typeof GE=="function"&&KE(i),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(ul,i)}catch{}}var Zt=Math.clz32?Math.clz32:XE,YE=Math.log,JE=Math.LN2;function XE(i){return i>>>=0,i===0?32:31-(YE(i)/JE|0)|0}var Wo=256,ea=4194304;function mi(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ta(i,l,a){var f=i.pendingLanes;if(f===0)return 0;var p=0,g=i.suspendedLanes,S=i.pingedLanes;i=i.warmLanes;var C=f&134217727;return C!==0?(f=C&~g,f!==0?p=mi(f):(S&=C,S!==0?p=mi(S):a||(a=C&~i,a!==0&&(p=mi(a))))):(C=f&~g,C!==0?p=mi(C):S!==0?p=mi(S):a||(a=f&~i,a!==0&&(p=mi(a)))),p===0?0:l!==0&&l!==p&&(l&g)===0&&(g=p&-p,a=l&-l,g>=a||g===32&&(a&4194048)!==0)?l:p}function cl(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function QE(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gm(){var i=Wo;return Wo<<=1,(Wo&4194048)===0&&(Wo=256),i}function Km(){var i=ea;return ea<<=1,(ea&62914560)===0&&(ea=4194304),i}function lf(i){for(var l=[],a=0;31>a;a++)l.push(i);return l}function fl(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ZE(i,l,a,f,p,g){var S=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var C=i.entanglements,N=i.expirationTimes,L=i.hiddenUpdates;for(a=S&~a;0<a;){var q=31-Zt(a),F=1<<q;C[q]=0,N[q]=-1;var _=L[q];if(_!==null)for(L[q]=null,q=0;q<_.length;q++){var H=_[q];H!==null&&(H.lane&=-536870913)}a&=~F}f!==0&&Ym(i,f,0),g!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=g&~(S&~l))}function Ym(i,l,a){i.pendingLanes|=l,i.suspendedLanes&=~l;var f=31-Zt(l);i.entangledLanes|=l,i.entanglements[f]=i.entanglements[f]|1073741824|a&4194090}function Jm(i,l){var a=i.entangledLanes|=l;for(i=i.entanglements;a;){var f=31-Zt(a),p=1<<f;p&l|i[f]&l&&(i[f]|=l),a&=~p}}function of(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function af(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Xm(){var i=G.p;return i!==0?i:(i=window.event,i===void 0?32:Ob(i.type))}function WE(i,l){var a=G.p;try{return G.p=i,l()}finally{G.p=a}}var kr=Math.random().toString(36).slice(2),kt="__reactFiber$"+kr,Ut="__reactProps$"+kr,ts="__reactContainer$"+kr,uf="__reactEvents$"+kr,eT="__reactListeners$"+kr,tT="__reactHandles$"+kr,Qm="__reactResources$"+kr,dl="__reactMarker$"+kr;function cf(i){delete i[kt],delete i[Ut],delete i[uf],delete i[eT],delete i[tT]}function ns(i){var l=i[kt];if(l)return l;for(var a=i.parentNode;a;){if(l=a[ts]||a[kt]){if(a=l.alternate,l.child!==null||a!==null&&a.child!==null)for(i=pb(i);i!==null;){if(a=i[kt])return a;i=pb(i)}return l}i=a,a=i.parentNode}return null}function rs(i){if(i=i[kt]||i[ts]){var l=i.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return i}return null}function hl(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(r(33))}function is(i){var l=i[Qm];return l||(l=i[Qm]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function at(i){i[dl]=!0}var Zm=new Set,Wm={};function gi(i,l){ss(i,l),ss(i+"Capture",l)}function ss(i,l){for(Wm[i]=l,i=0;i<l.length;i++)Zm.add(l[i])}var nT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),eg={},tg={};function rT(i){return nf.call(tg,i)?!0:nf.call(eg,i)?!1:nT.test(i)?tg[i]=!0:(eg[i]=!0,!1)}function na(i,l,a){if(rT(l))if(a===null)i.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var f=l.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+a)}}function ra(i,l,a){if(a===null)i.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+a)}}function Qn(i,l,a,f){if(f===null)i.removeAttribute(a);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(l,a,""+f)}}var ff,ng;function ls(i){if(ff===void 0)try{throw Error()}catch(a){var l=a.stack.trim().match(/\n( *(at )?)/);ff=l&&l[1]||"",ng=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ff+i+ng}var df=!1;function hf(i,l){if(!i||df)return"";df=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(l){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(H){var _=H}Reflect.construct(i,[],F)}else{try{F.call()}catch(H){_=H}i.call(F.prototype)}}else{try{throw Error()}catch(H){_=H}(F=i())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(H){if(H&&_&&typeof H.stack=="string")return[H.stack,_.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=f.DetermineComponentFrameRoot(),S=g[0],C=g[1];if(S&&C){var N=S.split(`
`),L=C.split(`
`);for(p=f=0;f<N.length&&!N[f].includes("DetermineComponentFrameRoot");)f++;for(;p<L.length&&!L[p].includes("DetermineComponentFrameRoot");)p++;if(f===N.length||p===L.length)for(f=N.length-1,p=L.length-1;1<=f&&0<=p&&N[f]!==L[p];)p--;for(;1<=f&&0<=p;f--,p--)if(N[f]!==L[p]){if(f!==1||p!==1)do if(f--,p--,0>p||N[f]!==L[p]){var q=`
`+N[f].replace(" at new "," at ");return i.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",i.displayName)),q}while(1<=f&&0<=p);break}}}finally{df=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?ls(a):""}function iT(i){switch(i.tag){case 26:case 27:case 5:return ls(i.type);case 16:return ls("Lazy");case 13:return ls("Suspense");case 19:return ls("SuspenseList");case 0:case 15:return hf(i.type,!1);case 11:return hf(i.type.render,!1);case 1:return hf(i.type,!0);case 31:return ls("Activity");default:return""}}function rg(i){try{var l="";do l+=iT(i),i=i.return;while(i);return l}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function cn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ig(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function sT(i){var l=ig(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),f=""+i[l];if(!i.hasOwnProperty(l)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,g=a.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return p.call(this)},set:function(S){f=""+S,g.call(this,S)}}),Object.defineProperty(i,l,{enumerable:a.enumerable}),{getValue:function(){return f},setValue:function(S){f=""+S},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function ia(i){i._valueTracker||(i._valueTracker=sT(i))}function sg(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var a=l.getValue(),f="";return i&&(f=ig(i)?i.checked?"true":"false":i.value),i=f,i!==a?(l.setValue(i),!0):!1}function sa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var lT=/[\n"\\]/g;function fn(i){return i.replace(lT,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function pf(i,l,a,f,p,g,S,C){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),l!=null?S==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+cn(l)):i.value!==""+cn(l)&&(i.value=""+cn(l)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),l!=null?mf(i,S,cn(l)):a!=null?mf(i,S,cn(a)):f!=null&&i.removeAttribute("value"),p==null&&g!=null&&(i.defaultChecked=!!g),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.name=""+cn(C):i.removeAttribute("name")}function lg(i,l,a,f,p,g,S,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),l!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||l!=null))return;a=a!=null?""+cn(a):"",l=l!=null?""+cn(l):a,C||l===i.value||(i.value=l),i.defaultValue=l}f=f??p,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=C?i.checked:!!f,i.defaultChecked=!!f,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S)}function mf(i,l,a){l==="number"&&sa(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function as(i,l,a,f){if(i=i.options,l){l={};for(var p=0;p<a.length;p++)l["$"+a[p]]=!0;for(a=0;a<i.length;a++)p=l.hasOwnProperty("$"+i[a].value),i[a].selected!==p&&(i[a].selected=p),p&&f&&(i[a].defaultSelected=!0)}else{for(a=""+cn(a),l=null,p=0;p<i.length;p++){if(i[p].value===a){i[p].selected=!0,f&&(i[p].defaultSelected=!0);return}l!==null||i[p].disabled||(l=i[p])}l!==null&&(l.selected=!0)}}function og(i,l,a){if(l!=null&&(l=""+cn(l),l!==i.value&&(i.value=l),a==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=a!=null?""+cn(a):""}function ag(i,l,a,f){if(l==null){if(f!=null){if(a!=null)throw Error(r(92));if(ue(f)){if(1<f.length)throw Error(r(93));f=f[0]}a=f}a==null&&(a=""),l=a}a=cn(l),i.defaultValue=a,f=i.textContent,f===a&&f!==""&&f!==null&&(i.value=f)}function us(i,l){if(l){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=l;return}}i.textContent=l}var oT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ug(i,l,a){var f=l.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?f?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":f?i.setProperty(l,a):typeof a!="number"||a===0||oT.has(l)?l==="float"?i.cssFloat=a:i[l]=(""+a).trim():i[l]=a+"px"}function cg(i,l,a){if(l!=null&&typeof l!="object")throw Error(r(62));if(i=i.style,a!=null){for(var f in a)!a.hasOwnProperty(f)||l!=null&&l.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var p in l)f=l[p],l.hasOwnProperty(p)&&a[p]!==f&&ug(i,p,f)}else for(var g in l)l.hasOwnProperty(g)&&ug(i,g,l[g])}function gf(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function la(i){return uT.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var yf=null;function bf(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var cs=null,fs=null;function fg(i){var l=rs(i);if(l&&(i=l.stateNode)){var a=i[Ut]||null;e:switch(i=l.stateNode,l.type){case"input":if(pf(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),l=a.name,a.type==="radio"&&l!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+fn(""+l)+'"][type="radio"]'),l=0;l<a.length;l++){var f=a[l];if(f!==i&&f.form===i.form){var p=f[Ut]||null;if(!p)throw Error(r(90));pf(f,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(l=0;l<a.length;l++)f=a[l],f.form===i.form&&sg(f)}break e;case"textarea":og(i,a.value,a.defaultValue);break e;case"select":l=a.value,l!=null&&as(i,!!a.multiple,l,!1)}}}var xf=!1;function dg(i,l,a){if(xf)return i(l,a);xf=!0;try{var f=i(l);return f}finally{if(xf=!1,(cs!==null||fs!==null)&&($a(),cs&&(l=cs,i=fs,fs=cs=null,fg(l),i)))for(l=0;l<i.length;l++)fg(i[l])}}function pl(i,l){var a=i.stateNode;if(a===null)return null;var f=a[Ut]||null;if(f===null)return null;a=f[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(r(231,l,typeof a));return a}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vf=!1;if(Zn)try{var ml={};Object.defineProperty(ml,"passive",{get:function(){vf=!0}}),window.addEventListener("test",ml,ml),window.removeEventListener("test",ml,ml)}catch{vf=!1}var Nr=null,Sf=null,oa=null;function hg(){if(oa)return oa;var i,l=Sf,a=l.length,f,p="value"in Nr?Nr.value:Nr.textContent,g=p.length;for(i=0;i<a&&l[i]===p[i];i++);var S=a-i;for(f=1;f<=S&&l[a-f]===p[g-f];f++);return oa=p.slice(i,1<f?1-f:void 0)}function aa(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function ua(){return!0}function pg(){return!1}function Pt(i){function l(a,f,p,g,S){this._reactName=a,this._targetInst=p,this.type=f,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(a=i[C],this[C]=a?a(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ua:pg,this.isPropagationStopped=pg,this}return m(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ua)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ua)},persist:function(){},isPersistent:ua}),l}var yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ca=Pt(yi),gl=m({},yi,{view:0,detail:0}),cT=Pt(gl),Ef,Tf,yl,fa=m({},gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cf,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yl&&(yl&&i.type==="mousemove"?(Ef=i.screenX-yl.screenX,Tf=i.screenY-yl.screenY):Tf=Ef=0,yl=i),Ef)},movementY:function(i){return"movementY"in i?i.movementY:Tf}}),mg=Pt(fa),fT=m({},fa,{dataTransfer:0}),dT=Pt(fT),hT=m({},gl,{relatedTarget:0}),wf=Pt(hT),pT=m({},yi,{animationName:0,elapsedTime:0,pseudoElement:0}),mT=Pt(pT),gT=m({},yi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),yT=Pt(gT),bT=m({},yi,{data:0}),gg=Pt(bT),xT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ST={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ET(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=ST[i])?!!l[i]:!1}function Cf(){return ET}var TT=m({},gl,{key:function(i){if(i.key){var l=xT[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=aa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?vT[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cf,charCode:function(i){return i.type==="keypress"?aa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?aa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),wT=Pt(TT),CT=m({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yg=Pt(CT),kT=m({},gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cf}),NT=Pt(kT),AT=m({},yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),OT=Pt(AT),MT=m({},fa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),RT=Pt(MT),DT=m({},yi,{newState:0,oldState:0}),jT=Pt(DT),zT=[9,13,27,32],kf=Zn&&"CompositionEvent"in window,bl=null;Zn&&"documentMode"in document&&(bl=document.documentMode);var LT=Zn&&"TextEvent"in window&&!bl,bg=Zn&&(!kf||bl&&8<bl&&11>=bl),xg=" ",vg=!1;function Sg(i,l){switch(i){case"keyup":return zT.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ds=!1;function BT(i,l){switch(i){case"compositionend":return Eg(l);case"keypress":return l.which!==32?null:(vg=!0,xg);case"textInput":return i=l.data,i===xg&&vg?null:i;default:return null}}function _T(i,l){if(ds)return i==="compositionend"||!kf&&Sg(i,l)?(i=hg(),oa=Sf=Nr=null,ds=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return bg&&l.locale!=="ko"?null:l.data;default:return null}}var HT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tg(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!HT[i.type]:l==="textarea"}function wg(i,l,a,f){cs?fs?fs.push(f):fs=[f]:cs=f,l=Qa(l,"onChange"),0<l.length&&(a=new ca("onChange","change",null,a,f),i.push({event:a,listeners:l}))}var xl=null,vl=null;function UT(i){ib(i,0)}function da(i){var l=hl(i);if(sg(l))return i}function Cg(i,l){if(i==="change")return l}var kg=!1;if(Zn){var Nf;if(Zn){var Af="oninput"in document;if(!Af){var Ng=document.createElement("div");Ng.setAttribute("oninput","return;"),Af=typeof Ng.oninput=="function"}Nf=Af}else Nf=!1;kg=Nf&&(!document.documentMode||9<document.documentMode)}function Ag(){xl&&(xl.detachEvent("onpropertychange",Og),vl=xl=null)}function Og(i){if(i.propertyName==="value"&&da(vl)){var l=[];wg(l,vl,i,bf(i)),dg(UT,l)}}function PT(i,l,a){i==="focusin"?(Ag(),xl=l,vl=a,xl.attachEvent("onpropertychange",Og)):i==="focusout"&&Ag()}function qT(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return da(vl)}function IT(i,l){if(i==="click")return da(l)}function VT(i,l){if(i==="input"||i==="change")return da(l)}function FT(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var Wt=typeof Object.is=="function"?Object.is:FT;function Sl(i,l){if(Wt(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var a=Object.keys(i),f=Object.keys(l);if(a.length!==f.length)return!1;for(f=0;f<a.length;f++){var p=a[f];if(!nf.call(l,p)||!Wt(i[p],l[p]))return!1}return!0}function Mg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Rg(i,l){var a=Mg(i);i=0;for(var f;a;){if(a.nodeType===3){if(f=i+a.textContent.length,i<=l&&f>=l)return{node:a,offset:l-i};i=f}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Mg(a)}}function Dg(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?Dg(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function jg(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=sa(i.document);l instanceof i.HTMLIFrameElement;){try{var a=typeof l.contentWindow.location.href=="string"}catch{a=!1}if(a)i=l.contentWindow;else break;l=sa(i.document)}return l}function Of(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var $T=Zn&&"documentMode"in document&&11>=document.documentMode,hs=null,Mf=null,El=null,Rf=!1;function zg(i,l,a){var f=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Rf||hs==null||hs!==sa(f)||(f=hs,"selectionStart"in f&&Of(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),El&&Sl(El,f)||(El=f,f=Qa(Mf,"onSelect"),0<f.length&&(l=new ca("onSelect","select",null,l,a),i.push({event:l,listeners:f}),l.target=hs)))}function bi(i,l){var a={};return a[i.toLowerCase()]=l.toLowerCase(),a["Webkit"+i]="webkit"+l,a["Moz"+i]="moz"+l,a}var ps={animationend:bi("Animation","AnimationEnd"),animationiteration:bi("Animation","AnimationIteration"),animationstart:bi("Animation","AnimationStart"),transitionrun:bi("Transition","TransitionRun"),transitionstart:bi("Transition","TransitionStart"),transitioncancel:bi("Transition","TransitionCancel"),transitionend:bi("Transition","TransitionEnd")},Df={},Lg={};Zn&&(Lg=document.createElement("div").style,"AnimationEvent"in window||(delete ps.animationend.animation,delete ps.animationiteration.animation,delete ps.animationstart.animation),"TransitionEvent"in window||delete ps.transitionend.transition);function xi(i){if(Df[i])return Df[i];if(!ps[i])return i;var l=ps[i],a;for(a in l)if(l.hasOwnProperty(a)&&a in Lg)return Df[i]=l[a];return i}var Bg=xi("animationend"),_g=xi("animationiteration"),Hg=xi("animationstart"),GT=xi("transitionrun"),KT=xi("transitionstart"),YT=xi("transitioncancel"),Ug=xi("transitionend"),Pg=new Map,jf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jf.push("scrollEnd");function kn(i,l){Pg.set(i,l),gi(l,[i])}var qg=new WeakMap;function dn(i,l){if(typeof i=="object"&&i!==null){var a=qg.get(i);return a!==void 0?a:(l={value:i,source:l,stack:rg(l)},qg.set(i,l),l)}return{value:i,source:l,stack:rg(l)}}var hn=[],ms=0,zf=0;function ha(){for(var i=ms,l=zf=ms=0;l<i;){var a=hn[l];hn[l++]=null;var f=hn[l];hn[l++]=null;var p=hn[l];hn[l++]=null;var g=hn[l];if(hn[l++]=null,f!==null&&p!==null){var S=f.pending;S===null?p.next=p:(p.next=S.next,S.next=p),f.pending=p}g!==0&&Ig(a,p,g)}}function pa(i,l,a,f){hn[ms++]=i,hn[ms++]=l,hn[ms++]=a,hn[ms++]=f,zf|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function Lf(i,l,a,f){return pa(i,l,a,f),ma(i)}function gs(i,l){return pa(i,null,null,l),ma(i)}function Ig(i,l,a){i.lanes|=a;var f=i.alternate;f!==null&&(f.lanes|=a);for(var p=!1,g=i.return;g!==null;)g.childLanes|=a,f=g.alternate,f!==null&&(f.childLanes|=a),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(p=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,p&&l!==null&&(p=31-Zt(a),i=g.hiddenUpdates,f=i[p],f===null?i[p]=[l]:f.push(l),l.lane=a|536870912),g):null}function ma(i){if(50<Kl)throw Kl=0,qd=null,Error(r(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var ys={};function JT(i,l,a,f){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(i,l,a,f){return new JT(i,l,a,f)}function Bf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Wn(i,l){var a=i.alternate;return a===null?(a=en(i.tag,l,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=l,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,l=i.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function Vg(i,l){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,l=a.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function ga(i,l,a,f,p,g){var S=0;if(f=i,typeof i=="function")Bf(i)&&(S=1);else if(typeof i=="string")S=Qw(i,a,oe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case J:return i=en(31,a,l,p),i.elementType=J,i.lanes=g,i;case x:return vi(a.children,p,g,l);case E:S=8,p|=24;break;case w:return i=en(12,a,l,p|2),i.elementType=w,i.lanes=g,i;case U:return i=en(13,a,l,p),i.elementType=U,i.lanes=g,i;case X:return i=en(19,a,l,p),i.elementType=X,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:case j:S=10;break e;case A:S=9;break e;case I:S=11;break e;case Q:S=14;break e;case ie:S=16,f=null;break e}S=29,a=Error(r(130,i===null?"null":typeof i,"")),f=null}return l=en(S,a,l,p),l.elementType=i,l.type=f,l.lanes=g,l}function vi(i,l,a,f){return i=en(7,i,f,l),i.lanes=a,i}function _f(i,l,a){return i=en(6,i,null,l),i.lanes=a,i}function Hf(i,l,a){return l=en(4,i.children!==null?i.children:[],i.key,l),l.lanes=a,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var bs=[],xs=0,ya=null,ba=0,pn=[],mn=0,Si=null,er=1,tr="";function Ei(i,l){bs[xs++]=ba,bs[xs++]=ya,ya=i,ba=l}function Fg(i,l,a){pn[mn++]=er,pn[mn++]=tr,pn[mn++]=Si,Si=i;var f=er;i=tr;var p=32-Zt(f)-1;f&=~(1<<p),a+=1;var g=32-Zt(l)+p;if(30<g){var S=p-p%5;g=(f&(1<<S)-1).toString(32),f>>=S,p-=S,er=1<<32-Zt(l)+p|a<<p|f,tr=g+i}else er=1<<g|a<<p|f,tr=i}function Uf(i){i.return!==null&&(Ei(i,1),Fg(i,1,0))}function Pf(i){for(;i===ya;)ya=bs[--xs],bs[xs]=null,ba=bs[--xs],bs[xs]=null;for(;i===Si;)Si=pn[--mn],pn[mn]=null,tr=pn[--mn],pn[mn]=null,er=pn[--mn],pn[mn]=null}var jt=null,Xe=null,Re=!1,Ti=null,Ln=!1,qf=Error(r(519));function wi(i){var l=Error(r(418,""));throw Cl(dn(l,i)),qf}function $g(i){var l=i.stateNode,a=i.type,f=i.memoizedProps;switch(l[kt]=i,l[Ut]=f,a){case"dialog":ke("cancel",l),ke("close",l);break;case"iframe":case"object":case"embed":ke("load",l);break;case"video":case"audio":for(a=0;a<Jl.length;a++)ke(Jl[a],l);break;case"source":ke("error",l);break;case"img":case"image":case"link":ke("error",l),ke("load",l);break;case"details":ke("toggle",l);break;case"input":ke("invalid",l),lg(l,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),ia(l);break;case"select":ke("invalid",l);break;case"textarea":ke("invalid",l),ag(l,f.value,f.defaultValue,f.children),ia(l)}a=f.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||l.textContent===""+a||f.suppressHydrationWarning===!0||ab(l.textContent,a)?(f.popover!=null&&(ke("beforetoggle",l),ke("toggle",l)),f.onScroll!=null&&ke("scroll",l),f.onScrollEnd!=null&&ke("scrollend",l),f.onClick!=null&&(l.onclick=Za),l=!0):l=!1,l||wi(i)}function Gg(i){for(jt=i.return;jt;)switch(jt.tag){case 5:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:jt=jt.return}}function Tl(i){if(i!==jt)return!1;if(!Re)return Gg(i),Re=!0,!1;var l=i.tag,a;if((a=l!==3&&l!==27)&&((a=l===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||rh(i.type,i.memoizedProps)),a=!a),a&&Xe&&wi(i),Gg(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8)if(a=i.data,a==="/$"){if(l===0){Xe=An(i.nextSibling);break e}l--}else a!=="$"&&a!=="$!"&&a!=="$?"||l++;i=i.nextSibling}Xe=null}}else l===27?(l=Xe,Vr(i.type)?(i=oh,oh=null,Xe=i):Xe=l):Xe=jt?An(i.stateNode.nextSibling):null;return!0}function wl(){Xe=jt=null,Re=!1}function Kg(){var i=Ti;return i!==null&&(Vt===null?Vt=i:Vt.push.apply(Vt,i),Ti=null),i}function Cl(i){Ti===null?Ti=[i]:Ti.push(i)}var If=$(null),Ci=null,nr=null;function Ar(i,l,a){Z(If,l._currentValue),l._currentValue=a}function rr(i){i._currentValue=If.current,ee(If)}function Vf(i,l,a){for(;i!==null;){var f=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,f!==null&&(f.childLanes|=l)):f!==null&&(f.childLanes&l)!==l&&(f.childLanes|=l),i===a)break;i=i.return}}function Ff(i,l,a,f){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var g=p.dependencies;if(g!==null){var S=p.child;g=g.firstContext;e:for(;g!==null;){var C=g;g=p;for(var N=0;N<l.length;N++)if(C.context===l[N]){g.lanes|=a,C=g.alternate,C!==null&&(C.lanes|=a),Vf(g.return,a,i),f||(S=null);break e}g=C.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(r(341));S.lanes|=a,g=S.alternate,g!==null&&(g.lanes|=a),Vf(S,a,i),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===i){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function kl(i,l,a,f){i=null;for(var p=l,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var C=p.type;Wt(p.pendingProps.value,S.value)||(i!==null?i.push(C):i=[C])}}else if(p===Xt.current){if(S=p.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(to):i=[to])}p=p.return}i!==null&&Ff(l,i,a,f),l.flags|=262144}function xa(i){for(i=i.firstContext;i!==null;){if(!Wt(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ki(i){Ci=i,nr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Nt(i){return Yg(Ci,i)}function va(i,l){return Ci===null&&ki(i),Yg(i,l)}function Yg(i,l){var a=l._currentValue;if(l={context:l,memoizedValue:a,next:null},nr===null){if(i===null)throw Error(r(308));nr=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else nr=nr.next=l;return a}var XT=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(a,f){i.push(f)}};this.abort=function(){l.aborted=!0,i.forEach(function(a){return a()})}},QT=n.unstable_scheduleCallback,ZT=n.unstable_NormalPriority,st={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $f(){return{controller:new XT,data:new Map,refCount:0}}function Nl(i){i.refCount--,i.refCount===0&&QT(ZT,function(){i.controller.abort()})}var Al=null,Gf=0,vs=0,Ss=null;function WT(i,l){if(Al===null){var a=Al=[];Gf=0,vs=Yd(),Ss={status:"pending",value:void 0,then:function(f){a.push(f)}}}return Gf++,l.then(Jg,Jg),l}function Jg(){if(--Gf===0&&Al!==null){Ss!==null&&(Ss.status="fulfilled");var i=Al;Al=null,vs=0,Ss=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function ew(i,l){var a=[],f={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return i.then(function(){f.status="fulfilled",f.value=l;for(var p=0;p<a.length;p++)(0,a[p])(l)},function(p){for(f.status="rejected",f.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),f}var Xg=B.S;B.S=function(i,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&WT(i,l),Xg!==null&&Xg(i,l)};var Ni=$(null);function Kf(){var i=Ni.current;return i!==null?i:Ie.pooledCache}function Sa(i,l){l===null?Z(Ni,Ni.current):Z(Ni,l.pool)}function Qg(){var i=Kf();return i===null?null:{parent:st._currentValue,pool:i}}var Ol=Error(r(460)),Zg=Error(r(474)),Ea=Error(r(542)),Yf={then:function(){}};function Wg(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Ta(){}function ey(i,l,a){switch(a=i[a],a===void 0?i.push(l):a!==l&&(l.then(Ta,Ta),l=a),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,ny(i),i;default:if(typeof l.status=="string")l.then(Ta,Ta);else{if(i=Ie,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=l,i.status="pending",i.then(function(f){if(l.status==="pending"){var p=l;p.status="fulfilled",p.value=f}},function(f){if(l.status==="pending"){var p=l;p.status="rejected",p.reason=f}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,ny(i),i}throw Ml=l,Ol}}var Ml=null;function ty(){if(Ml===null)throw Error(r(459));var i=Ml;return Ml=null,i}function ny(i){if(i===Ol||i===Ea)throw Error(r(483))}var Or=!1;function Jf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xf(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Mr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Rr(i,l,a){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(De&2)!==0){var p=f.pending;return p===null?l.next=l:(l.next=p.next,p.next=l),f.pending=l,l=ma(i),Ig(i,null,a),l}return pa(i,f,l,a),ma(i)}function Rl(i,l,a){if(l=l.updateQueue,l!==null&&(l=l.shared,(a&4194048)!==0)){var f=l.lanes;f&=i.pendingLanes,a|=f,l.lanes=a,Jm(i,a)}}function Qf(i,l){var a=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,a===f)){var p=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var S={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?p=g=S:g=g.next=S,a=a.next}while(a!==null);g===null?p=g=l:g=g.next=l}else p=g=l;a={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:f.shared,callbacks:f.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=l:i.next=l,a.lastBaseUpdate=l}var Zf=!1;function Dl(){if(Zf){var i=Ss;if(i!==null)throw i}}function jl(i,l,a,f){Zf=!1;var p=i.updateQueue;Or=!1;var g=p.firstBaseUpdate,S=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var N=C,L=N.next;N.next=null,S===null?g=L:S.next=L,S=N;var q=i.alternate;q!==null&&(q=q.updateQueue,C=q.lastBaseUpdate,C!==S&&(C===null?q.firstBaseUpdate=L:C.next=L,q.lastBaseUpdate=N))}if(g!==null){var F=p.baseState;S=0,q=L=N=null,C=g;do{var _=C.lane&-536870913,H=_!==C.lane;if(H?(Ae&_)===_:(f&_)===_){_!==0&&_===vs&&(Zf=!0),q!==null&&(q=q.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var fe=i,ae=C;_=l;var He=a;switch(ae.tag){case 1:if(fe=ae.payload,typeof fe=="function"){F=fe.call(He,F,_);break e}F=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ae.payload,_=typeof fe=="function"?fe.call(He,F,_):fe,_==null)break e;F=m({},F,_);break e;case 2:Or=!0}}_=C.callback,_!==null&&(i.flags|=64,H&&(i.flags|=8192),H=p.callbacks,H===null?p.callbacks=[_]:H.push(_))}else H={lane:_,tag:C.tag,payload:C.payload,callback:C.callback,next:null},q===null?(L=q=H,N=F):q=q.next=H,S|=_;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;H=C,C=H.next,H.next=null,p.lastBaseUpdate=H,p.shared.pending=null}}while(!0);q===null&&(N=F),p.baseState=N,p.firstBaseUpdate=L,p.lastBaseUpdate=q,g===null&&(p.shared.lanes=0),Ur|=S,i.lanes=S,i.memoizedState=F}}function ry(i,l){if(typeof i!="function")throw Error(r(191,i));i.call(l)}function iy(i,l){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)ry(a[i],l)}var Es=$(null),wa=$(0);function sy(i,l){i=cr,Z(wa,i),Z(Es,l),cr=i|l.baseLanes}function Wf(){Z(wa,cr),Z(Es,Es.current)}function ed(){cr=wa.current,ee(Es),ee(wa)}var Dr=0,Se=null,Be=null,nt=null,Ca=!1,Ts=!1,Ai=!1,ka=0,zl=0,ws=null,tw=0;function et(){throw Error(r(321))}function td(i,l){if(l===null)return!1;for(var a=0;a<l.length&&a<i.length;a++)if(!Wt(i[a],l[a]))return!1;return!0}function nd(i,l,a,f,p,g){return Dr=g,Se=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,B.H=i===null||i.memoizedState===null?Iy:Vy,Ai=!1,g=a(f,p),Ai=!1,Ts&&(g=oy(l,a,f,p)),ly(i),g}function ly(i){B.H=Da;var l=Be!==null&&Be.next!==null;if(Dr=0,nt=Be=Se=null,Ca=!1,zl=0,ws=null,l)throw Error(r(300));i===null||ut||(i=i.dependencies,i!==null&&xa(i)&&(ut=!0))}function oy(i,l,a,f){Se=i;var p=0;do{if(Ts&&(ws=null),zl=0,Ts=!1,25<=p)throw Error(r(301));if(p+=1,nt=Be=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}B.H=aw,g=l(a,f)}while(Ts);return g}function nw(){var i=B.H,l=i.useState()[0];return l=typeof l.then=="function"?Ll(l):l,i=i.useState()[0],(Be!==null?Be.memoizedState:null)!==i&&(Se.flags|=1024),l}function rd(){var i=ka!==0;return ka=0,i}function id(i,l,a){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~a}function sd(i){if(Ca){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}Ca=!1}Dr=0,nt=Be=Se=null,Ts=!1,zl=ka=0,ws=null}function qt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?Se.memoizedState=nt=i:nt=nt.next=i,nt}function rt(){if(Be===null){var i=Se.alternate;i=i!==null?i.memoizedState:null}else i=Be.next;var l=nt===null?Se.memoizedState:nt.next;if(l!==null)nt=l,Be=i;else{if(i===null)throw Se.alternate===null?Error(r(467)):Error(r(310));Be=i,i={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},nt===null?Se.memoizedState=nt=i:nt=nt.next=i}return nt}function ld(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ll(i){var l=zl;return zl+=1,ws===null&&(ws=[]),i=ey(ws,i,l),l=Se,(nt===null?l.memoizedState:nt.next)===null&&(l=l.alternate,B.H=l===null||l.memoizedState===null?Iy:Vy),i}function Na(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ll(i);if(i.$$typeof===j)return Nt(i)}throw Error(r(438,String(i)))}function od(i){var l=null,a=Se.updateQueue;if(a!==null&&(l=a.memoCache),l==null){var f=Se.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(l={data:f.data.map(function(p){return p.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),a===null&&(a=ld(),Se.updateQueue=a),a.memoCache=l,a=l.data[l.index],a===void 0)for(a=l.data[l.index]=Array(i),f=0;f<i;f++)a[f]=Ne;return l.index++,a}function ir(i,l){return typeof l=="function"?l(i):l}function Aa(i){var l=rt();return ad(l,Be,i)}function ad(i,l,a){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=a;var p=i.baseQueue,g=f.pending;if(g!==null){if(p!==null){var S=p.next;p.next=g.next,g.next=S}l.baseQueue=p=g,f.pending=null}if(g=i.baseState,p===null)i.memoizedState=g;else{l=p.next;var C=S=null,N=null,L=l,q=!1;do{var F=L.lane&-536870913;if(F!==L.lane?(Ae&F)===F:(Dr&F)===F){var _=L.revertLane;if(_===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),F===vs&&(q=!0);else if((Dr&_)===_){L=L.next,_===vs&&(q=!0);continue}else F={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},N===null?(C=N=F,S=g):N=N.next=F,Se.lanes|=_,Ur|=_;F=L.action,Ai&&a(g,F),g=L.hasEagerState?L.eagerState:a(g,F)}else _={lane:F,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},N===null?(C=N=_,S=g):N=N.next=_,Se.lanes|=F,Ur|=F;L=L.next}while(L!==null&&L!==l);if(N===null?S=g:N.next=C,!Wt(g,i.memoizedState)&&(ut=!0,q&&(a=Ss,a!==null)))throw a;i.memoizedState=g,i.baseState=S,i.baseQueue=N,f.lastRenderedState=g}return p===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function ud(i){var l=rt(),a=l.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var f=a.dispatch,p=a.pending,g=l.memoizedState;if(p!==null){a.pending=null;var S=p=p.next;do g=i(g,S.action),S=S.next;while(S!==p);Wt(g,l.memoizedState)||(ut=!0),l.memoizedState=g,l.baseQueue===null&&(l.baseState=g),a.lastRenderedState=g}return[g,f]}function ay(i,l,a){var f=Se,p=rt(),g=Re;if(g){if(a===void 0)throw Error(r(407));a=a()}else a=l();var S=!Wt((Be||p).memoizedState,a);S&&(p.memoizedState=a,ut=!0),p=p.queue;var C=fy.bind(null,f,p,i);if(Bl(2048,8,C,[i]),p.getSnapshot!==l||S||nt!==null&&nt.memoizedState.tag&1){if(f.flags|=2048,Cs(9,Oa(),cy.bind(null,f,p,a,l),null),Ie===null)throw Error(r(349));g||(Dr&124)!==0||uy(f,l,a)}return a}function uy(i,l,a){i.flags|=16384,i={getSnapshot:l,value:a},l=Se.updateQueue,l===null?(l=ld(),Se.updateQueue=l,l.stores=[i]):(a=l.stores,a===null?l.stores=[i]:a.push(i))}function cy(i,l,a,f){l.value=a,l.getSnapshot=f,dy(l)&&hy(i)}function fy(i,l,a){return a(function(){dy(l)&&hy(i)})}function dy(i){var l=i.getSnapshot;i=i.value;try{var a=l();return!Wt(i,a)}catch{return!0}}function hy(i){var l=gs(i,2);l!==null&&ln(l,i,2)}function cd(i){var l=qt();if(typeof i=="function"){var a=i;if(i=a(),Ai){Cr(!0);try{a()}finally{Cr(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:i},l}function py(i,l,a,f){return i.baseState=a,ad(i,Be,typeof f=="function"?f:ir)}function rw(i,l,a,f,p){if(Ra(i))throw Error(r(485));if(i=l.action,i!==null){var g={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){g.listeners.push(S)}};B.T!==null?a(!0):g.isTransition=!1,f(g),a=l.pending,a===null?(g.next=l.pending=g,my(l,g)):(g.next=a.next,l.pending=a.next=g)}}function my(i,l){var a=l.action,f=l.payload,p=i.state;if(l.isTransition){var g=B.T,S={};B.T=S;try{var C=a(p,f),N=B.S;N!==null&&N(S,C),gy(i,l,C)}catch(L){fd(i,l,L)}finally{B.T=g}}else try{g=a(p,f),gy(i,l,g)}catch(L){fd(i,l,L)}}function gy(i,l,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(f){yy(i,l,f)},function(f){return fd(i,l,f)}):yy(i,l,a)}function yy(i,l,a){l.status="fulfilled",l.value=a,by(l),i.state=a,l=i.pending,l!==null&&(a=l.next,a===l?i.pending=null:(a=a.next,l.next=a,my(i,a)))}function fd(i,l,a){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do l.status="rejected",l.reason=a,by(l),l=l.next;while(l!==f)}i.action=null}function by(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function xy(i,l){return l}function vy(i,l){if(Re){var a=Ie.formState;if(a!==null){e:{var f=Se;if(Re){if(Xe){t:{for(var p=Xe,g=Ln;p.nodeType!==8;){if(!g){p=null;break t}if(p=An(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){Xe=An(p.nextSibling),f=p.data==="F!";break e}}wi(f)}f=!1}f&&(l=a[0])}}return a=qt(),a.memoizedState=a.baseState=l,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xy,lastRenderedState:l},a.queue=f,a=Uy.bind(null,Se,f),f.dispatch=a,f=cd(!1),g=gd.bind(null,Se,!1,f.queue),f=qt(),p={state:l,dispatch:null,action:i,pending:null},f.queue=p,a=rw.bind(null,Se,p,g,a),p.dispatch=a,f.memoizedState=i,[l,a,!1]}function Sy(i){var l=rt();return Ey(l,Be,i)}function Ey(i,l,a){if(l=ad(i,l,xy)[0],i=Aa(ir)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var f=Ll(l)}catch(S){throw S===Ol?Ea:S}else f=l;l=rt();var p=l.queue,g=p.dispatch;return a!==l.memoizedState&&(Se.flags|=2048,Cs(9,Oa(),iw.bind(null,p,a),null)),[f,g,i]}function iw(i,l){i.action=l}function Ty(i){var l=rt(),a=Be;if(a!==null)return Ey(l,a,i);rt(),l=l.memoizedState,a=rt();var f=a.queue.dispatch;return a.memoizedState=i,[l,f,!1]}function Cs(i,l,a,f){return i={tag:i,create:a,deps:f,inst:l,next:null},l=Se.updateQueue,l===null&&(l=ld(),Se.updateQueue=l),a=l.lastEffect,a===null?l.lastEffect=i.next=i:(f=a.next,a.next=i,i.next=f,l.lastEffect=i),i}function Oa(){return{destroy:void 0,resource:void 0}}function wy(){return rt().memoizedState}function Ma(i,l,a,f){var p=qt();f=f===void 0?null:f,Se.flags|=i,p.memoizedState=Cs(1|l,Oa(),a,f)}function Bl(i,l,a,f){var p=rt();f=f===void 0?null:f;var g=p.memoizedState.inst;Be!==null&&f!==null&&td(f,Be.memoizedState.deps)?p.memoizedState=Cs(l,g,a,f):(Se.flags|=i,p.memoizedState=Cs(1|l,g,a,f))}function Cy(i,l){Ma(8390656,8,i,l)}function ky(i,l){Bl(2048,8,i,l)}function Ny(i,l){return Bl(4,2,i,l)}function Ay(i,l){return Bl(4,4,i,l)}function Oy(i,l){if(typeof l=="function"){i=i();var a=l(i);return function(){typeof a=="function"?a():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function My(i,l,a){a=a!=null?a.concat([i]):null,Bl(4,4,Oy.bind(null,l,i),a)}function dd(){}function Ry(i,l){var a=rt();l=l===void 0?null:l;var f=a.memoizedState;return l!==null&&td(l,f[1])?f[0]:(a.memoizedState=[i,l],i)}function Dy(i,l){var a=rt();l=l===void 0?null:l;var f=a.memoizedState;if(l!==null&&td(l,f[1]))return f[0];if(f=i(),Ai){Cr(!0);try{i()}finally{Cr(!1)}}return a.memoizedState=[f,l],f}function hd(i,l,a){return a===void 0||(Dr&1073741824)!==0?i.memoizedState=l:(i.memoizedState=a,i=L0(),Se.lanes|=i,Ur|=i,a)}function jy(i,l,a,f){return Wt(a,l)?a:Es.current!==null?(i=hd(i,a,f),Wt(i,l)||(ut=!0),i):(Dr&42)===0?(ut=!0,i.memoizedState=a):(i=L0(),Se.lanes|=i,Ur|=i,l)}function zy(i,l,a,f,p){var g=G.p;G.p=g!==0&&8>g?g:8;var S=B.T,C={};B.T=C,gd(i,!1,l,a);try{var N=p(),L=B.S;if(L!==null&&L(C,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var q=ew(N,f);_l(i,l,q,sn(i))}else _l(i,l,f,sn(i))}catch(F){_l(i,l,{then:function(){},status:"rejected",reason:F},sn())}finally{G.p=g,B.T=S}}function sw(){}function pd(i,l,a,f){if(i.tag!==5)throw Error(r(476));var p=Ly(i).queue;zy(i,p,l,re,a===null?sw:function(){return By(i),a(f)})}function Ly(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:re},next:null};var a={};return l.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:a},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function By(i){var l=Ly(i).next.queue;_l(i,l,{},sn())}function md(){return Nt(to)}function _y(){return rt().memoizedState}function Hy(){return rt().memoizedState}function lw(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var a=sn();i=Mr(a);var f=Rr(l,i,a);f!==null&&(ln(f,l,a),Rl(f,l,a)),l={cache:$f()},i.payload=l;return}l=l.return}}function ow(i,l,a){var f=sn();a={lane:f,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ra(i)?Py(l,a):(a=Lf(i,l,a,f),a!==null&&(ln(a,i,f),qy(a,l,f)))}function Uy(i,l,a){var f=sn();_l(i,l,a,f)}function _l(i,l,a,f){var p={lane:f,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ra(i))Py(l,p);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=l.lastRenderedReducer,g!==null))try{var S=l.lastRenderedState,C=g(S,a);if(p.hasEagerState=!0,p.eagerState=C,Wt(C,S))return pa(i,l,p,0),Ie===null&&ha(),!1}catch{}finally{}if(a=Lf(i,l,p,f),a!==null)return ln(a,i,f),qy(a,l,f),!0}return!1}function gd(i,l,a,f){if(f={lane:2,revertLane:Yd(),action:f,hasEagerState:!1,eagerState:null,next:null},Ra(i)){if(l)throw Error(r(479))}else l=Lf(i,a,f,2),l!==null&&ln(l,i,2)}function Ra(i){var l=i.alternate;return i===Se||l!==null&&l===Se}function Py(i,l){Ts=Ca=!0;var a=i.pending;a===null?l.next=l:(l.next=a.next,a.next=l),i.pending=l}function qy(i,l,a){if((a&4194048)!==0){var f=l.lanes;f&=i.pendingLanes,a|=f,l.lanes=a,Jm(i,a)}}var Da={readContext:Nt,use:Na,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useLayoutEffect:et,useInsertionEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useSyncExternalStore:et,useId:et,useHostTransitionStatus:et,useFormState:et,useActionState:et,useOptimistic:et,useMemoCache:et,useCacheRefresh:et},Iy={readContext:Nt,use:Na,useCallback:function(i,l){return qt().memoizedState=[i,l===void 0?null:l],i},useContext:Nt,useEffect:Cy,useImperativeHandle:function(i,l,a){a=a!=null?a.concat([i]):null,Ma(4194308,4,Oy.bind(null,l,i),a)},useLayoutEffect:function(i,l){return Ma(4194308,4,i,l)},useInsertionEffect:function(i,l){Ma(4,2,i,l)},useMemo:function(i,l){var a=qt();l=l===void 0?null:l;var f=i();if(Ai){Cr(!0);try{i()}finally{Cr(!1)}}return a.memoizedState=[f,l],f},useReducer:function(i,l,a){var f=qt();if(a!==void 0){var p=a(l);if(Ai){Cr(!0);try{a(l)}finally{Cr(!1)}}}else p=l;return f.memoizedState=f.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},f.queue=i,i=i.dispatch=ow.bind(null,Se,i),[f.memoizedState,i]},useRef:function(i){var l=qt();return i={current:i},l.memoizedState=i},useState:function(i){i=cd(i);var l=i.queue,a=Uy.bind(null,Se,l);return l.dispatch=a,[i.memoizedState,a]},useDebugValue:dd,useDeferredValue:function(i,l){var a=qt();return hd(a,i,l)},useTransition:function(){var i=cd(!1);return i=zy.bind(null,Se,i.queue,!0,!1),qt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,a){var f=Se,p=qt();if(Re){if(a===void 0)throw Error(r(407));a=a()}else{if(a=l(),Ie===null)throw Error(r(349));(Ae&124)!==0||uy(f,l,a)}p.memoizedState=a;var g={value:a,getSnapshot:l};return p.queue=g,Cy(fy.bind(null,f,g,i),[i]),f.flags|=2048,Cs(9,Oa(),cy.bind(null,f,g,a,l),null),a},useId:function(){var i=qt(),l=Ie.identifierPrefix;if(Re){var a=tr,f=er;a=(f&~(1<<32-Zt(f)-1)).toString(32)+a,l="«"+l+"R"+a,a=ka++,0<a&&(l+="H"+a.toString(32)),l+="»"}else a=tw++,l="«"+l+"r"+a.toString(32)+"»";return i.memoizedState=l},useHostTransitionStatus:md,useFormState:vy,useActionState:vy,useOptimistic:function(i){var l=qt();l.memoizedState=l.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=a,l=gd.bind(null,Se,!0,a),a.dispatch=l,[i,l]},useMemoCache:od,useCacheRefresh:function(){return qt().memoizedState=lw.bind(null,Se)}},Vy={readContext:Nt,use:Na,useCallback:Ry,useContext:Nt,useEffect:ky,useImperativeHandle:My,useInsertionEffect:Ny,useLayoutEffect:Ay,useMemo:Dy,useReducer:Aa,useRef:wy,useState:function(){return Aa(ir)},useDebugValue:dd,useDeferredValue:function(i,l){var a=rt();return jy(a,Be.memoizedState,i,l)},useTransition:function(){var i=Aa(ir)[0],l=rt().memoizedState;return[typeof i=="boolean"?i:Ll(i),l]},useSyncExternalStore:ay,useId:_y,useHostTransitionStatus:md,useFormState:Sy,useActionState:Sy,useOptimistic:function(i,l){var a=rt();return py(a,Be,i,l)},useMemoCache:od,useCacheRefresh:Hy},aw={readContext:Nt,use:Na,useCallback:Ry,useContext:Nt,useEffect:ky,useImperativeHandle:My,useInsertionEffect:Ny,useLayoutEffect:Ay,useMemo:Dy,useReducer:ud,useRef:wy,useState:function(){return ud(ir)},useDebugValue:dd,useDeferredValue:function(i,l){var a=rt();return Be===null?hd(a,i,l):jy(a,Be.memoizedState,i,l)},useTransition:function(){var i=ud(ir)[0],l=rt().memoizedState;return[typeof i=="boolean"?i:Ll(i),l]},useSyncExternalStore:ay,useId:_y,useHostTransitionStatus:md,useFormState:Ty,useActionState:Ty,useOptimistic:function(i,l){var a=rt();return Be!==null?py(a,Be,i,l):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:od,useCacheRefresh:Hy},ks=null,Hl=0;function ja(i){var l=Hl;return Hl+=1,ks===null&&(ks=[]),ey(ks,i,l)}function Ul(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function za(i,l){throw l.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(l),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function Fy(i){var l=i._init;return l(i._payload)}function $y(i){function l(D,M){if(i){var z=D.deletions;z===null?(D.deletions=[M],D.flags|=16):z.push(M)}}function a(D,M){if(!i)return null;for(;M!==null;)l(D,M),M=M.sibling;return null}function f(D){for(var M=new Map;D!==null;)D.key!==null?M.set(D.key,D):M.set(D.index,D),D=D.sibling;return M}function p(D,M){return D=Wn(D,M),D.index=0,D.sibling=null,D}function g(D,M,z){return D.index=z,i?(z=D.alternate,z!==null?(z=z.index,z<M?(D.flags|=67108866,M):z):(D.flags|=67108866,M)):(D.flags|=1048576,M)}function S(D){return i&&D.alternate===null&&(D.flags|=67108866),D}function C(D,M,z,V){return M===null||M.tag!==6?(M=_f(z,D.mode,V),M.return=D,M):(M=p(M,z),M.return=D,M)}function N(D,M,z,V){var te=z.type;return te===x?q(D,M,z.props.children,V,z.key):M!==null&&(M.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===ie&&Fy(te)===M.type)?(M=p(M,z.props),Ul(M,z),M.return=D,M):(M=ga(z.type,z.key,z.props,null,D.mode,V),Ul(M,z),M.return=D,M)}function L(D,M,z,V){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=Hf(z,D.mode,V),M.return=D,M):(M=p(M,z.children||[]),M.return=D,M)}function q(D,M,z,V,te){return M===null||M.tag!==7?(M=vi(z,D.mode,V,te),M.return=D,M):(M=p(M,z),M.return=D,M)}function F(D,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=_f(""+M,D.mode,z),M.return=D,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case b:return z=ga(M.type,M.key,M.props,null,D.mode,z),Ul(z,M),z.return=D,z;case v:return M=Hf(M,D.mode,z),M.return=D,M;case ie:var V=M._init;return M=V(M._payload),F(D,M,z)}if(ue(M)||ge(M))return M=vi(M,D.mode,z,null),M.return=D,M;if(typeof M.then=="function")return F(D,ja(M),z);if(M.$$typeof===j)return F(D,va(D,M),z);za(D,M)}return null}function _(D,M,z,V){var te=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return te!==null?null:C(D,M,""+z,V);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return z.key===te?N(D,M,z,V):null;case v:return z.key===te?L(D,M,z,V):null;case ie:return te=z._init,z=te(z._payload),_(D,M,z,V)}if(ue(z)||ge(z))return te!==null?null:q(D,M,z,V,null);if(typeof z.then=="function")return _(D,M,ja(z),V);if(z.$$typeof===j)return _(D,M,va(D,z),V);za(D,z)}return null}function H(D,M,z,V,te){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return D=D.get(z)||null,C(M,D,""+V,te);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case b:return D=D.get(V.key===null?z:V.key)||null,N(M,D,V,te);case v:return D=D.get(V.key===null?z:V.key)||null,L(M,D,V,te);case ie:var we=V._init;return V=we(V._payload),H(D,M,z,V,te)}if(ue(V)||ge(V))return D=D.get(z)||null,q(M,D,V,te,null);if(typeof V.then=="function")return H(D,M,z,ja(V),te);if(V.$$typeof===j)return H(D,M,z,va(M,V),te);za(M,V)}return null}function fe(D,M,z,V){for(var te=null,we=null,se=M,ce=M=0,ft=null;se!==null&&ce<z.length;ce++){se.index>ce?(ft=se,se=null):ft=se.sibling;var Me=_(D,se,z[ce],V);if(Me===null){se===null&&(se=ft);break}i&&se&&Me.alternate===null&&l(D,se),M=g(Me,M,ce),we===null?te=Me:we.sibling=Me,we=Me,se=ft}if(ce===z.length)return a(D,se),Re&&Ei(D,ce),te;if(se===null){for(;ce<z.length;ce++)se=F(D,z[ce],V),se!==null&&(M=g(se,M,ce),we===null?te=se:we.sibling=se,we=se);return Re&&Ei(D,ce),te}for(se=f(se);ce<z.length;ce++)ft=H(se,D,ce,z[ce],V),ft!==null&&(i&&ft.alternate!==null&&se.delete(ft.key===null?ce:ft.key),M=g(ft,M,ce),we===null?te=ft:we.sibling=ft,we=ft);return i&&se.forEach(function(Yr){return l(D,Yr)}),Re&&Ei(D,ce),te}function ae(D,M,z,V){if(z==null)throw Error(r(151));for(var te=null,we=null,se=M,ce=M=0,ft=null,Me=z.next();se!==null&&!Me.done;ce++,Me=z.next()){se.index>ce?(ft=se,se=null):ft=se.sibling;var Yr=_(D,se,Me.value,V);if(Yr===null){se===null&&(se=ft);break}i&&se&&Yr.alternate===null&&l(D,se),M=g(Yr,M,ce),we===null?te=Yr:we.sibling=Yr,we=Yr,se=ft}if(Me.done)return a(D,se),Re&&Ei(D,ce),te;if(se===null){for(;!Me.done;ce++,Me=z.next())Me=F(D,Me.value,V),Me!==null&&(M=g(Me,M,ce),we===null?te=Me:we.sibling=Me,we=Me);return Re&&Ei(D,ce),te}for(se=f(se);!Me.done;ce++,Me=z.next())Me=H(se,D,ce,Me.value,V),Me!==null&&(i&&Me.alternate!==null&&se.delete(Me.key===null?ce:Me.key),M=g(Me,M,ce),we===null?te=Me:we.sibling=Me,we=Me);return i&&se.forEach(function(uC){return l(D,uC)}),Re&&Ei(D,ce),te}function He(D,M,z,V){if(typeof z=="object"&&z!==null&&z.type===x&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case b:e:{for(var te=z.key;M!==null;){if(M.key===te){if(te=z.type,te===x){if(M.tag===7){a(D,M.sibling),V=p(M,z.props.children),V.return=D,D=V;break e}}else if(M.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===ie&&Fy(te)===M.type){a(D,M.sibling),V=p(M,z.props),Ul(V,z),V.return=D,D=V;break e}a(D,M);break}else l(D,M);M=M.sibling}z.type===x?(V=vi(z.props.children,D.mode,V,z.key),V.return=D,D=V):(V=ga(z.type,z.key,z.props,null,D.mode,V),Ul(V,z),V.return=D,D=V)}return S(D);case v:e:{for(te=z.key;M!==null;){if(M.key===te)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(D,M.sibling),V=p(M,z.children||[]),V.return=D,D=V;break e}else{a(D,M);break}else l(D,M);M=M.sibling}V=Hf(z,D.mode,V),V.return=D,D=V}return S(D);case ie:return te=z._init,z=te(z._payload),He(D,M,z,V)}if(ue(z))return fe(D,M,z,V);if(ge(z)){if(te=ge(z),typeof te!="function")throw Error(r(150));return z=te.call(z),ae(D,M,z,V)}if(typeof z.then=="function")return He(D,M,ja(z),V);if(z.$$typeof===j)return He(D,M,va(D,z),V);za(D,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(D,M.sibling),V=p(M,z),V.return=D,D=V):(a(D,M),V=_f(z,D.mode,V),V.return=D,D=V),S(D)):a(D,M)}return function(D,M,z,V){try{Hl=0;var te=He(D,M,z,V);return ks=null,te}catch(se){if(se===Ol||se===Ea)throw se;var we=en(29,se,null,D.mode);return we.lanes=V,we.return=D,we}finally{}}}var Ns=$y(!0),Gy=$y(!1),gn=$(null),Bn=null;function jr(i){var l=i.alternate;Z(lt,lt.current&1),Z(gn,i),Bn===null&&(l===null||Es.current!==null||l.memoizedState!==null)&&(Bn=i)}function Ky(i){if(i.tag===22){if(Z(lt,lt.current),Z(gn,i),Bn===null){var l=i.alternate;l!==null&&l.memoizedState!==null&&(Bn=i)}}else zr()}function zr(){Z(lt,lt.current),Z(gn,gn.current)}function sr(i){ee(gn),Bn===i&&(Bn=null),ee(lt)}var lt=$(0);function La(i){for(var l=i;l!==null;){if(l.tag===13){var a=l.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||lh(a)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function yd(i,l,a,f){l=i.memoizedState,a=a(f,l),a=a==null?l:m({},l,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var bd={enqueueSetState:function(i,l,a){i=i._reactInternals;var f=sn(),p=Mr(f);p.payload=l,a!=null&&(p.callback=a),l=Rr(i,p,f),l!==null&&(ln(l,i,f),Rl(l,i,f))},enqueueReplaceState:function(i,l,a){i=i._reactInternals;var f=sn(),p=Mr(f);p.tag=1,p.payload=l,a!=null&&(p.callback=a),l=Rr(i,p,f),l!==null&&(ln(l,i,f),Rl(l,i,f))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var a=sn(),f=Mr(a);f.tag=2,l!=null&&(f.callback=l),l=Rr(i,f,a),l!==null&&(ln(l,i,a),Rl(l,i,a))}};function Yy(i,l,a,f,p,g,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,g,S):l.prototype&&l.prototype.isPureReactComponent?!Sl(a,f)||!Sl(p,g):!0}function Jy(i,l,a,f){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(a,f),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(a,f),l.state!==i&&bd.enqueueReplaceState(l,l.state,null)}function Oi(i,l){var a=l;if("ref"in l){a={};for(var f in l)f!=="ref"&&(a[f]=l[f])}if(i=i.defaultProps){a===l&&(a=m({},a));for(var p in i)a[p]===void 0&&(a[p]=i[p])}return a}var Ba=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Xy(i){Ba(i)}function Qy(i){console.error(i)}function Zy(i){Ba(i)}function _a(i,l){try{var a=i.onUncaughtError;a(l.value,{componentStack:l.stack})}catch(f){setTimeout(function(){throw f})}}function Wy(i,l,a){try{var f=i.onCaughtError;f(a.value,{componentStack:a.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function xd(i,l,a){return a=Mr(a),a.tag=3,a.payload={element:null},a.callback=function(){_a(i,l)},a}function e0(i){return i=Mr(i),i.tag=3,i}function t0(i,l,a,f){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var g=f.value;i.payload=function(){return p(g)},i.callback=function(){Wy(l,a,f)}}var S=a.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){Wy(l,a,f),typeof p!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var C=f.stack;this.componentDidCatch(f.value,{componentStack:C!==null?C:""})})}function uw(i,l,a,f,p){if(a.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(l=a.alternate,l!==null&&kl(l,a,p,!0),a=gn.current,a!==null){switch(a.tag){case 13:return Bn===null?Vd():a.alternate===null&&Qe===0&&(Qe=3),a.flags&=-257,a.flags|=65536,a.lanes=p,f===Yf?a.flags|=16384:(l=a.updateQueue,l===null?a.updateQueue=new Set([f]):l.add(f),$d(i,f,p)),!1;case 22:return a.flags|=65536,f===Yf?a.flags|=16384:(l=a.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([f])},a.updateQueue=l):(a=l.retryQueue,a===null?l.retryQueue=new Set([f]):a.add(f)),$d(i,f,p)),!1}throw Error(r(435,a.tag))}return $d(i,f,p),Vd(),!1}if(Re)return l=gn.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=p,f!==qf&&(i=Error(r(422),{cause:f}),Cl(dn(i,a)))):(f!==qf&&(l=Error(r(423),{cause:f}),Cl(dn(l,a))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,f=dn(f,a),p=xd(i.stateNode,f,p),Qf(i,p),Qe!==4&&(Qe=2)),!1;var g=Error(r(520),{cause:f});if(g=dn(g,a),Gl===null?Gl=[g]:Gl.push(g),Qe!==4&&(Qe=2),l===null)return!0;f=dn(f,a),a=l;do{switch(a.tag){case 3:return a.flags|=65536,i=p&-p,a.lanes|=i,i=xd(a.stateNode,f,i),Qf(a,i),!1;case 1:if(l=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Pr===null||!Pr.has(g))))return a.flags|=65536,p&=-p,a.lanes|=p,p=e0(p),t0(p,i,a,f),Qf(a,p),!1}a=a.return}while(a!==null);return!1}var n0=Error(r(461)),ut=!1;function yt(i,l,a,f){l.child=i===null?Gy(l,null,a,f):Ns(l,i.child,a,f)}function r0(i,l,a,f,p){a=a.render;var g=l.ref;if("ref"in f){var S={};for(var C in f)C!=="ref"&&(S[C]=f[C])}else S=f;return ki(l),f=nd(i,l,a,S,g,p),C=rd(),i!==null&&!ut?(id(i,l,p),lr(i,l,p)):(Re&&C&&Uf(l),l.flags|=1,yt(i,l,f,p),l.child)}function i0(i,l,a,f,p){if(i===null){var g=a.type;return typeof g=="function"&&!Bf(g)&&g.defaultProps===void 0&&a.compare===null?(l.tag=15,l.type=g,s0(i,l,g,f,p)):(i=ga(a.type,null,f,l,l.mode,p),i.ref=l.ref,i.return=l,l.child=i)}if(g=i.child,!Nd(i,p)){var S=g.memoizedProps;if(a=a.compare,a=a!==null?a:Sl,a(S,f)&&i.ref===l.ref)return lr(i,l,p)}return l.flags|=1,i=Wn(g,f),i.ref=l.ref,i.return=l,l.child=i}function s0(i,l,a,f,p){if(i!==null){var g=i.memoizedProps;if(Sl(g,f)&&i.ref===l.ref)if(ut=!1,l.pendingProps=f=g,Nd(i,p))(i.flags&131072)!==0&&(ut=!0);else return l.lanes=i.lanes,lr(i,l,p)}return vd(i,l,a,f,p)}function l0(i,l,a){var f=l.pendingProps,p=f.children,g=i!==null?i.memoizedState:null;if(f.mode==="hidden"){if((l.flags&128)!==0){if(f=g!==null?g.baseLanes|a:a,i!==null){for(p=l.child=i.child,g=0;p!==null;)g=g|p.lanes|p.childLanes,p=p.sibling;l.childLanes=g&~f}else l.childLanes=0,l.child=null;return o0(i,l,f,a)}if((a&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&Sa(l,g!==null?g.cachePool:null),g!==null?sy(l,g):Wf(),Ky(l);else return l.lanes=l.childLanes=536870912,o0(i,l,g!==null?g.baseLanes|a:a,a)}else g!==null?(Sa(l,g.cachePool),sy(l,g),zr(),l.memoizedState=null):(i!==null&&Sa(l,null),Wf(),zr());return yt(i,l,p,a),l.child}function o0(i,l,a,f){var p=Kf();return p=p===null?null:{parent:st._currentValue,pool:p},l.memoizedState={baseLanes:a,cachePool:p},i!==null&&Sa(l,null),Wf(),Ky(l),i!==null&&kl(i,l,f,!0),null}function Ha(i,l){var a=l.ref;if(a===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(i===null||i.ref!==a)&&(l.flags|=4194816)}}function vd(i,l,a,f,p){return ki(l),a=nd(i,l,a,f,void 0,p),f=rd(),i!==null&&!ut?(id(i,l,p),lr(i,l,p)):(Re&&f&&Uf(l),l.flags|=1,yt(i,l,a,p),l.child)}function a0(i,l,a,f,p,g){return ki(l),l.updateQueue=null,a=oy(l,f,a,p),ly(i),f=rd(),i!==null&&!ut?(id(i,l,g),lr(i,l,g)):(Re&&f&&Uf(l),l.flags|=1,yt(i,l,a,g),l.child)}function u0(i,l,a,f,p){if(ki(l),l.stateNode===null){var g=ys,S=a.contextType;typeof S=="object"&&S!==null&&(g=Nt(S)),g=new a(f,g),l.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=bd,l.stateNode=g,g._reactInternals=l,g=l.stateNode,g.props=f,g.state=l.memoizedState,g.refs={},Jf(l),S=a.contextType,g.context=typeof S=="object"&&S!==null?Nt(S):ys,g.state=l.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(yd(l,a,S,f),g.state=l.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(S=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),S!==g.state&&bd.enqueueReplaceState(g,g.state,null),jl(l,f,g,p),Dl(),g.state=l.memoizedState),typeof g.componentDidMount=="function"&&(l.flags|=4194308),f=!0}else if(i===null){g=l.stateNode;var C=l.memoizedProps,N=Oi(a,C);g.props=N;var L=g.context,q=a.contextType;S=ys,typeof q=="object"&&q!==null&&(S=Nt(q));var F=a.getDerivedStateFromProps;q=typeof F=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=l.pendingProps!==C,q||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||L!==S)&&Jy(l,g,f,S),Or=!1;var _=l.memoizedState;g.state=_,jl(l,f,g,p),Dl(),L=l.memoizedState,C||_!==L||Or?(typeof F=="function"&&(yd(l,a,F,f),L=l.memoizedState),(N=Or||Yy(l,a,N,f,_,L,S))?(q||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(l.flags|=4194308)):(typeof g.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=f,l.memoizedState=L),g.props=f,g.state=L,g.context=S,f=N):(typeof g.componentDidMount=="function"&&(l.flags|=4194308),f=!1)}else{g=l.stateNode,Xf(i,l),S=l.memoizedProps,q=Oi(a,S),g.props=q,F=l.pendingProps,_=g.context,L=a.contextType,N=ys,typeof L=="object"&&L!==null&&(N=Nt(L)),C=a.getDerivedStateFromProps,(L=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==F||_!==N)&&Jy(l,g,f,N),Or=!1,_=l.memoizedState,g.state=_,jl(l,f,g,p),Dl();var H=l.memoizedState;S!==F||_!==H||Or||i!==null&&i.dependencies!==null&&xa(i.dependencies)?(typeof C=="function"&&(yd(l,a,C,f),H=l.memoizedState),(q=Or||Yy(l,a,q,f,_,H,N)||i!==null&&i.dependencies!==null&&xa(i.dependencies))?(L||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(f,H,N),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(f,H,N)),typeof g.componentDidUpdate=="function"&&(l.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===i.memoizedProps&&_===i.memoizedState||(l.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&_===i.memoizedState||(l.flags|=1024),l.memoizedProps=f,l.memoizedState=H),g.props=f,g.state=H,g.context=N,f=q):(typeof g.componentDidUpdate!="function"||S===i.memoizedProps&&_===i.memoizedState||(l.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&_===i.memoizedState||(l.flags|=1024),f=!1)}return g=f,Ha(i,l),f=(l.flags&128)!==0,g||f?(g=l.stateNode,a=f&&typeof a.getDerivedStateFromError!="function"?null:g.render(),l.flags|=1,i!==null&&f?(l.child=Ns(l,i.child,null,p),l.child=Ns(l,null,a,p)):yt(i,l,a,p),l.memoizedState=g.state,i=l.child):i=lr(i,l,p),i}function c0(i,l,a,f){return wl(),l.flags|=256,yt(i,l,a,f),l.child}var Sd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ed(i){return{baseLanes:i,cachePool:Qg()}}function Td(i,l,a){return i=i!==null?i.childLanes&~a:0,l&&(i|=yn),i}function f0(i,l,a){var f=l.pendingProps,p=!1,g=(l.flags&128)!==0,S;if((S=g)||(S=i!==null&&i.memoizedState===null?!1:(lt.current&2)!==0),S&&(p=!0,l.flags&=-129),S=(l.flags&32)!==0,l.flags&=-33,i===null){if(Re){if(p?jr(l):zr(),Re){var C=Xe,N;if(N=C){e:{for(N=C,C=Ln;N.nodeType!==8;){if(!C){C=null;break e}if(N=An(N.nextSibling),N===null){C=null;break e}}C=N}C!==null?(l.memoizedState={dehydrated:C,treeContext:Si!==null?{id:er,overflow:tr}:null,retryLane:536870912,hydrationErrors:null},N=en(18,null,null,0),N.stateNode=C,N.return=l,l.child=N,jt=l,Xe=null,N=!0):N=!1}N||wi(l)}if(C=l.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return lh(C)?l.lanes=32:l.lanes=536870912,null;sr(l)}return C=f.children,f=f.fallback,p?(zr(),p=l.mode,C=Ua({mode:"hidden",children:C},p),f=vi(f,p,a,null),C.return=l,f.return=l,C.sibling=f,l.child=C,p=l.child,p.memoizedState=Ed(a),p.childLanes=Td(i,S,a),l.memoizedState=Sd,f):(jr(l),wd(l,C))}if(N=i.memoizedState,N!==null&&(C=N.dehydrated,C!==null)){if(g)l.flags&256?(jr(l),l.flags&=-257,l=Cd(i,l,a)):l.memoizedState!==null?(zr(),l.child=i.child,l.flags|=128,l=null):(zr(),p=f.fallback,C=l.mode,f=Ua({mode:"visible",children:f.children},C),p=vi(p,C,a,null),p.flags|=2,f.return=l,p.return=l,f.sibling=p,l.child=f,Ns(l,i.child,null,a),f=l.child,f.memoizedState=Ed(a),f.childLanes=Td(i,S,a),l.memoizedState=Sd,l=p);else if(jr(l),lh(C)){if(S=C.nextSibling&&C.nextSibling.dataset,S)var L=S.dgst;S=L,f=Error(r(419)),f.stack="",f.digest=S,Cl({value:f,source:null,stack:null}),l=Cd(i,l,a)}else if(ut||kl(i,l,a,!1),S=(a&i.childLanes)!==0,ut||S){if(S=Ie,S!==null&&(f=a&-a,f=(f&42)!==0?1:of(f),f=(f&(S.suspendedLanes|a))!==0?0:f,f!==0&&f!==N.retryLane))throw N.retryLane=f,gs(i,f),ln(S,i,f),n0;C.data==="$?"||Vd(),l=Cd(i,l,a)}else C.data==="$?"?(l.flags|=192,l.child=i.child,l=null):(i=N.treeContext,Xe=An(C.nextSibling),jt=l,Re=!0,Ti=null,Ln=!1,i!==null&&(pn[mn++]=er,pn[mn++]=tr,pn[mn++]=Si,er=i.id,tr=i.overflow,Si=l),l=wd(l,f.children),l.flags|=4096);return l}return p?(zr(),p=f.fallback,C=l.mode,N=i.child,L=N.sibling,f=Wn(N,{mode:"hidden",children:f.children}),f.subtreeFlags=N.subtreeFlags&65011712,L!==null?p=Wn(L,p):(p=vi(p,C,a,null),p.flags|=2),p.return=l,f.return=l,f.sibling=p,l.child=f,f=p,p=l.child,C=i.child.memoizedState,C===null?C=Ed(a):(N=C.cachePool,N!==null?(L=st._currentValue,N=N.parent!==L?{parent:L,pool:L}:N):N=Qg(),C={baseLanes:C.baseLanes|a,cachePool:N}),p.memoizedState=C,p.childLanes=Td(i,S,a),l.memoizedState=Sd,f):(jr(l),a=i.child,i=a.sibling,a=Wn(a,{mode:"visible",children:f.children}),a.return=l,a.sibling=null,i!==null&&(S=l.deletions,S===null?(l.deletions=[i],l.flags|=16):S.push(i)),l.child=a,l.memoizedState=null,a)}function wd(i,l){return l=Ua({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function Ua(i,l){return i=en(22,i,null,l),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Cd(i,l,a){return Ns(l,i.child,null,a),i=wd(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function d0(i,l,a){i.lanes|=l;var f=i.alternate;f!==null&&(f.lanes|=l),Vf(i.return,l,a)}function kd(i,l,a,f,p){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:f,tail:a,tailMode:p}:(g.isBackwards=l,g.rendering=null,g.renderingStartTime=0,g.last=f,g.tail=a,g.tailMode=p)}function h0(i,l,a){var f=l.pendingProps,p=f.revealOrder,g=f.tail;if(yt(i,l,f.children,a),f=lt.current,(f&2)!==0)f=f&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&d0(i,a,l);else if(i.tag===19)d0(i,a,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}switch(Z(lt,f),p){case"forwards":for(a=l.child,p=null;a!==null;)i=a.alternate,i!==null&&La(i)===null&&(p=a),a=a.sibling;a=p,a===null?(p=l.child,l.child=null):(p=a.sibling,a.sibling=null),kd(l,!1,p,a,g);break;case"backwards":for(a=null,p=l.child,l.child=null;p!==null;){if(i=p.alternate,i!==null&&La(i)===null){l.child=p;break}i=p.sibling,p.sibling=a,a=p,p=i}kd(l,!0,a,null,g);break;case"together":kd(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function lr(i,l,a){if(i!==null&&(l.dependencies=i.dependencies),Ur|=l.lanes,(a&l.childLanes)===0)if(i!==null){if(kl(i,l,a,!1),(a&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(r(153));if(l.child!==null){for(i=l.child,a=Wn(i,i.pendingProps),l.child=a,a.return=l;i.sibling!==null;)i=i.sibling,a=a.sibling=Wn(i,i.pendingProps),a.return=l;a.sibling=null}return l.child}function Nd(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&xa(i)))}function cw(i,l,a){switch(l.tag){case 3:Fe(l,l.stateNode.containerInfo),Ar(l,st,i.memoizedState.cache),wl();break;case 27:case 5:tf(l);break;case 4:Fe(l,l.stateNode.containerInfo);break;case 10:Ar(l,l.type,l.memoizedProps.value);break;case 13:var f=l.memoizedState;if(f!==null)return f.dehydrated!==null?(jr(l),l.flags|=128,null):(a&l.child.childLanes)!==0?f0(i,l,a):(jr(l),i=lr(i,l,a),i!==null?i.sibling:null);jr(l);break;case 19:var p=(i.flags&128)!==0;if(f=(a&l.childLanes)!==0,f||(kl(i,l,a,!1),f=(a&l.childLanes)!==0),p){if(f)return h0(i,l,a);l.flags|=128}if(p=l.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Z(lt,lt.current),f)break;return null;case 22:case 23:return l.lanes=0,l0(i,l,a);case 24:Ar(l,st,i.memoizedState.cache)}return lr(i,l,a)}function p0(i,l,a){if(i!==null)if(i.memoizedProps!==l.pendingProps)ut=!0;else{if(!Nd(i,a)&&(l.flags&128)===0)return ut=!1,cw(i,l,a);ut=(i.flags&131072)!==0}else ut=!1,Re&&(l.flags&1048576)!==0&&Fg(l,ba,l.index);switch(l.lanes=0,l.tag){case 16:e:{i=l.pendingProps;var f=l.elementType,p=f._init;if(f=p(f._payload),l.type=f,typeof f=="function")Bf(f)?(i=Oi(f,i),l.tag=1,l=u0(null,l,f,i,a)):(l.tag=0,l=vd(null,l,f,i,a));else{if(f!=null){if(p=f.$$typeof,p===I){l.tag=11,l=r0(null,l,f,i,a);break e}else if(p===Q){l.tag=14,l=i0(null,l,f,i,a);break e}}throw l=Ht(f)||f,Error(r(306,l,""))}}return l;case 0:return vd(i,l,l.type,l.pendingProps,a);case 1:return f=l.type,p=Oi(f,l.pendingProps),u0(i,l,f,p,a);case 3:e:{if(Fe(l,l.stateNode.containerInfo),i===null)throw Error(r(387));f=l.pendingProps;var g=l.memoizedState;p=g.element,Xf(i,l),jl(l,f,null,a);var S=l.memoizedState;if(f=S.cache,Ar(l,st,f),f!==g.cache&&Ff(l,[st],a,!0),Dl(),f=S.element,g.isDehydrated)if(g={element:f,isDehydrated:!1,cache:S.cache},l.updateQueue.baseState=g,l.memoizedState=g,l.flags&256){l=c0(i,l,f,a);break e}else if(f!==p){p=dn(Error(r(424)),l),Cl(p),l=c0(i,l,f,a);break e}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Xe=An(i.firstChild),jt=l,Re=!0,Ti=null,Ln=!0,a=Gy(l,null,f,a),l.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(wl(),f===p){l=lr(i,l,a);break e}yt(i,l,f,a)}l=l.child}return l;case 26:return Ha(i,l),i===null?(a=bb(l.type,null,l.pendingProps,null))?l.memoizedState=a:Re||(a=l.type,i=l.pendingProps,f=Wa(pe.current).createElement(a),f[kt]=l,f[Ut]=i,xt(f,a,i),at(f),l.stateNode=f):l.memoizedState=bb(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return tf(l),i===null&&Re&&(f=l.stateNode=mb(l.type,l.pendingProps,pe.current),jt=l,Ln=!0,p=Xe,Vr(l.type)?(oh=p,Xe=An(f.firstChild)):Xe=p),yt(i,l,l.pendingProps.children,a),Ha(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&Re&&((p=f=Xe)&&(f=Hw(f,l.type,l.pendingProps,Ln),f!==null?(l.stateNode=f,jt=l,Xe=An(f.firstChild),Ln=!1,p=!0):p=!1),p||wi(l)),tf(l),p=l.type,g=l.pendingProps,S=i!==null?i.memoizedProps:null,f=g.children,rh(p,g)?f=null:S!==null&&rh(p,S)&&(l.flags|=32),l.memoizedState!==null&&(p=nd(i,l,nw,null,null,a),to._currentValue=p),Ha(i,l),yt(i,l,f,a),l.child;case 6:return i===null&&Re&&((i=a=Xe)&&(a=Uw(a,l.pendingProps,Ln),a!==null?(l.stateNode=a,jt=l,Xe=null,i=!0):i=!1),i||wi(l)),null;case 13:return f0(i,l,a);case 4:return Fe(l,l.stateNode.containerInfo),f=l.pendingProps,i===null?l.child=Ns(l,null,f,a):yt(i,l,f,a),l.child;case 11:return r0(i,l,l.type,l.pendingProps,a);case 7:return yt(i,l,l.pendingProps,a),l.child;case 8:return yt(i,l,l.pendingProps.children,a),l.child;case 12:return yt(i,l,l.pendingProps.children,a),l.child;case 10:return f=l.pendingProps,Ar(l,l.type,f.value),yt(i,l,f.children,a),l.child;case 9:return p=l.type._context,f=l.pendingProps.children,ki(l),p=Nt(p),f=f(p),l.flags|=1,yt(i,l,f,a),l.child;case 14:return i0(i,l,l.type,l.pendingProps,a);case 15:return s0(i,l,l.type,l.pendingProps,a);case 19:return h0(i,l,a);case 31:return f=l.pendingProps,a=l.mode,f={mode:f.mode,children:f.children},i===null?(a=Ua(f,a),a.ref=l.ref,l.child=a,a.return=l,l=a):(a=Wn(i.child,f),a.ref=l.ref,l.child=a,a.return=l,l=a),l;case 22:return l0(i,l,a);case 24:return ki(l),f=Nt(st),i===null?(p=Kf(),p===null&&(p=Ie,g=$f(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=a),p=g),l.memoizedState={parent:f,cache:p},Jf(l),Ar(l,st,p)):((i.lanes&a)!==0&&(Xf(i,l),jl(l,null,null,a),Dl()),p=i.memoizedState,g=l.memoizedState,p.parent!==f?(p={parent:f,cache:f},l.memoizedState=p,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=p),Ar(l,st,f)):(f=g.cache,Ar(l,st,f),f!==p.cache&&Ff(l,[st],a,!0))),yt(i,l,l.pendingProps.children,a),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function or(i){i.flags|=4}function m0(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Tb(l)){if(l=gn.current,l!==null&&((Ae&4194048)===Ae?Bn!==null:(Ae&62914560)!==Ae&&(Ae&536870912)===0||l!==Bn))throw Ml=Yf,Zg;i.flags|=8192}}function Pa(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?Km():536870912,i.lanes|=l,Rs|=l)}function Pl(i,l){if(!Re)switch(i.tailMode){case"hidden":l=i.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var f=null;a!==null;)a.alternate!==null&&(f=a),a=a.sibling;f===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Ye(i){var l=i.alternate!==null&&i.alternate.child===i.child,a=0,f=0;if(l)for(var p=i.child;p!==null;)a|=p.lanes|p.childLanes,f|=p.subtreeFlags&65011712,f|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)a|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=f,i.childLanes=a,l}function fw(i,l,a){var f=l.pendingProps;switch(Pf(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(l),null;case 1:return Ye(l),null;case 3:return a=l.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),rr(st),wr(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Tl(l)?or(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Kg())),Ye(l),null;case 26:return a=l.memoizedState,i===null?(or(l),a!==null?(Ye(l),m0(l,a)):(Ye(l),l.flags&=-16777217)):a?a!==i.memoizedState?(or(l),Ye(l),m0(l,a)):(Ye(l),l.flags&=-16777217):(i.memoizedProps!==f&&or(l),Ye(l),l.flags&=-16777217),null;case 27:Qo(l),a=pe.current;var p=l.type;if(i!==null&&l.stateNode!=null)i.memoizedProps!==f&&or(l);else{if(!f){if(l.stateNode===null)throw Error(r(166));return Ye(l),null}i=oe.current,Tl(l)?$g(l):(i=mb(p,f,a),l.stateNode=i,or(l))}return Ye(l),null;case 5:if(Qo(l),a=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==f&&or(l);else{if(!f){if(l.stateNode===null)throw Error(r(166));return Ye(l),null}if(i=oe.current,Tl(l))$g(l);else{switch(p=Wa(pe.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof f.is=="string"?p.createElement("select",{is:f.is}):p.createElement("select"),f.multiple?i.multiple=!0:f.size&&(i.size=f.size);break;default:i=typeof f.is=="string"?p.createElement(a,{is:f.is}):p.createElement(a)}}i[kt]=l,i[Ut]=f;e:for(p=l.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===l)break e;for(;p.sibling===null;){if(p.return===null||p.return===l)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}l.stateNode=i;e:switch(xt(i,a,f),a){case"button":case"input":case"select":case"textarea":i=!!f.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&or(l)}}return Ye(l),l.flags&=-16777217,null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==f&&or(l);else{if(typeof f!="string"&&l.stateNode===null)throw Error(r(166));if(i=pe.current,Tl(l)){if(i=l.stateNode,a=l.memoizedProps,f=null,p=jt,p!==null)switch(p.tag){case 27:case 5:f=p.memoizedProps}i[kt]=l,i=!!(i.nodeValue===a||f!==null&&f.suppressHydrationWarning===!0||ab(i.nodeValue,a)),i||wi(l)}else i=Wa(i).createTextNode(f),i[kt]=l,l.stateNode=i}return Ye(l),null;case 13:if(f=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Tl(l),f!==null&&f.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=l.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[kt]=l}else wl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ye(l),p=!1}else p=Kg(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return l.flags&256?(sr(l),l):(sr(l),null)}if(sr(l),(l.flags&128)!==0)return l.lanes=a,l;if(a=f!==null,i=i!==null&&i.memoizedState!==null,a){f=l.child,p=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(p=f.alternate.memoizedState.cachePool.pool);var g=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(g=f.memoizedState.cachePool.pool),g!==p&&(f.flags|=2048)}return a!==i&&a&&(l.child.flags|=8192),Pa(l,l.updateQueue),Ye(l),null;case 4:return wr(),i===null&&Zd(l.stateNode.containerInfo),Ye(l),null;case 10:return rr(l.type),Ye(l),null;case 19:if(ee(lt),p=l.memoizedState,p===null)return Ye(l),null;if(f=(l.flags&128)!==0,g=p.rendering,g===null)if(f)Pl(p,!1);else{if(Qe!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(g=La(i),g!==null){for(l.flags|=128,Pl(p,!1),i=g.updateQueue,l.updateQueue=i,Pa(l,i),l.subtreeFlags=0,i=a,a=l.child;a!==null;)Vg(a,i),a=a.sibling;return Z(lt,lt.current&1|2),l.child}i=i.sibling}p.tail!==null&&zn()>Va&&(l.flags|=128,f=!0,Pl(p,!1),l.lanes=4194304)}else{if(!f)if(i=La(g),i!==null){if(l.flags|=128,f=!0,i=i.updateQueue,l.updateQueue=i,Pa(l,i),Pl(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!Re)return Ye(l),null}else 2*zn()-p.renderingStartTime>Va&&a!==536870912&&(l.flags|=128,f=!0,Pl(p,!1),l.lanes=4194304);p.isBackwards?(g.sibling=l.child,l.child=g):(i=p.last,i!==null?i.sibling=g:l.child=g,p.last=g)}return p.tail!==null?(l=p.tail,p.rendering=l,p.tail=l.sibling,p.renderingStartTime=zn(),l.sibling=null,i=lt.current,Z(lt,f?i&1|2:i&1),l):(Ye(l),null);case 22:case 23:return sr(l),ed(),f=l.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(l.flags|=8192):f&&(l.flags|=8192),f?(a&536870912)!==0&&(l.flags&128)===0&&(Ye(l),l.subtreeFlags&6&&(l.flags|=8192)):Ye(l),a=l.updateQueue,a!==null&&Pa(l,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==a&&(l.flags|=2048),i!==null&&ee(Ni),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),l.memoizedState.cache!==a&&(l.flags|=2048),rr(st),Ye(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function dw(i,l){switch(Pf(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return rr(st),wr(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return Qo(l),null;case 13:if(sr(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(r(340));wl()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return ee(lt),null;case 4:return wr(),null;case 10:return rr(l.type),null;case 22:case 23:return sr(l),ed(),i!==null&&ee(Ni),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return rr(st),null;case 25:return null;default:return null}}function g0(i,l){switch(Pf(l),l.tag){case 3:rr(st),wr();break;case 26:case 27:case 5:Qo(l);break;case 4:wr();break;case 13:sr(l);break;case 19:ee(lt);break;case 10:rr(l.type);break;case 22:case 23:sr(l),ed(),i!==null&&ee(Ni);break;case 24:rr(st)}}function ql(i,l){try{var a=l.updateQueue,f=a!==null?a.lastEffect:null;if(f!==null){var p=f.next;a=p;do{if((a.tag&i)===i){f=void 0;var g=a.create,S=a.inst;f=g(),S.destroy=f}a=a.next}while(a!==p)}}catch(C){Pe(l,l.return,C)}}function Lr(i,l,a){try{var f=l.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var g=p.next;f=g;do{if((f.tag&i)===i){var S=f.inst,C=S.destroy;if(C!==void 0){S.destroy=void 0,p=l;var N=a,L=C;try{L()}catch(q){Pe(p,N,q)}}}f=f.next}while(f!==g)}}catch(q){Pe(l,l.return,q)}}function y0(i){var l=i.updateQueue;if(l!==null){var a=i.stateNode;try{iy(l,a)}catch(f){Pe(i,i.return,f)}}}function b0(i,l,a){a.props=Oi(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(f){Pe(i,l,f)}}function Il(i,l){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof a=="function"?i.refCleanup=a(f):a.current=f}}catch(p){Pe(i,l,p)}}function _n(i,l){var a=i.ref,f=i.refCleanup;if(a!==null)if(typeof f=="function")try{f()}catch(p){Pe(i,l,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){Pe(i,l,p)}else a.current=null}function x0(i){var l=i.type,a=i.memoizedProps,f=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":a.autoFocus&&f.focus();break e;case"img":a.src?f.src=a.src:a.srcSet&&(f.srcset=a.srcSet)}}catch(p){Pe(i,i.return,p)}}function Ad(i,l,a){try{var f=i.stateNode;jw(f,i.type,a,l),f[Ut]=l}catch(p){Pe(i,i.return,p)}}function v0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Vr(i.type)||i.tag===4}function Od(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||v0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Vr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Md(i,l,a){var f=i.tag;if(f===5||f===6)i=i.stateNode,l?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,l):(l=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,l.appendChild(i),a=a._reactRootContainer,a!=null||l.onclick!==null||(l.onclick=Za));else if(f!==4&&(f===27&&Vr(i.type)&&(a=i.stateNode,l=null),i=i.child,i!==null))for(Md(i,l,a),i=i.sibling;i!==null;)Md(i,l,a),i=i.sibling}function qa(i,l,a){var f=i.tag;if(f===5||f===6)i=i.stateNode,l?a.insertBefore(i,l):a.appendChild(i);else if(f!==4&&(f===27&&Vr(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(qa(i,l,a),i=i.sibling;i!==null;)qa(i,l,a),i=i.sibling}function S0(i){var l=i.stateNode,a=i.memoizedProps;try{for(var f=i.type,p=l.attributes;p.length;)l.removeAttributeNode(p[0]);xt(l,f,a),l[kt]=i,l[Ut]=a}catch(g){Pe(i,i.return,g)}}var ar=!1,tt=!1,Rd=!1,E0=typeof WeakSet=="function"?WeakSet:Set,ct=null;function hw(i,l){if(i=i.containerInfo,th=su,i=jg(i),Of(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var f=a.getSelection&&a.getSelection();if(f&&f.rangeCount!==0){a=f.anchorNode;var p=f.anchorOffset,g=f.focusNode;f=f.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var S=0,C=-1,N=-1,L=0,q=0,F=i,_=null;t:for(;;){for(var H;F!==a||p!==0&&F.nodeType!==3||(C=S+p),F!==g||f!==0&&F.nodeType!==3||(N=S+f),F.nodeType===3&&(S+=F.nodeValue.length),(H=F.firstChild)!==null;)_=F,F=H;for(;;){if(F===i)break t;if(_===a&&++L===p&&(C=S),_===g&&++q===f&&(N=S),(H=F.nextSibling)!==null)break;F=_,_=F.parentNode}F=H}a=C===-1||N===-1?null:{start:C,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(nh={focusedElem:i,selectionRange:a},su=!1,ct=l;ct!==null;)if(l=ct,i=l.child,(l.subtreeFlags&1024)!==0&&i!==null)i.return=l,ct=i;else for(;ct!==null;){switch(l=ct,g=l.alternate,i=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,a=l,p=g.memoizedProps,g=g.memoizedState,f=a.stateNode;try{var fe=Oi(a.type,p,a.elementType===a.type);i=f.getSnapshotBeforeUpdate(fe,g),f.__reactInternalSnapshotBeforeUpdate=i}catch(ae){Pe(a,a.return,ae)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,a=i.nodeType,a===9)sh(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":sh(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=l.sibling,i!==null){i.return=l.return,ct=i;break}ct=l.return}}function T0(i,l,a){var f=a.flags;switch(a.tag){case 0:case 11:case 15:Br(i,a),f&4&&ql(5,a);break;case 1:if(Br(i,a),f&4)if(i=a.stateNode,l===null)try{i.componentDidMount()}catch(S){Pe(a,a.return,S)}else{var p=Oi(a.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(p,l,i.__reactInternalSnapshotBeforeUpdate)}catch(S){Pe(a,a.return,S)}}f&64&&y0(a),f&512&&Il(a,a.return);break;case 3:if(Br(i,a),f&64&&(i=a.updateQueue,i!==null)){if(l=null,a.child!==null)switch(a.child.tag){case 27:case 5:l=a.child.stateNode;break;case 1:l=a.child.stateNode}try{iy(i,l)}catch(S){Pe(a,a.return,S)}}break;case 27:l===null&&f&4&&S0(a);case 26:case 5:Br(i,a),l===null&&f&4&&x0(a),f&512&&Il(a,a.return);break;case 12:Br(i,a);break;case 13:Br(i,a),f&4&&k0(i,a),f&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=Ew.bind(null,a),Pw(i,a))));break;case 22:if(f=a.memoizedState!==null||ar,!f){l=l!==null&&l.memoizedState!==null||tt,p=ar;var g=tt;ar=f,(tt=l)&&!g?_r(i,a,(a.subtreeFlags&8772)!==0):Br(i,a),ar=p,tt=g}break;case 30:break;default:Br(i,a)}}function w0(i){var l=i.alternate;l!==null&&(i.alternate=null,w0(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&cf(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var $e=null,It=!1;function ur(i,l,a){for(a=a.child;a!==null;)C0(i,l,a),a=a.sibling}function C0(i,l,a){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(ul,a)}catch{}switch(a.tag){case 26:tt||_n(a,l),ur(i,l,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:tt||_n(a,l);var f=$e,p=It;Vr(a.type)&&($e=a.stateNode,It=!1),ur(i,l,a),Ql(a.stateNode),$e=f,It=p;break;case 5:tt||_n(a,l);case 6:if(f=$e,p=It,$e=null,ur(i,l,a),$e=f,It=p,$e!==null)if(It)try{($e.nodeType===9?$e.body:$e.nodeName==="HTML"?$e.ownerDocument.body:$e).removeChild(a.stateNode)}catch(g){Pe(a,l,g)}else try{$e.removeChild(a.stateNode)}catch(g){Pe(a,l,g)}break;case 18:$e!==null&&(It?(i=$e,hb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),so(i)):hb($e,a.stateNode));break;case 4:f=$e,p=It,$e=a.stateNode.containerInfo,It=!0,ur(i,l,a),$e=f,It=p;break;case 0:case 11:case 14:case 15:tt||Lr(2,a,l),tt||Lr(4,a,l),ur(i,l,a);break;case 1:tt||(_n(a,l),f=a.stateNode,typeof f.componentWillUnmount=="function"&&b0(a,l,f)),ur(i,l,a);break;case 21:ur(i,l,a);break;case 22:tt=(f=tt)||a.memoizedState!==null,ur(i,l,a),tt=f;break;default:ur(i,l,a)}}function k0(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{so(i)}catch(a){Pe(l,l.return,a)}}function pw(i){switch(i.tag){case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new E0),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new E0),l;default:throw Error(r(435,i.tag))}}function Dd(i,l){var a=pw(i);l.forEach(function(f){var p=Tw.bind(null,i,f);a.has(f)||(a.add(f),f.then(p,p))})}function tn(i,l){var a=l.deletions;if(a!==null)for(var f=0;f<a.length;f++){var p=a[f],g=i,S=l,C=S;e:for(;C!==null;){switch(C.tag){case 27:if(Vr(C.type)){$e=C.stateNode,It=!1;break e}break;case 5:$e=C.stateNode,It=!1;break e;case 3:case 4:$e=C.stateNode.containerInfo,It=!0;break e}C=C.return}if($e===null)throw Error(r(160));C0(g,S,p),$e=null,It=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)N0(l,i),l=l.sibling}var Nn=null;function N0(i,l){var a=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:tn(l,i),nn(i),f&4&&(Lr(3,i,i.return),ql(3,i),Lr(5,i,i.return));break;case 1:tn(l,i),nn(i),f&512&&(tt||a===null||_n(a,a.return)),f&64&&ar&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?f:a.concat(f))));break;case 26:var p=Nn;if(tn(l,i),nn(i),f&512&&(tt||a===null||_n(a,a.return)),f&4){var g=a!==null?a.memoizedState:null;if(f=i.memoizedState,a===null)if(f===null)if(i.stateNode===null){e:{f=i.type,a=i.memoizedProps,p=p.ownerDocument||p;t:switch(f){case"title":g=p.getElementsByTagName("title")[0],(!g||g[dl]||g[kt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(f),p.head.insertBefore(g,p.querySelector("head > title"))),xt(g,f,a),g[kt]=i,at(g),f=g;break e;case"link":var S=Sb("link","href",p).get(f+(a.href||""));if(S){for(var C=0;C<S.length;C++)if(g=S[C],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){S.splice(C,1);break t}}g=p.createElement(f),xt(g,f,a),p.head.appendChild(g);break;case"meta":if(S=Sb("meta","content",p).get(f+(a.content||""))){for(C=0;C<S.length;C++)if(g=S[C],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){S.splice(C,1);break t}}g=p.createElement(f),xt(g,f,a),p.head.appendChild(g);break;default:throw Error(r(468,f))}g[kt]=i,at(g),f=g}i.stateNode=f}else Eb(p,i.type,i.stateNode);else i.stateNode=vb(p,f,i.memoizedProps);else g!==f?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,f===null?Eb(p,i.type,i.stateNode):vb(p,f,i.memoizedProps)):f===null&&i.stateNode!==null&&Ad(i,i.memoizedProps,a.memoizedProps)}break;case 27:tn(l,i),nn(i),f&512&&(tt||a===null||_n(a,a.return)),a!==null&&f&4&&Ad(i,i.memoizedProps,a.memoizedProps);break;case 5:if(tn(l,i),nn(i),f&512&&(tt||a===null||_n(a,a.return)),i.flags&32){p=i.stateNode;try{us(p,"")}catch(H){Pe(i,i.return,H)}}f&4&&i.stateNode!=null&&(p=i.memoizedProps,Ad(i,p,a!==null?a.memoizedProps:p)),f&1024&&(Rd=!0);break;case 6:if(tn(l,i),nn(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,a=i.stateNode;try{a.nodeValue=f}catch(H){Pe(i,i.return,H)}}break;case 3:if(nu=null,p=Nn,Nn=eu(l.containerInfo),tn(l,i),Nn=p,nn(i),f&4&&a!==null&&a.memoizedState.isDehydrated)try{so(l.containerInfo)}catch(H){Pe(i,i.return,H)}Rd&&(Rd=!1,A0(i));break;case 4:f=Nn,Nn=eu(i.stateNode.containerInfo),tn(l,i),nn(i),Nn=f;break;case 12:tn(l,i),nn(i);break;case 13:tn(l,i),nn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Hd=zn()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Dd(i,f)));break;case 22:p=i.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,L=ar,q=tt;if(ar=L||p,tt=q||N,tn(l,i),tt=q,ar=L,nn(i),f&8192)e:for(l=i.stateNode,l._visibility=p?l._visibility&-2:l._visibility|1,p&&(a===null||N||ar||tt||Mi(i)),a=null,l=i;;){if(l.tag===5||l.tag===26){if(a===null){N=a=l;try{if(g=N.stateNode,p)S=g.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{C=N.stateNode;var F=N.memoizedProps.style,_=F!=null&&F.hasOwnProperty("display")?F.display:null;C.style.display=_==null||typeof _=="boolean"?"":(""+_).trim()}}catch(H){Pe(N,N.return,H)}}}else if(l.tag===6){if(a===null){N=l;try{N.stateNode.nodeValue=p?"":N.memoizedProps}catch(H){Pe(N,N.return,H)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;a===l&&(a=null),l=l.return}a===l&&(a=null),l.sibling.return=l.return,l=l.sibling}f&4&&(f=i.updateQueue,f!==null&&(a=f.retryQueue,a!==null&&(f.retryQueue=null,Dd(i,a))));break;case 19:tn(l,i),nn(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Dd(i,f)));break;case 30:break;case 21:break;default:tn(l,i),nn(i)}}function nn(i){var l=i.flags;if(l&2){try{for(var a,f=i.return;f!==null;){if(v0(f)){a=f;break}f=f.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var p=a.stateNode,g=Od(i);qa(i,g,p);break;case 5:var S=a.stateNode;a.flags&32&&(us(S,""),a.flags&=-33);var C=Od(i);qa(i,C,S);break;case 3:case 4:var N=a.stateNode.containerInfo,L=Od(i);Md(i,L,N);break;default:throw Error(r(161))}}catch(q){Pe(i,i.return,q)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function A0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;A0(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function Br(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)T0(i,l.alternate,l),l=l.sibling}function Mi(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:Lr(4,l,l.return),Mi(l);break;case 1:_n(l,l.return);var a=l.stateNode;typeof a.componentWillUnmount=="function"&&b0(l,l.return,a),Mi(l);break;case 27:Ql(l.stateNode);case 26:case 5:_n(l,l.return),Mi(l);break;case 22:l.memoizedState===null&&Mi(l);break;case 30:Mi(l);break;default:Mi(l)}i=i.sibling}}function _r(i,l,a){for(a=a&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var f=l.alternate,p=i,g=l,S=g.flags;switch(g.tag){case 0:case 11:case 15:_r(p,g,a),ql(4,g);break;case 1:if(_r(p,g,a),f=g,p=f.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(L){Pe(f,f.return,L)}if(f=g,p=f.updateQueue,p!==null){var C=f.stateNode;try{var N=p.shared.hiddenCallbacks;if(N!==null)for(p.shared.hiddenCallbacks=null,p=0;p<N.length;p++)ry(N[p],C)}catch(L){Pe(f,f.return,L)}}a&&S&64&&y0(g),Il(g,g.return);break;case 27:S0(g);case 26:case 5:_r(p,g,a),a&&f===null&&S&4&&x0(g),Il(g,g.return);break;case 12:_r(p,g,a);break;case 13:_r(p,g,a),a&&S&4&&k0(p,g);break;case 22:g.memoizedState===null&&_r(p,g,a),Il(g,g.return);break;case 30:break;default:_r(p,g,a)}l=l.sibling}}function jd(i,l){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Nl(a))}function zd(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&Nl(i))}function Hn(i,l,a,f){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)O0(i,l,a,f),l=l.sibling}function O0(i,l,a,f){var p=l.flags;switch(l.tag){case 0:case 11:case 15:Hn(i,l,a,f),p&2048&&ql(9,l);break;case 1:Hn(i,l,a,f);break;case 3:Hn(i,l,a,f),p&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&Nl(i)));break;case 12:if(p&2048){Hn(i,l,a,f),i=l.stateNode;try{var g=l.memoizedProps,S=g.id,C=g.onPostCommit;typeof C=="function"&&C(S,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(N){Pe(l,l.return,N)}}else Hn(i,l,a,f);break;case 13:Hn(i,l,a,f);break;case 23:break;case 22:g=l.stateNode,S=l.alternate,l.memoizedState!==null?g._visibility&2?Hn(i,l,a,f):Vl(i,l):g._visibility&2?Hn(i,l,a,f):(g._visibility|=2,As(i,l,a,f,(l.subtreeFlags&10256)!==0)),p&2048&&jd(S,l);break;case 24:Hn(i,l,a,f),p&2048&&zd(l.alternate,l);break;default:Hn(i,l,a,f)}}function As(i,l,a,f,p){for(p=p&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var g=i,S=l,C=a,N=f,L=S.flags;switch(S.tag){case 0:case 11:case 15:As(g,S,C,N,p),ql(8,S);break;case 23:break;case 22:var q=S.stateNode;S.memoizedState!==null?q._visibility&2?As(g,S,C,N,p):Vl(g,S):(q._visibility|=2,As(g,S,C,N,p)),p&&L&2048&&jd(S.alternate,S);break;case 24:As(g,S,C,N,p),p&&L&2048&&zd(S.alternate,S);break;default:As(g,S,C,N,p)}l=l.sibling}}function Vl(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var a=i,f=l,p=f.flags;switch(f.tag){case 22:Vl(a,f),p&2048&&jd(f.alternate,f);break;case 24:Vl(a,f),p&2048&&zd(f.alternate,f);break;default:Vl(a,f)}l=l.sibling}}var Fl=8192;function Os(i){if(i.subtreeFlags&Fl)for(i=i.child;i!==null;)M0(i),i=i.sibling}function M0(i){switch(i.tag){case 26:Os(i),i.flags&Fl&&i.memoizedState!==null&&Ww(Nn,i.memoizedState,i.memoizedProps);break;case 5:Os(i);break;case 3:case 4:var l=Nn;Nn=eu(i.stateNode.containerInfo),Os(i),Nn=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=Fl,Fl=16777216,Os(i),Fl=l):Os(i));break;default:Os(i)}}function R0(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function $l(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var a=0;a<l.length;a++){var f=l[a];ct=f,j0(f,i)}R0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)D0(i),i=i.sibling}function D0(i){switch(i.tag){case 0:case 11:case 15:$l(i),i.flags&2048&&Lr(9,i,i.return);break;case 3:$l(i);break;case 12:$l(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,Ia(i)):$l(i);break;default:$l(i)}}function Ia(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var a=0;a<l.length;a++){var f=l[a];ct=f,j0(f,i)}R0(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:Lr(8,l,l.return),Ia(l);break;case 22:a=l.stateNode,a._visibility&2&&(a._visibility&=-3,Ia(l));break;default:Ia(l)}i=i.sibling}}function j0(i,l){for(;ct!==null;){var a=ct;switch(a.tag){case 0:case 11:case 15:Lr(8,a,l);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var f=a.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Nl(a.memoizedState.cache)}if(f=a.child,f!==null)f.return=a,ct=f;else e:for(a=i;ct!==null;){f=ct;var p=f.sibling,g=f.return;if(w0(f),f===a){ct=null;break e}if(p!==null){p.return=g,ct=p;break e}ct=g}}}var mw={getCacheForType:function(i){var l=Nt(st),a=l.data.get(i);return a===void 0&&(a=i(),l.data.set(i,a)),a}},gw=typeof WeakMap=="function"?WeakMap:Map,De=0,Ie=null,Ce=null,Ae=0,je=0,rn=null,Hr=!1,Ms=!1,Ld=!1,cr=0,Qe=0,Ur=0,Ri=0,Bd=0,yn=0,Rs=0,Gl=null,Vt=null,_d=!1,Hd=0,Va=1/0,Fa=null,Pr=null,bt=0,qr=null,Ds=null,js=0,Ud=0,Pd=null,z0=null,Kl=0,qd=null;function sn(){if((De&2)!==0&&Ae!==0)return Ae&-Ae;if(B.T!==null){var i=vs;return i!==0?i:Yd()}return Xm()}function L0(){yn===0&&(yn=(Ae&536870912)===0||Re?Gm():536870912);var i=gn.current;return i!==null&&(i.flags|=32),yn}function ln(i,l,a){(i===Ie&&(je===2||je===9)||i.cancelPendingCommit!==null)&&(zs(i,0),Ir(i,Ae,yn,!1)),fl(i,a),((De&2)===0||i!==Ie)&&(i===Ie&&((De&2)===0&&(Ri|=a),Qe===4&&Ir(i,Ae,yn,!1)),Un(i))}function B0(i,l,a){if((De&6)!==0)throw Error(r(327));var f=!a&&(l&124)===0&&(l&i.expiredLanes)===0||cl(i,l),p=f?xw(i,l):Fd(i,l,!0),g=f;do{if(p===0){Ms&&!f&&Ir(i,l,0,!1);break}else{if(a=i.current.alternate,g&&!yw(a)){p=Fd(i,l,!1),g=!1;continue}if(p===2){if(g=l,i.errorRecoveryDisabledLanes&g)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){l=S;e:{var C=i;p=Gl;var N=C.current.memoizedState.isDehydrated;if(N&&(zs(C,S).flags|=256),S=Fd(C,S,!1),S!==2){if(Ld&&!N){C.errorRecoveryDisabledLanes|=g,Ri|=g,p=4;break e}g=Vt,Vt=p,g!==null&&(Vt===null?Vt=g:Vt.push.apply(Vt,g))}p=S}if(g=!1,p!==2)continue}}if(p===1){zs(i,0),Ir(i,l,0,!0);break}e:{switch(f=i,g=p,g){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Ir(f,l,yn,!Hr);break e;case 2:Vt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(p=Hd+300-zn(),10<p)){if(Ir(f,l,yn,!Hr),ta(f,0,!0)!==0)break e;f.timeoutHandle=fb(_0.bind(null,f,a,Vt,Fa,_d,l,yn,Ri,Rs,Hr,g,2,-0,0),p);break e}_0(f,a,Vt,Fa,_d,l,yn,Ri,Rs,Hr,g,0,-0,0)}}break}while(!0);Un(i)}function _0(i,l,a,f,p,g,S,C,N,L,q,F,_,H){if(i.timeoutHandle=-1,F=l.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(eo={stylesheets:null,count:0,unsuspend:Zw},M0(l),F=eC(),F!==null)){i.cancelPendingCommit=F(F0.bind(null,i,l,g,a,f,p,S,C,N,q,1,_,H)),Ir(i,g,S,!L);return}F0(i,l,g,a,f,p,S,C,N)}function yw(i){for(var l=i;;){var a=l.tag;if((a===0||a===11||a===15)&&l.flags&16384&&(a=l.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var f=0;f<a.length;f++){var p=a[f],g=p.getSnapshot;p=p.value;try{if(!Wt(g(),p))return!1}catch{return!1}}if(a=l.child,l.subtreeFlags&16384&&a!==null)a.return=l,l=a;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ir(i,l,a,f){l&=~Bd,l&=~Ri,i.suspendedLanes|=l,i.pingedLanes&=~l,f&&(i.warmLanes|=l),f=i.expirationTimes;for(var p=l;0<p;){var g=31-Zt(p),S=1<<g;f[g]=-1,p&=~S}a!==0&&Ym(i,a,l)}function $a(){return(De&6)===0?(Yl(0),!1):!0}function Id(){if(Ce!==null){if(je===0)var i=Ce.return;else i=Ce,nr=Ci=null,sd(i),ks=null,Hl=0,i=Ce;for(;i!==null;)g0(i.alternate,i),i=i.return;Ce=null}}function zs(i,l){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,Lw(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),Id(),Ie=i,Ce=a=Wn(i.current,null),Ae=l,je=0,rn=null,Hr=!1,Ms=cl(i,l),Ld=!1,Rs=yn=Bd=Ri=Ur=Qe=0,Vt=Gl=null,_d=!1,(l&8)!==0&&(l|=l&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=l;0<f;){var p=31-Zt(f),g=1<<p;l|=i[p],f&=~g}return cr=l,ha(),a}function H0(i,l){Se=null,B.H=Da,l===Ol||l===Ea?(l=ty(),je=3):l===Zg?(l=ty(),je=4):je=l===n0?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,rn=l,Ce===null&&(Qe=1,_a(i,dn(l,i.current)))}function U0(){var i=B.H;return B.H=Da,i===null?Da:i}function P0(){var i=B.A;return B.A=mw,i}function Vd(){Qe=4,Hr||(Ae&4194048)!==Ae&&gn.current!==null||(Ms=!0),(Ur&134217727)===0&&(Ri&134217727)===0||Ie===null||Ir(Ie,Ae,yn,!1)}function Fd(i,l,a){var f=De;De|=2;var p=U0(),g=P0();(Ie!==i||Ae!==l)&&(Fa=null,zs(i,l)),l=!1;var S=Qe;e:do try{if(je!==0&&Ce!==null){var C=Ce,N=rn;switch(je){case 8:Id(),S=6;break e;case 3:case 2:case 9:case 6:gn.current===null&&(l=!0);var L=je;if(je=0,rn=null,Ls(i,C,N,L),a&&Ms){S=0;break e}break;default:L=je,je=0,rn=null,Ls(i,C,N,L)}}bw(),S=Qe;break}catch(q){H0(i,q)}while(!0);return l&&i.shellSuspendCounter++,nr=Ci=null,De=f,B.H=p,B.A=g,Ce===null&&(Ie=null,Ae=0,ha()),S}function bw(){for(;Ce!==null;)q0(Ce)}function xw(i,l){var a=De;De|=2;var f=U0(),p=P0();Ie!==i||Ae!==l?(Fa=null,Va=zn()+500,zs(i,l)):Ms=cl(i,l);e:do try{if(je!==0&&Ce!==null){l=Ce;var g=rn;t:switch(je){case 1:je=0,rn=null,Ls(i,l,g,1);break;case 2:case 9:if(Wg(g)){je=0,rn=null,I0(l);break}l=function(){je!==2&&je!==9||Ie!==i||(je=7),Un(i)},g.then(l,l);break e;case 3:je=7;break e;case 4:je=5;break e;case 7:Wg(g)?(je=0,rn=null,I0(l)):(je=0,rn=null,Ls(i,l,g,7));break;case 5:var S=null;switch(Ce.tag){case 26:S=Ce.memoizedState;case 5:case 27:var C=Ce;if(!S||Tb(S)){je=0,rn=null;var N=C.sibling;if(N!==null)Ce=N;else{var L=C.return;L!==null?(Ce=L,Ga(L)):Ce=null}break t}}je=0,rn=null,Ls(i,l,g,5);break;case 6:je=0,rn=null,Ls(i,l,g,6);break;case 8:Id(),Qe=6;break e;default:throw Error(r(462))}}vw();break}catch(q){H0(i,q)}while(!0);return nr=Ci=null,B.H=f,B.A=p,De=a,Ce!==null?0:(Ie=null,Ae=0,ha(),Qe)}function vw(){for(;Ce!==null&&!IE();)q0(Ce)}function q0(i){var l=p0(i.alternate,i,cr);i.memoizedProps=i.pendingProps,l===null?Ga(i):Ce=l}function I0(i){var l=i,a=l.alternate;switch(l.tag){case 15:case 0:l=a0(a,l,l.pendingProps,l.type,void 0,Ae);break;case 11:l=a0(a,l,l.pendingProps,l.type.render,l.ref,Ae);break;case 5:sd(l);default:g0(a,l),l=Ce=Vg(l,cr),l=p0(a,l,cr)}i.memoizedProps=i.pendingProps,l===null?Ga(i):Ce=l}function Ls(i,l,a,f){nr=Ci=null,sd(l),ks=null,Hl=0;var p=l.return;try{if(uw(i,p,l,a,Ae)){Qe=1,_a(i,dn(a,i.current)),Ce=null;return}}catch(g){if(p!==null)throw Ce=p,g;Qe=1,_a(i,dn(a,i.current)),Ce=null;return}l.flags&32768?(Re||f===1?i=!0:Ms||(Ae&536870912)!==0?i=!1:(Hr=i=!0,(f===2||f===9||f===3||f===6)&&(f=gn.current,f!==null&&f.tag===13&&(f.flags|=16384))),V0(l,i)):Ga(l)}function Ga(i){var l=i;do{if((l.flags&32768)!==0){V0(l,Hr);return}i=l.return;var a=fw(l.alternate,l,cr);if(a!==null){Ce=a;return}if(l=l.sibling,l!==null){Ce=l;return}Ce=l=i}while(l!==null);Qe===0&&(Qe=5)}function V0(i,l){do{var a=dw(i.alternate,i);if(a!==null){a.flags&=32767,Ce=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!l&&(i=i.sibling,i!==null)){Ce=i;return}Ce=i=a}while(i!==null);Qe=6,Ce=null}function F0(i,l,a,f,p,g,S,C,N){i.cancelPendingCommit=null;do Ka();while(bt!==0);if((De&6)!==0)throw Error(r(327));if(l!==null){if(l===i.current)throw Error(r(177));if(g=l.lanes|l.childLanes,g|=zf,ZE(i,a,g,S,C,N),i===Ie&&(Ce=Ie=null,Ae=0),Ds=l,qr=i,js=a,Ud=g,Pd=p,z0=f,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,ww(Zo,function(){return J0(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||f){f=B.T,B.T=null,p=G.p,G.p=2,S=De,De|=4;try{hw(i,l,a)}finally{De=S,G.p=p,B.T=f}}bt=1,$0(),G0(),K0()}}function $0(){if(bt===1){bt=0;var i=qr,l=Ds,a=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var f=G.p;G.p=2;var p=De;De|=4;try{N0(l,i);var g=nh,S=jg(i.containerInfo),C=g.focusedElem,N=g.selectionRange;if(S!==C&&C&&C.ownerDocument&&Dg(C.ownerDocument.documentElement,C)){if(N!==null&&Of(C)){var L=N.start,q=N.end;if(q===void 0&&(q=L),"selectionStart"in C)C.selectionStart=L,C.selectionEnd=Math.min(q,C.value.length);else{var F=C.ownerDocument||document,_=F&&F.defaultView||window;if(_.getSelection){var H=_.getSelection(),fe=C.textContent.length,ae=Math.min(N.start,fe),He=N.end===void 0?ae:Math.min(N.end,fe);!H.extend&&ae>He&&(S=He,He=ae,ae=S);var D=Rg(C,ae),M=Rg(C,He);if(D&&M&&(H.rangeCount!==1||H.anchorNode!==D.node||H.anchorOffset!==D.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var z=F.createRange();z.setStart(D.node,D.offset),H.removeAllRanges(),ae>He?(H.addRange(z),H.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),H.addRange(z))}}}}for(F=[],H=C;H=H.parentNode;)H.nodeType===1&&F.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<F.length;C++){var V=F[C];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}su=!!th,nh=th=null}finally{De=p,G.p=f,B.T=a}}i.current=l,bt=2}}function G0(){if(bt===2){bt=0;var i=qr,l=Ds,a=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var f=G.p;G.p=2;var p=De;De|=4;try{T0(i,l.alternate,l)}finally{De=p,G.p=f,B.T=a}}bt=3}}function K0(){if(bt===4||bt===3){bt=0,VE();var i=qr,l=Ds,a=js,f=z0;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?bt=5:(bt=0,Ds=qr=null,Y0(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Pr=null),af(a),l=l.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(ul,l,void 0,(l.current.flags&128)===128)}catch{}if(f!==null){l=B.T,p=G.p,G.p=2,B.T=null;try{for(var g=i.onRecoverableError,S=0;S<f.length;S++){var C=f[S];g(C.value,{componentStack:C.stack})}}finally{B.T=l,G.p=p}}(js&3)!==0&&Ka(),Un(i),p=i.pendingLanes,(a&4194090)!==0&&(p&42)!==0?i===qd?Kl++:(Kl=0,qd=i):Kl=0,Yl(0)}}function Y0(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,Nl(l)))}function Ka(i){return $0(),G0(),K0(),J0()}function J0(){if(bt!==5)return!1;var i=qr,l=Ud;Ud=0;var a=af(js),f=B.T,p=G.p;try{G.p=32>a?32:a,B.T=null,a=Pd,Pd=null;var g=qr,S=js;if(bt=0,Ds=qr=null,js=0,(De&6)!==0)throw Error(r(331));var C=De;if(De|=4,D0(g.current),O0(g,g.current,S,a),De=C,Yl(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(ul,g)}catch{}return!0}finally{G.p=p,B.T=f,Y0(i,l)}}function X0(i,l,a){l=dn(a,l),l=xd(i.stateNode,l,2),i=Rr(i,l,2),i!==null&&(fl(i,2),Un(i))}function Pe(i,l,a){if(i.tag===3)X0(i,i,a);else for(;l!==null;){if(l.tag===3){X0(l,i,a);break}else if(l.tag===1){var f=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Pr===null||!Pr.has(f))){i=dn(a,i),a=e0(2),f=Rr(l,a,2),f!==null&&(t0(a,f,l,i),fl(f,2),Un(f));break}}l=l.return}}function $d(i,l,a){var f=i.pingCache;if(f===null){f=i.pingCache=new gw;var p=new Set;f.set(l,p)}else p=f.get(l),p===void 0&&(p=new Set,f.set(l,p));p.has(a)||(Ld=!0,p.add(a),i=Sw.bind(null,i,l,a),l.then(i,i))}function Sw(i,l,a){var f=i.pingCache;f!==null&&f.delete(l),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,Ie===i&&(Ae&a)===a&&(Qe===4||Qe===3&&(Ae&62914560)===Ae&&300>zn()-Hd?(De&2)===0&&zs(i,0):Bd|=a,Rs===Ae&&(Rs=0)),Un(i)}function Q0(i,l){l===0&&(l=Km()),i=gs(i,l),i!==null&&(fl(i,l),Un(i))}function Ew(i){var l=i.memoizedState,a=0;l!==null&&(a=l.retryLane),Q0(i,a)}function Tw(i,l){var a=0;switch(i.tag){case 13:var f=i.stateNode,p=i.memoizedState;p!==null&&(a=p.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(l),Q0(i,a)}function ww(i,l){return rf(i,l)}var Ya=null,Bs=null,Gd=!1,Ja=!1,Kd=!1,Di=0;function Un(i){i!==Bs&&i.next===null&&(Bs===null?Ya=Bs=i:Bs=Bs.next=i),Ja=!0,Gd||(Gd=!0,kw())}function Yl(i,l){if(!Kd&&Ja){Kd=!0;do for(var a=!1,f=Ya;f!==null;){if(i!==0){var p=f.pendingLanes;if(p===0)var g=0;else{var S=f.suspendedLanes,C=f.pingedLanes;g=(1<<31-Zt(42|i)+1)-1,g&=p&~(S&~C),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,tb(f,g))}else g=Ae,g=ta(f,f===Ie?g:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(g&3)===0||cl(f,g)||(a=!0,tb(f,g));f=f.next}while(a);Kd=!1}}function Cw(){Z0()}function Z0(){Ja=Gd=!1;var i=0;Di!==0&&(zw()&&(i=Di),Di=0);for(var l=zn(),a=null,f=Ya;f!==null;){var p=f.next,g=W0(f,l);g===0?(f.next=null,a===null?Ya=p:a.next=p,p===null&&(Bs=a)):(a=f,(i!==0||(g&3)!==0)&&(Ja=!0)),f=p}Yl(i)}function W0(i,l){for(var a=i.suspendedLanes,f=i.pingedLanes,p=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var S=31-Zt(g),C=1<<S,N=p[S];N===-1?((C&a)===0||(C&f)!==0)&&(p[S]=QE(C,l)):N<=l&&(i.expiredLanes|=C),g&=~C}if(l=Ie,a=Ae,a=ta(i,i===l?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,a===0||i===l&&(je===2||je===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&sf(f),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||cl(i,a)){if(l=a&-a,l===i.callbackPriority)return l;switch(f!==null&&sf(f),af(a)){case 2:case 8:a=Fm;break;case 32:a=Zo;break;case 268435456:a=$m;break;default:a=Zo}return f=eb.bind(null,i),a=rf(a,f),i.callbackPriority=l,i.callbackNode=a,l}return f!==null&&f!==null&&sf(f),i.callbackPriority=2,i.callbackNode=null,2}function eb(i,l){if(bt!==0&&bt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(Ka()&&i.callbackNode!==a)return null;var f=Ae;return f=ta(i,i===Ie?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(B0(i,f,l),W0(i,zn()),i.callbackNode!=null&&i.callbackNode===a?eb.bind(null,i):null)}function tb(i,l){if(Ka())return null;B0(i,l,!0)}function kw(){Bw(function(){(De&6)!==0?rf(Vm,Cw):Z0()})}function Yd(){return Di===0&&(Di=Gm()),Di}function nb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:la(""+i)}function rb(i,l){var a=l.ownerDocument.createElement("input");return a.name=l.name,a.value=l.value,i.id&&a.setAttribute("form",i.id),l.parentNode.insertBefore(a,l),i=new FormData(i),a.parentNode.removeChild(a),i}function Nw(i,l,a,f,p){if(l==="submit"&&a&&a.stateNode===p){var g=nb((p[Ut]||null).action),S=f.submitter;S&&(l=(l=S[Ut]||null)?nb(l.formAction):S.getAttribute("formAction"),l!==null&&(g=l,S=null));var C=new ca("action","action",null,f,p);i.push({event:C,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Di!==0){var N=S?rb(p,S):new FormData(p);pd(a,{pending:!0,data:N,method:p.method,action:g},null,N)}}else typeof g=="function"&&(C.preventDefault(),N=S?rb(p,S):new FormData(p),pd(a,{pending:!0,data:N,method:p.method,action:g},g,N))},currentTarget:p}]})}}for(var Jd=0;Jd<jf.length;Jd++){var Xd=jf[Jd],Aw=Xd.toLowerCase(),Ow=Xd[0].toUpperCase()+Xd.slice(1);kn(Aw,"on"+Ow)}kn(Bg,"onAnimationEnd"),kn(_g,"onAnimationIteration"),kn(Hg,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(GT,"onTransitionRun"),kn(KT,"onTransitionStart"),kn(YT,"onTransitionCancel"),kn(Ug,"onTransitionEnd"),ss("onMouseEnter",["mouseout","mouseover"]),ss("onMouseLeave",["mouseout","mouseover"]),ss("onPointerEnter",["pointerout","pointerover"]),ss("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jl));function ib(i,l){l=(l&4)!==0;for(var a=0;a<i.length;a++){var f=i[a],p=f.event;f=f.listeners;e:{var g=void 0;if(l)for(var S=f.length-1;0<=S;S--){var C=f[S],N=C.instance,L=C.currentTarget;if(C=C.listener,N!==g&&p.isPropagationStopped())break e;g=C,p.currentTarget=L;try{g(p)}catch(q){Ba(q)}p.currentTarget=null,g=N}else for(S=0;S<f.length;S++){if(C=f[S],N=C.instance,L=C.currentTarget,C=C.listener,N!==g&&p.isPropagationStopped())break e;g=C,p.currentTarget=L;try{g(p)}catch(q){Ba(q)}p.currentTarget=null,g=N}}}}function ke(i,l){var a=l[uf];a===void 0&&(a=l[uf]=new Set);var f=i+"__bubble";a.has(f)||(sb(l,i,2,!1),a.add(f))}function Qd(i,l,a){var f=0;l&&(f|=4),sb(a,i,f,l)}var Xa="_reactListening"+Math.random().toString(36).slice(2);function Zd(i){if(!i[Xa]){i[Xa]=!0,Zm.forEach(function(a){a!=="selectionchange"&&(Mw.has(a)||Qd(a,!1,i),Qd(a,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Xa]||(l[Xa]=!0,Qd("selectionchange",!1,l))}}function sb(i,l,a,f){switch(Ob(l)){case 2:var p=rC;break;case 8:p=iC;break;default:p=dh}a=p.bind(null,l,a,i),p=void 0,!vf||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(p=!0),f?p!==void 0?i.addEventListener(l,a,{capture:!0,passive:p}):i.addEventListener(l,a,!0):p!==void 0?i.addEventListener(l,a,{passive:p}):i.addEventListener(l,a,!1)}function Wd(i,l,a,f,p){var g=f;if((l&1)===0&&(l&2)===0&&f!==null)e:for(;;){if(f===null)return;var S=f.tag;if(S===3||S===4){var C=f.stateNode.containerInfo;if(C===p)break;if(S===4)for(S=f.return;S!==null;){var N=S.tag;if((N===3||N===4)&&S.stateNode.containerInfo===p)return;S=S.return}for(;C!==null;){if(S=ns(C),S===null)return;if(N=S.tag,N===5||N===6||N===26||N===27){f=g=S;continue e}C=C.parentNode}}f=f.return}dg(function(){var L=g,q=bf(a),F=[];e:{var _=Pg.get(i);if(_!==void 0){var H=ca,fe=i;switch(i){case"keypress":if(aa(a)===0)break e;case"keydown":case"keyup":H=wT;break;case"focusin":fe="focus",H=wf;break;case"focusout":fe="blur",H=wf;break;case"beforeblur":case"afterblur":H=wf;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=mg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=dT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=NT;break;case Bg:case _g:case Hg:H=mT;break;case Ug:H=OT;break;case"scroll":case"scrollend":H=cT;break;case"wheel":H=RT;break;case"copy":case"cut":case"paste":H=yT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=yg;break;case"toggle":case"beforetoggle":H=jT}var ae=(l&4)!==0,He=!ae&&(i==="scroll"||i==="scrollend"),D=ae?_!==null?_+"Capture":null:_;ae=[];for(var M=L,z;M!==null;){var V=M;if(z=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||z===null||D===null||(V=pl(M,D),V!=null&&ae.push(Xl(M,V,z))),He)break;M=M.return}0<ae.length&&(_=new H(_,fe,null,a,q),F.push({event:_,listeners:ae}))}}if((l&7)===0){e:{if(_=i==="mouseover"||i==="pointerover",H=i==="mouseout"||i==="pointerout",_&&a!==yf&&(fe=a.relatedTarget||a.fromElement)&&(ns(fe)||fe[ts]))break e;if((H||_)&&(_=q.window===q?q:(_=q.ownerDocument)?_.defaultView||_.parentWindow:window,H?(fe=a.relatedTarget||a.toElement,H=L,fe=fe?ns(fe):null,fe!==null&&(He=o(fe),ae=fe.tag,fe!==He||ae!==5&&ae!==27&&ae!==6)&&(fe=null)):(H=null,fe=L),H!==fe)){if(ae=mg,V="onMouseLeave",D="onMouseEnter",M="mouse",(i==="pointerout"||i==="pointerover")&&(ae=yg,V="onPointerLeave",D="onPointerEnter",M="pointer"),He=H==null?_:hl(H),z=fe==null?_:hl(fe),_=new ae(V,M+"leave",H,a,q),_.target=He,_.relatedTarget=z,V=null,ns(q)===L&&(ae=new ae(D,M+"enter",fe,a,q),ae.target=z,ae.relatedTarget=He,V=ae),He=V,H&&fe)t:{for(ae=H,D=fe,M=0,z=ae;z;z=_s(z))M++;for(z=0,V=D;V;V=_s(V))z++;for(;0<M-z;)ae=_s(ae),M--;for(;0<z-M;)D=_s(D),z--;for(;M--;){if(ae===D||D!==null&&ae===D.alternate)break t;ae=_s(ae),D=_s(D)}ae=null}else ae=null;H!==null&&lb(F,_,H,ae,!1),fe!==null&&He!==null&&lb(F,He,fe,ae,!0)}}e:{if(_=L?hl(L):window,H=_.nodeName&&_.nodeName.toLowerCase(),H==="select"||H==="input"&&_.type==="file")var te=Cg;else if(Tg(_))if(kg)te=VT;else{te=qT;var we=PT}else H=_.nodeName,!H||H.toLowerCase()!=="input"||_.type!=="checkbox"&&_.type!=="radio"?L&&gf(L.elementType)&&(te=Cg):te=IT;if(te&&(te=te(i,L))){wg(F,te,a,q);break e}we&&we(i,_,L),i==="focusout"&&L&&_.type==="number"&&L.memoizedProps.value!=null&&mf(_,"number",_.value)}switch(we=L?hl(L):window,i){case"focusin":(Tg(we)||we.contentEditable==="true")&&(hs=we,Mf=L,El=null);break;case"focusout":El=Mf=hs=null;break;case"mousedown":Rf=!0;break;case"contextmenu":case"mouseup":case"dragend":Rf=!1,zg(F,a,q);break;case"selectionchange":if($T)break;case"keydown":case"keyup":zg(F,a,q)}var se;if(kf)e:{switch(i){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else ds?Sg(i,a)&&(ce="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(ce="onCompositionStart");ce&&(bg&&a.locale!=="ko"&&(ds||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&ds&&(se=hg()):(Nr=q,Sf="value"in Nr?Nr.value:Nr.textContent,ds=!0)),we=Qa(L,ce),0<we.length&&(ce=new gg(ce,i,null,a,q),F.push({event:ce,listeners:we}),se?ce.data=se:(se=Eg(a),se!==null&&(ce.data=se)))),(se=LT?BT(i,a):_T(i,a))&&(ce=Qa(L,"onBeforeInput"),0<ce.length&&(we=new gg("onBeforeInput","beforeinput",null,a,q),F.push({event:we,listeners:ce}),we.data=se)),Nw(F,i,L,a,q)}ib(F,l)})}function Xl(i,l,a){return{instance:i,listener:l,currentTarget:a}}function Qa(i,l){for(var a=l+"Capture",f=[];i!==null;){var p=i,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=pl(i,a),p!=null&&f.unshift(Xl(i,p,g)),p=pl(i,l),p!=null&&f.push(Xl(i,p,g))),i.tag===3)return f;i=i.return}return[]}function _s(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function lb(i,l,a,f,p){for(var g=l._reactName,S=[];a!==null&&a!==f;){var C=a,N=C.alternate,L=C.stateNode;if(C=C.tag,N!==null&&N===f)break;C!==5&&C!==26&&C!==27||L===null||(N=L,p?(L=pl(a,g),L!=null&&S.unshift(Xl(a,L,N))):p||(L=pl(a,g),L!=null&&S.push(Xl(a,L,N)))),a=a.return}S.length!==0&&i.push({event:l,listeners:S})}var Rw=/\r\n?/g,Dw=/\u0000|\uFFFD/g;function ob(i){return(typeof i=="string"?i:""+i).replace(Rw,`
`).replace(Dw,"")}function ab(i,l){return l=ob(l),ob(i)===l}function Za(){}function _e(i,l,a,f,p,g){switch(a){case"children":typeof f=="string"?l==="body"||l==="textarea"&&f===""||us(i,f):(typeof f=="number"||typeof f=="bigint")&&l!=="body"&&us(i,""+f);break;case"className":ra(i,"class",f);break;case"tabIndex":ra(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":ra(i,a,f);break;case"style":cg(i,f,g);break;case"data":if(l!=="object"){ra(i,"data",f);break}case"src":case"href":if(f===""&&(l!=="a"||a!=="href")){i.removeAttribute(a);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(a);break}f=la(""+f),i.setAttribute(a,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(l!=="input"&&_e(i,l,"name",p.name,p,null),_e(i,l,"formEncType",p.formEncType,p,null),_e(i,l,"formMethod",p.formMethod,p,null),_e(i,l,"formTarget",p.formTarget,p,null)):(_e(i,l,"encType",p.encType,p,null),_e(i,l,"method",p.method,p,null),_e(i,l,"target",p.target,p,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(a);break}f=la(""+f),i.setAttribute(a,f);break;case"onClick":f!=null&&(i.onclick=Za);break;case"onScroll":f!=null&&ke("scroll",i);break;case"onScrollEnd":f!=null&&ke("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(a=f.__html,a!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}a=la(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(a,""+f):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":f===!0?i.setAttribute(a,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(a,f):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(a,f):i.removeAttribute(a);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(a):i.setAttribute(a,f);break;case"popover":ke("beforetoggle",i),ke("toggle",i),na(i,"popover",f);break;case"xlinkActuate":Qn(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Qn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Qn(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Qn(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Qn(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Qn(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Qn(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Qn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Qn(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":na(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=aT.get(a)||a,na(i,a,f))}}function eh(i,l,a,f,p,g){switch(a){case"style":cg(i,f,g);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(a=f.__html,a!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"children":typeof f=="string"?us(i,f):(typeof f=="number"||typeof f=="bigint")&&us(i,""+f);break;case"onScroll":f!=null&&ke("scroll",i);break;case"onScrollEnd":f!=null&&ke("scrollend",i);break;case"onClick":f!=null&&(i.onclick=Za);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wm.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),l=a.slice(2,p?a.length-7:void 0),g=i[Ut]||null,g=g!=null?g[a]:null,typeof g=="function"&&i.removeEventListener(l,g,p),typeof f=="function")){typeof g!="function"&&g!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(l,f,p);break e}a in i?i[a]=f:f===!0?i.setAttribute(a,""):na(i,a,f)}}}function xt(i,l,a){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",i),ke("load",i);var f=!1,p=!1,g;for(g in a)if(a.hasOwnProperty(g)){var S=a[g];if(S!=null)switch(g){case"src":f=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:_e(i,l,g,S,a,null)}}p&&_e(i,l,"srcSet",a.srcSet,a,null),f&&_e(i,l,"src",a.src,a,null);return;case"input":ke("invalid",i);var C=g=S=p=null,N=null,L=null;for(f in a)if(a.hasOwnProperty(f)){var q=a[f];if(q!=null)switch(f){case"name":p=q;break;case"type":S=q;break;case"checked":N=q;break;case"defaultChecked":L=q;break;case"value":g=q;break;case"defaultValue":C=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,l));break;default:_e(i,l,f,q,a,null)}}lg(i,g,C,N,L,S,p,!1),ia(i);return;case"select":ke("invalid",i),f=S=g=null;for(p in a)if(a.hasOwnProperty(p)&&(C=a[p],C!=null))switch(p){case"value":g=C;break;case"defaultValue":S=C;break;case"multiple":f=C;default:_e(i,l,p,C,a,null)}l=g,a=S,i.multiple=!!f,l!=null?as(i,!!f,l,!1):a!=null&&as(i,!!f,a,!0);return;case"textarea":ke("invalid",i),g=p=f=null;for(S in a)if(a.hasOwnProperty(S)&&(C=a[S],C!=null))switch(S){case"value":f=C;break;case"defaultValue":p=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:_e(i,l,S,C,a,null)}ag(i,f,p,g),ia(i);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(f=a[N],f!=null))switch(N){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:_e(i,l,N,f,a,null)}return;case"dialog":ke("beforetoggle",i),ke("toggle",i),ke("cancel",i),ke("close",i);break;case"iframe":case"object":ke("load",i);break;case"video":case"audio":for(f=0;f<Jl.length;f++)ke(Jl[f],i);break;case"image":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"embed":case"source":case"link":ke("error",i),ke("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(f=a[L],f!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:_e(i,l,L,f,a,null)}return;default:if(gf(l)){for(q in a)a.hasOwnProperty(q)&&(f=a[q],f!==void 0&&eh(i,l,q,f,a,void 0));return}}for(C in a)a.hasOwnProperty(C)&&(f=a[C],f!=null&&_e(i,l,C,f,a,null))}function jw(i,l,a,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,S=null,C=null,N=null,L=null,q=null;for(H in a){var F=a[H];if(a.hasOwnProperty(H)&&F!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":N=F;default:f.hasOwnProperty(H)||_e(i,l,H,null,f,F)}}for(var _ in f){var H=f[_];if(F=a[_],f.hasOwnProperty(_)&&(H!=null||F!=null))switch(_){case"type":g=H;break;case"name":p=H;break;case"checked":L=H;break;case"defaultChecked":q=H;break;case"value":S=H;break;case"defaultValue":C=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,l));break;default:H!==F&&_e(i,l,_,H,f,F)}}pf(i,S,C,N,L,q,g,p);return;case"select":H=S=C=_=null;for(g in a)if(N=a[g],a.hasOwnProperty(g)&&N!=null)switch(g){case"value":break;case"multiple":H=N;default:f.hasOwnProperty(g)||_e(i,l,g,null,f,N)}for(p in f)if(g=f[p],N=a[p],f.hasOwnProperty(p)&&(g!=null||N!=null))switch(p){case"value":_=g;break;case"defaultValue":C=g;break;case"multiple":S=g;default:g!==N&&_e(i,l,p,g,f,N)}l=C,a=S,f=H,_!=null?as(i,!!a,_,!1):!!f!=!!a&&(l!=null?as(i,!!a,l,!0):as(i,!!a,a?[]:"",!1));return;case"textarea":H=_=null;for(C in a)if(p=a[C],a.hasOwnProperty(C)&&p!=null&&!f.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:_e(i,l,C,null,f,p)}for(S in f)if(p=f[S],g=a[S],f.hasOwnProperty(S)&&(p!=null||g!=null))switch(S){case"value":_=p;break;case"defaultValue":H=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==g&&_e(i,l,S,p,f,g)}og(i,_,H);return;case"option":for(var fe in a)if(_=a[fe],a.hasOwnProperty(fe)&&_!=null&&!f.hasOwnProperty(fe))switch(fe){case"selected":i.selected=!1;break;default:_e(i,l,fe,null,f,_)}for(N in f)if(_=f[N],H=a[N],f.hasOwnProperty(N)&&_!==H&&(_!=null||H!=null))switch(N){case"selected":i.selected=_&&typeof _!="function"&&typeof _!="symbol";break;default:_e(i,l,N,_,f,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ae in a)_=a[ae],a.hasOwnProperty(ae)&&_!=null&&!f.hasOwnProperty(ae)&&_e(i,l,ae,null,f,_);for(L in f)if(_=f[L],H=a[L],f.hasOwnProperty(L)&&_!==H&&(_!=null||H!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(137,l));break;default:_e(i,l,L,_,f,H)}return;default:if(gf(l)){for(var He in a)_=a[He],a.hasOwnProperty(He)&&_!==void 0&&!f.hasOwnProperty(He)&&eh(i,l,He,void 0,f,_);for(q in f)_=f[q],H=a[q],!f.hasOwnProperty(q)||_===H||_===void 0&&H===void 0||eh(i,l,q,_,f,H);return}}for(var D in a)_=a[D],a.hasOwnProperty(D)&&_!=null&&!f.hasOwnProperty(D)&&_e(i,l,D,null,f,_);for(F in f)_=f[F],H=a[F],!f.hasOwnProperty(F)||_===H||_==null&&H==null||_e(i,l,F,_,f,H)}var th=null,nh=null;function Wa(i){return i.nodeType===9?i:i.ownerDocument}function ub(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cb(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function rh(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var ih=null;function zw(){var i=window.event;return i&&i.type==="popstate"?i===ih?!1:(ih=i,!0):(ih=null,!1)}var fb=typeof setTimeout=="function"?setTimeout:void 0,Lw=typeof clearTimeout=="function"?clearTimeout:void 0,db=typeof Promise=="function"?Promise:void 0,Bw=typeof queueMicrotask=="function"?queueMicrotask:typeof db<"u"?function(i){return db.resolve(null).then(i).catch(_w)}:fb;function _w(i){setTimeout(function(){throw i})}function Vr(i){return i==="head"}function hb(i,l){var a=l,f=0,p=0;do{var g=a.nextSibling;if(i.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"){if(0<f&&8>f){a=f;var S=i.ownerDocument;if(a&1&&Ql(S.documentElement),a&2&&Ql(S.body),a&4)for(a=S.head,Ql(a),S=a.firstChild;S;){var C=S.nextSibling,N=S.nodeName;S[dl]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&S.rel.toLowerCase()==="stylesheet"||a.removeChild(S),S=C}}if(p===0){i.removeChild(g),so(l);return}p--}else a==="$"||a==="$?"||a==="$!"?p++:f=a.charCodeAt(0)-48;else f=0;a=g}while(a);so(l)}function sh(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var a=l;switch(l=l.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":sh(a),cf(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function Hw(i,l,a,f){for(;i.nodeType===1;){var p=a;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[dl])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=An(i.nextSibling),i===null)break}return null}function Uw(i,l,a){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=An(i.nextSibling),i===null))return null;return i}function lh(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function Pw(i,l){var a=i.ownerDocument;if(i.data!=="$?"||a.readyState==="complete")l();else{var f=function(){l(),a.removeEventListener("DOMContentLoaded",f)};a.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function An(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return i}var oh=null;function pb(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(l===0)return i;l--}else a==="/$"&&l++}i=i.previousSibling}return null}function mb(i,l,a){switch(l=Wa(a),i){case"html":if(i=l.documentElement,!i)throw Error(r(452));return i;case"head":if(i=l.head,!i)throw Error(r(453));return i;case"body":if(i=l.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Ql(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);cf(i)}var bn=new Map,gb=new Set;function eu(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var fr=G.d;G.d={f:qw,r:Iw,D:Vw,C:Fw,L:$w,m:Gw,X:Yw,S:Kw,M:Jw};function qw(){var i=fr.f(),l=$a();return i||l}function Iw(i){var l=rs(i);l!==null&&l.tag===5&&l.type==="form"?By(l):fr.r(i)}var Hs=typeof document>"u"?null:document;function yb(i,l,a){var f=Hs;if(f&&typeof l=="string"&&l){var p=fn(l);p='link[rel="'+i+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),gb.has(p)||(gb.add(p),i={rel:i,crossOrigin:a,href:l},f.querySelector(p)===null&&(l=f.createElement("link"),xt(l,"link",i),at(l),f.head.appendChild(l)))}}function Vw(i){fr.D(i),yb("dns-prefetch",i,null)}function Fw(i,l){fr.C(i,l),yb("preconnect",i,l)}function $w(i,l,a){fr.L(i,l,a);var f=Hs;if(f&&i&&l){var p='link[rel="preload"][as="'+fn(l)+'"]';l==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+fn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+fn(a.imageSizes)+'"]')):p+='[href="'+fn(i)+'"]';var g=p;switch(l){case"style":g=Us(i);break;case"script":g=Ps(i)}bn.has(g)||(i=m({rel:"preload",href:l==="image"&&a&&a.imageSrcSet?void 0:i,as:l},a),bn.set(g,i),f.querySelector(p)!==null||l==="style"&&f.querySelector(Zl(g))||l==="script"&&f.querySelector(Wl(g))||(l=f.createElement("link"),xt(l,"link",i),at(l),f.head.appendChild(l)))}}function Gw(i,l){fr.m(i,l);var a=Hs;if(a&&i){var f=l&&typeof l.as=="string"?l.as:"script",p='link[rel="modulepreload"][as="'+fn(f)+'"][href="'+fn(i)+'"]',g=p;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ps(i)}if(!bn.has(g)&&(i=m({rel:"modulepreload",href:i},l),bn.set(g,i),a.querySelector(p)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Wl(g)))return}f=a.createElement("link"),xt(f,"link",i),at(f),a.head.appendChild(f)}}}function Kw(i,l,a){fr.S(i,l,a);var f=Hs;if(f&&i){var p=is(f).hoistableStyles,g=Us(i);l=l||"default";var S=p.get(g);if(!S){var C={loading:0,preload:null};if(S=f.querySelector(Zl(g)))C.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":l},a),(a=bn.get(g))&&ah(i,a);var N=S=f.createElement("link");at(N),xt(N,"link",i),N._p=new Promise(function(L,q){N.onload=L,N.onerror=q}),N.addEventListener("load",function(){C.loading|=1}),N.addEventListener("error",function(){C.loading|=2}),C.loading|=4,tu(S,l,f)}S={type:"stylesheet",instance:S,count:1,state:C},p.set(g,S)}}}function Yw(i,l){fr.X(i,l);var a=Hs;if(a&&i){var f=is(a).hoistableScripts,p=Ps(i),g=f.get(p);g||(g=a.querySelector(Wl(p)),g||(i=m({src:i,async:!0},l),(l=bn.get(p))&&uh(i,l),g=a.createElement("script"),at(g),xt(g,"link",i),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},f.set(p,g))}}function Jw(i,l){fr.M(i,l);var a=Hs;if(a&&i){var f=is(a).hoistableScripts,p=Ps(i),g=f.get(p);g||(g=a.querySelector(Wl(p)),g||(i=m({src:i,async:!0,type:"module"},l),(l=bn.get(p))&&uh(i,l),g=a.createElement("script"),at(g),xt(g,"link",i),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},f.set(p,g))}}function bb(i,l,a,f){var p=(p=pe.current)?eu(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(l=Us(a.href),a=is(p).hoistableStyles,f=a.get(l),f||(f={type:"style",instance:null,count:0,state:null},a.set(l,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Us(a.href);var g=is(p).hoistableStyles,S=g.get(i);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,S),(g=p.querySelector(Zl(i)))&&!g._p&&(S.instance=g,S.state.loading=5),bn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},bn.set(i,a),g||Xw(p,i,a,S.state))),l&&f===null)throw Error(r(528,""));return S}if(l&&f!==null)throw Error(r(529,""));return null;case"script":return l=a.async,a=a.src,typeof a=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Ps(a),a=is(p).hoistableScripts,f=a.get(l),f||(f={type:"script",instance:null,count:0,state:null},a.set(l,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Us(i){return'href="'+fn(i)+'"'}function Zl(i){return'link[rel="stylesheet"]['+i+"]"}function xb(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function Xw(i,l,a,f){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?f.loading=1:(l=i.createElement("link"),f.preload=l,l.addEventListener("load",function(){return f.loading|=1}),l.addEventListener("error",function(){return f.loading|=2}),xt(l,"link",a),at(l),i.head.appendChild(l))}function Ps(i){return'[src="'+fn(i)+'"]'}function Wl(i){return"script[async]"+i}function vb(i,l,a){if(l.count++,l.instance===null)switch(l.type){case"style":var f=i.querySelector('style[data-href~="'+fn(a.href)+'"]');if(f)return l.instance=f,at(f),f;var p=m({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),at(f),xt(f,"style",p),tu(f,a.precedence,i),l.instance=f;case"stylesheet":p=Us(a.href);var g=i.querySelector(Zl(p));if(g)return l.state.loading|=4,l.instance=g,at(g),g;f=xb(a),(p=bn.get(p))&&ah(f,p),g=(i.ownerDocument||i).createElement("link"),at(g);var S=g;return S._p=new Promise(function(C,N){S.onload=C,S.onerror=N}),xt(g,"link",f),l.state.loading|=4,tu(g,a.precedence,i),l.instance=g;case"script":return g=Ps(a.src),(p=i.querySelector(Wl(g)))?(l.instance=p,at(p),p):(f=a,(p=bn.get(g))&&(f=m({},a),uh(f,p)),i=i.ownerDocument||i,p=i.createElement("script"),at(p),xt(p,"link",f),i.head.appendChild(p),l.instance=p);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(f=l.instance,l.state.loading|=4,tu(f,a.precedence,i));return l.instance}function tu(i,l,a){for(var f=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=f.length?f[f.length-1]:null,g=p,S=0;S<f.length;S++){var C=f[S];if(C.dataset.precedence===l)g=C;else if(g!==p)break}g?g.parentNode.insertBefore(i,g.nextSibling):(l=a.nodeType===9?a.head:a,l.insertBefore(i,l.firstChild))}function ah(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function uh(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var nu=null;function Sb(i,l,a){if(nu===null){var f=new Map,p=nu=new Map;p.set(a,f)}else p=nu,f=p.get(a),f||(f=new Map,p.set(a,f));if(f.has(i))return f;for(f.set(i,null),a=a.getElementsByTagName(i),p=0;p<a.length;p++){var g=a[p];if(!(g[dl]||g[kt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var S=g.getAttribute(l)||"";S=i+S;var C=f.get(S);C?C.push(g):f.set(S,[g])}}return f}function Eb(i,l,a){i=i.ownerDocument||i,i.head.insertBefore(a,l==="title"?i.querySelector("head > title"):null)}function Qw(i,l,a){if(a===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Tb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var eo=null;function Zw(){}function Ww(i,l,a){if(eo===null)throw Error(r(475));var f=eo;if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=Us(a.href),g=i.querySelector(Zl(p));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(f.count++,f=ru.bind(f),i.then(f,f)),l.state.loading|=4,l.instance=g,at(g);return}g=i.ownerDocument||i,a=xb(a),(p=bn.get(p))&&ah(a,p),g=g.createElement("link"),at(g);var S=g;S._p=new Promise(function(C,N){S.onload=C,S.onerror=N}),xt(g,"link",a),l.instance=g}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(f.count++,l=ru.bind(f),i.addEventListener("load",l),i.addEventListener("error",l))}}function eC(){if(eo===null)throw Error(r(475));var i=eo;return i.stylesheets&&i.count===0&&ch(i,i.stylesheets),0<i.count?function(l){var a=setTimeout(function(){if(i.stylesheets&&ch(i,i.stylesheets),i.unsuspend){var f=i.unsuspend;i.unsuspend=null,f()}},6e4);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(a)}}:null}function ru(){if(this.count--,this.count===0){if(this.stylesheets)ch(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var iu=null;function ch(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,iu=new Map,l.forEach(tC,i),iu=null,ru.call(i))}function tC(i,l){if(!(l.state.loading&4)){var a=iu.get(i);if(a)var f=a.get(null);else{a=new Map,iu.set(i,a);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var S=p[g];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(a.set(S.dataset.precedence,S),f=S)}f&&a.set(null,f)}p=l.instance,S=p.getAttribute("data-precedence"),g=a.get(S)||f,g===f&&a.set(null,p),a.set(S,p),this.count++,f=ru.bind(this),p.addEventListener("load",f),p.addEventListener("error",f),g?g.parentNode.insertBefore(p,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),l.state.loading|=4}}var to={$$typeof:j,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function nC(i,l,a,f,p,g,S,C){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lf(0),this.hiddenUpdates=lf(null),this.identifierPrefix=f,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function wb(i,l,a,f,p,g,S,C,N,L,q,F){return i=new nC(i,l,a,S,C,N,L,F),l=1,g===!0&&(l|=24),g=en(3,null,null,l),i.current=g,g.stateNode=i,l=$f(),l.refCount++,i.pooledCache=l,l.refCount++,g.memoizedState={element:f,isDehydrated:a,cache:l},Jf(g),i}function Cb(i){return i?(i=ys,i):ys}function kb(i,l,a,f,p,g){p=Cb(p),f.context===null?f.context=p:f.pendingContext=p,f=Mr(l),f.payload={element:a},g=g===void 0?null:g,g!==null&&(f.callback=g),a=Rr(i,f,l),a!==null&&(ln(a,i,l),Rl(a,i,l))}function Nb(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<l?a:l}}function fh(i,l){Nb(i,l),(i=i.alternate)&&Nb(i,l)}function Ab(i){if(i.tag===13){var l=gs(i,67108864);l!==null&&ln(l,i,67108864),fh(i,67108864)}}var su=!0;function rC(i,l,a,f){var p=B.T;B.T=null;var g=G.p;try{G.p=2,dh(i,l,a,f)}finally{G.p=g,B.T=p}}function iC(i,l,a,f){var p=B.T;B.T=null;var g=G.p;try{G.p=8,dh(i,l,a,f)}finally{G.p=g,B.T=p}}function dh(i,l,a,f){if(su){var p=hh(f);if(p===null)Wd(i,l,f,lu,a),Mb(i,f);else if(lC(p,i,l,a,f))f.stopPropagation();else if(Mb(i,f),l&4&&-1<sC.indexOf(i)){for(;p!==null;){var g=rs(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var S=mi(g.pendingLanes);if(S!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;S;){var N=1<<31-Zt(S);C.entanglements[1]|=N,S&=~N}Un(g),(De&6)===0&&(Va=zn()+500,Yl(0))}}break;case 13:C=gs(g,2),C!==null&&ln(C,g,2),$a(),fh(g,2)}if(g=hh(f),g===null&&Wd(i,l,f,lu,a),g===p)break;p=g}p!==null&&f.stopPropagation()}else Wd(i,l,f,null,a)}}function hh(i){return i=bf(i),ph(i)}var lu=null;function ph(i){if(lu=null,i=ns(i),i!==null){var l=o(i);if(l===null)i=null;else{var a=l.tag;if(a===13){if(i=u(l),i!==null)return i;i=null}else if(a===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return lu=i,null}function Ob(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(FE()){case Vm:return 2;case Fm:return 8;case Zo:case $E:return 32;case $m:return 268435456;default:return 32}default:return 32}}var mh=!1,Fr=null,$r=null,Gr=null,no=new Map,ro=new Map,Kr=[],sC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mb(i,l){switch(i){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":no.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ro.delete(l.pointerId)}}function io(i,l,a,f,p,g){return i===null||i.nativeEvent!==g?(i={blockedOn:l,domEventName:a,eventSystemFlags:f,nativeEvent:g,targetContainers:[p]},l!==null&&(l=rs(l),l!==null&&Ab(l)),i):(i.eventSystemFlags|=f,l=i.targetContainers,p!==null&&l.indexOf(p)===-1&&l.push(p),i)}function lC(i,l,a,f,p){switch(l){case"focusin":return Fr=io(Fr,i,l,a,f,p),!0;case"dragenter":return $r=io($r,i,l,a,f,p),!0;case"mouseover":return Gr=io(Gr,i,l,a,f,p),!0;case"pointerover":var g=p.pointerId;return no.set(g,io(no.get(g)||null,i,l,a,f,p)),!0;case"gotpointercapture":return g=p.pointerId,ro.set(g,io(ro.get(g)||null,i,l,a,f,p)),!0}return!1}function Rb(i){var l=ns(i.target);if(l!==null){var a=o(l);if(a!==null){if(l=a.tag,l===13){if(l=u(a),l!==null){i.blockedOn=l,WE(i.priority,function(){if(a.tag===13){var f=sn();f=of(f);var p=gs(a,f);p!==null&&ln(p,a,f),fh(a,f)}});return}}else if(l===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ou(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var a=hh(i.nativeEvent);if(a===null){a=i.nativeEvent;var f=new a.constructor(a.type,a);yf=f,a.target.dispatchEvent(f),yf=null}else return l=rs(a),l!==null&&Ab(l),i.blockedOn=a,!1;l.shift()}return!0}function Db(i,l,a){ou(i)&&a.delete(l)}function oC(){mh=!1,Fr!==null&&ou(Fr)&&(Fr=null),$r!==null&&ou($r)&&($r=null),Gr!==null&&ou(Gr)&&(Gr=null),no.forEach(Db),ro.forEach(Db)}function au(i,l){i.blockedOn===l&&(i.blockedOn=null,mh||(mh=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,oC)))}var uu=null;function jb(i){uu!==i&&(uu=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){uu===i&&(uu=null);for(var l=0;l<i.length;l+=3){var a=i[l],f=i[l+1],p=i[l+2];if(typeof f!="function"){if(ph(f||a)===null)continue;break}var g=rs(a);g!==null&&(i.splice(l,3),l-=3,pd(g,{pending:!0,data:p,method:a.method,action:f},f,p))}}))}function so(i){function l(N){return au(N,i)}Fr!==null&&au(Fr,i),$r!==null&&au($r,i),Gr!==null&&au(Gr,i),no.forEach(l),ro.forEach(l);for(var a=0;a<Kr.length;a++){var f=Kr[a];f.blockedOn===i&&(f.blockedOn=null)}for(;0<Kr.length&&(a=Kr[0],a.blockedOn===null);)Rb(a),a.blockedOn===null&&Kr.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(f=0;f<a.length;f+=3){var p=a[f],g=a[f+1],S=p[Ut]||null;if(typeof g=="function")S||jb(a);else if(S){var C=null;if(g&&g.hasAttribute("formAction")){if(p=g,S=g[Ut]||null)C=S.formAction;else if(ph(p)!==null)continue}else C=S.action;typeof C=="function"?a[f+1]=C:(a.splice(f,3),f-=3),jb(a)}}}function gh(i){this._internalRoot=i}cu.prototype.render=gh.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(r(409));var a=l.current,f=sn();kb(a,f,i,l,null,null)},cu.prototype.unmount=gh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;kb(i.current,2,null,i,null,null),$a(),l[ts]=null}};function cu(i){this._internalRoot=i}cu.prototype.unstable_scheduleHydration=function(i){if(i){var l=Xm();i={blockedOn:null,target:i,priority:l};for(var a=0;a<Kr.length&&l!==0&&l<Kr[a].priority;a++);Kr.splice(a,0,i),a===0&&Rb(i)}};var zb=e.version;if(zb!=="19.1.0")throw Error(r(527,zb,"19.1.0"));G.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(l),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var aC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fu.isDisabled&&fu.supportsFiber)try{ul=fu.inject(aC),Qt=fu}catch{}}return oo.createRoot=function(i,l){if(!s(i))throw Error(r(299));var a=!1,f="",p=Xy,g=Qy,S=Zy,C=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(g=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(C=l.unstable_transitionCallbacks)),l=wb(i,1,!1,null,null,a,f,p,g,S,C,null),i[ts]=l.current,Zd(i),new gh(l)},oo.hydrateRoot=function(i,l,a){if(!s(i))throw Error(r(299));var f=!1,p="",g=Xy,S=Qy,C=Zy,N=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(S=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),l=wb(i,1,!0,l,a??null,f,p,g,S,C,N,L),l.context=Cb(null),a=l.current,f=sn(),f=of(f),p=Mr(f),p.callback=null,Rr(a,p,f),a=f,l.current.lanes=a,fl(l,a),Un(l),i[ts]=l.current,Zd(i),new cu(l)},oo.version="19.1.0",oo}var Fb;function yC(){if(Fb)return xh.exports;Fb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),xh.exports=gC(),xh.exports}var bC=yC();const xC=fi(bC);var ao={},$b;function vC(){if($b)return ao;$b=1,Object.defineProperty(ao,"__esModule",{value:!0}),ao.parse=u,ao.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function u(b,v){const x=new o,E=b.length;if(E<2)return x;const w=(v==null?void 0:v.decode)||m;let k=0;do{const A=b.indexOf("=",k);if(A===-1)break;const j=b.indexOf(";",k),I=j===-1?E:j;if(A>I){k=b.lastIndexOf(";",A-1)+1;continue}const U=c(b,k,A),X=d(b,A,U),Q=b.slice(U,X);if(x[Q]===void 0){let ie=c(b,A+1,I),J=d(b,I,ie);const Ne=w(b.slice(ie,J));x[Q]=Ne}k=I+1}while(k<E);return x}function c(b,v,x){do{const E=b.charCodeAt(v);if(E!==32&&E!==9)return v}while(++v<x);return x}function d(b,v,x){for(;v>x;){const E=b.charCodeAt(--v);if(E!==32&&E!==9)return v+1}return x}function h(b,v,x){const E=(x==null?void 0:x.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const w=E(v);if(!e.test(w))throw new TypeError(`argument val is invalid: ${v}`);let k=b+"="+w;if(!x)return k;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);k+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);k+="; Domain="+x.domain}if(x.path){if(!r.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);k+="; Path="+x.path}if(x.expires){if(!y(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);k+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(k+="; HttpOnly"),x.secure&&(k+="; Secure"),x.partitioned&&(k+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return k}function m(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function y(b){return s.call(b)==="[object Date]"}return ao}vC();var Gb="popstate";function SC(n={}){function e(r,s){let{pathname:o,search:u,hash:c}=r.location;return dp("",{pathname:o,search:u,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Oo(s)}return TC(e,t,null,n)}function Je(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function $n(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function EC(){return Math.random().toString(36).substring(2,10)}function Kb(n,e){return{usr:n.state,key:n.key,idx:e}}function dp(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?il(e):e,state:t,key:e&&e.key||r||EC()}}function Oo({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function il(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function TC(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,u=s.history,c="POP",d=null,h=m();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function m(){return(u.state||{idx:null}).idx}function y(){c="POP";let w=m(),k=w==null?null:w-h;h=w,d&&d({action:c,location:E.location,delta:k})}function b(w,k){c="PUSH";let A=dp(E.location,w,k);h=m()+1;let j=Kb(A,h),I=E.createHref(A);try{u.pushState(j,"",I)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;s.location.assign(I)}o&&d&&d({action:c,location:E.location,delta:1})}function v(w,k){c="REPLACE";let A=dp(E.location,w,k);h=m();let j=Kb(A,h),I=E.createHref(A);u.replaceState(j,"",I),o&&d&&d({action:c,location:E.location,delta:0})}function x(w){return wC(w)}let E={get action(){return c},get location(){return n(s,u)},listen(w){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(Gb,y),d=w,()=>{s.removeEventListener(Gb,y),d=null}},createHref(w){return e(s,w)},createURL:x,encodeLocation(w){let k=x(w);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:b,replace:v,go(w){return u.go(w)}};return E}function wC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Je(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Oo(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function Gx(n,e,t="/"){return CC(n,e,t,!1)}function CC(n,e,t,r){let s=typeof e=="string"?il(e):e,o=Er(s.pathname||"/",t);if(o==null)return null;let u=Kx(n);kC(u);let c=null;for(let d=0;c==null&&d<u.length;++d){let h=_C(o);c=LC(u[d],h,r)}return c}function Kx(n,e=[],t=[],r=""){let s=(o,u,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};d.relativePath.startsWith("/")&&(Je(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let h=xr([r,d.relativePath]),m=t.concat(d);o.children&&o.children.length>0&&(Je(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Kx(o.children,e,m,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:jC(h,o.index),routesMeta:m})};return n.forEach((o,u)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,u);else for(let d of Yx(o.path))s(o,u,d)}),e}function Yx(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let u=Yx(r.join("/")),c=[];return c.push(...u.map(d=>d===""?o:[o,d].join("/"))),s&&c.push(...u),c.map(d=>n.startsWith("/")&&d===""?"/":d)}function kC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:zC(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var NC=/^:[\w-]+$/,AC=3,OC=2,MC=1,RC=10,DC=-2,Yb=n=>n==="*";function jC(n,e){let t=n.split("/"),r=t.length;return t.some(Yb)&&(r+=DC),e&&(r+=OC),t.filter(s=>!Yb(s)).reduce((s,o)=>s+(NC.test(o)?AC:o===""?MC:RC),r)}function zC(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function LC(n,e,t=!1){let{routesMeta:r}=n,s={},o="/",u=[];for(let c=0;c<r.length;++c){let d=r[c],h=c===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",y=Lu({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),b=d.route;if(!y&&h&&t&&!r[r.length-1].route.index&&(y=Lu({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!y)return null;Object.assign(s,y.params),u.push({params:s,pathname:xr([o,y.pathname]),pathnameBase:qC(xr([o,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(o=xr([o,y.pathnameBase]))}return u}function Lu(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=BC(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:y},b)=>{if(m==="*"){let x=c[b]||"";u=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const v=c[b];return y&&!v?h[m]=void 0:h[m]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:u,pattern:n}}function BC(n,e=!1,t=!0){$n(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function _C(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $n(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Er(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function HC(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?il(n):n;return{pathname:t?t.startsWith("/")?t:UC(t,e):e,search:IC(r),hash:VC(s)}}function UC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Th(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Jx(n){let e=PC(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Xx(n,e,t,r=!1){let s;typeof n=="string"?s=il(n):(s={...n},Je(!s.pathname||!s.pathname.includes("?"),Th("?","pathname","search",s)),Je(!s.pathname||!s.pathname.includes("#"),Th("#","pathname","hash",s)),Je(!s.search||!s.search.includes("#"),Th("#","search","hash",s)));let o=n===""||s.pathname==="",u=o?"/":s.pathname,c;if(u==null)c=t;else{let y=e.length-1;if(!r&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),y-=1;s.pathname=b.join("/")}c=y>=0?e[y]:"/"}let d=HC(s,c),h=u&&u!=="/"&&u.endsWith("/"),m=(o||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var xr=n=>n.join("/").replace(/\/\/+/g,"/"),qC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),IC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,VC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function FC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Qx=["POST","PUT","PATCH","DELETE"];new Set(Qx);var $C=["GET",...Qx];new Set($C);var sl=R.createContext(null);sl.displayName="DataRouter";var Mc=R.createContext(null);Mc.displayName="DataRouterState";var Zx=R.createContext({isTransitioning:!1});Zx.displayName="ViewTransition";var GC=R.createContext(new Map);GC.displayName="Fetchers";var KC=R.createContext(null);KC.displayName="Await";var Jn=R.createContext(null);Jn.displayName="Navigation";var Vo=R.createContext(null);Vo.displayName="Location";var Xn=R.createContext({outlet:null,matches:[],isDataRoute:!1});Xn.displayName="Route";var Wp=R.createContext(null);Wp.displayName="RouteError";function YC(n,{relative:e}={}){Je(Fo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=R.useContext(Jn),{hash:s,pathname:o,search:u}=$o(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:xr([t,o])),r.createHref({pathname:c,search:u,hash:s})}function Fo(){return R.useContext(Vo)!=null}function Tr(){return Je(Fo(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Vo).location}var Wx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ev(n){R.useContext(Jn).static||R.useLayoutEffect(n)}function Cn(){let{isDataRoute:n}=R.useContext(Xn);return n?ok():JC()}function JC(){Je(Fo(),"useNavigate() may be used only in the context of a <Router> component.");let n=R.useContext(sl),{basename:e,navigator:t}=R.useContext(Jn),{matches:r}=R.useContext(Xn),{pathname:s}=Tr(),o=JSON.stringify(Jx(r)),u=R.useRef(!1);return ev(()=>{u.current=!0}),R.useCallback((d,h={})=>{if($n(u.current,Wx),!u.current)return;if(typeof d=="number"){t.go(d);return}let m=Xx(d,JSON.parse(o),s,h.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:xr([e,m.pathname])),(h.replace?t.replace:t.push)(m,h.state,h)},[e,t,o,s,n])}R.createContext(null);function Rc(){let{matches:n}=R.useContext(Xn),e=n[n.length-1];return e?e.params:{}}function $o(n,{relative:e}={}){let{matches:t}=R.useContext(Xn),{pathname:r}=Tr(),s=JSON.stringify(Jx(t));return R.useMemo(()=>Xx(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function XC(n,e){return tv(n,e)}function tv(n,e,t,r){var k;Je(Fo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=R.useContext(Jn),{matches:o}=R.useContext(Xn),u=o[o.length-1],c=u?u.params:{},d=u?u.pathname:"/",h=u?u.pathnameBase:"/",m=u&&u.route;{let A=m&&m.path||"";nv(d,!m||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let y=Tr(),b;if(e){let A=typeof e=="string"?il(e):e;Je(h==="/"||((k=A.pathname)==null?void 0:k.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${A.pathname}" was given in the \`location\` prop.`),b=A}else b=y;let v=b.pathname||"/",x=v;if(h!=="/"){let A=h.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(A.length).join("/")}let E=Gx(n,{pathname:x});$n(m||E!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),$n(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=tk(E&&E.map(A=>Object.assign({},A,{params:Object.assign({},c,A.params),pathname:xr([h,s.encodeLocation?s.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?h:xr([h,s.encodeLocation?s.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,t,r);return e&&w?R.createElement(Vo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},w):w}function QC(){let n=lk(),e=FC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=R.createElement(R.Fragment,null,R.createElement("p",null,"💿 Hey developer 👋"),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:o},"ErrorBoundary")," or"," ",R.createElement("code",{style:o},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),t?R.createElement("pre",{style:s},t):null,u)}var ZC=R.createElement(QC,null),WC=class extends R.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?R.createElement(Xn.Provider,{value:this.props.routeContext},R.createElement(Wp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ek({routeContext:n,match:e,children:t}){let r=R.useContext(sl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(Xn.Provider,{value:n},t)}function tk(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t==null?void 0:t.errors;if(o!=null){let d=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);Je(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let u=!1,c=-1;if(t)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:m,errors:y}=t,b=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!y||y[h.route.id]===void 0);if(h.route.lazy||b){u=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,h,m)=>{let y,b=!1,v=null,x=null;t&&(y=o&&h.route.id?o[h.route.id]:void 0,v=h.route.errorElement||ZC,u&&(c<0&&m===0?(nv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,x=null):c===m&&(b=!0,x=h.route.hydrateFallbackElement||null)));let E=e.concat(s.slice(0,m+1)),w=()=>{let k;return y?k=v:b?k=x:h.route.Component?k=R.createElement(h.route.Component,null):h.route.element?k=h.route.element:k=d,R.createElement(ek,{match:h,routeContext:{outlet:d,matches:E,isDataRoute:t!=null},children:k})};return t&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?R.createElement(WC,{location:t.location,revalidation:t.revalidation,component:v,error:y,children:w(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):w()},null)}function em(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nk(n){let e=R.useContext(sl);return Je(e,em(n)),e}function rk(n){let e=R.useContext(Mc);return Je(e,em(n)),e}function ik(n){let e=R.useContext(Xn);return Je(e,em(n)),e}function tm(n){let e=ik(n),t=e.matches[e.matches.length-1];return Je(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function sk(){return tm("useRouteId")}function lk(){var r;let n=R.useContext(Wp),e=rk("useRouteError"),t=tm("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function ok(){let{router:n}=nk("useNavigate"),e=tm("useNavigate"),t=R.useRef(!1);return ev(()=>{t.current=!0}),R.useCallback(async(s,o={})=>{$n(t.current,Wx),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var Jb={};function nv(n,e,t){!e&&!Jb[n]&&(Jb[n]=!0,$n(!1,t))}R.memo(ak);function ak({routes:n,future:e,state:t}){return tv(n,void 0,t,e)}function vt(n){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uk({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:o=!1}){Je(!Fo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),c=R.useMemo(()=>({basename:u,navigator:s,static:o,future:{}}),[u,s,o]);typeof t=="string"&&(t=il(t));let{pathname:d="/",search:h="",hash:m="",state:y=null,key:b="default"}=t,v=R.useMemo(()=>{let x=Er(d,u);return x==null?null:{location:{pathname:x,search:h,hash:m,state:y,key:b},navigationType:r}},[u,d,h,m,y,b,r]);return $n(v!=null,`<Router basename="${u}"> is not able to match the URL "${d}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:R.createElement(Jn.Provider,{value:c},R.createElement(Vo.Provider,{children:e,value:v}))}function ck({children:n,location:e}){return XC(hp(n),e)}function hp(n,e=[]){let t=[];return R.Children.forEach(n,(r,s)=>{if(!R.isValidElement(r))return;let o=[...e,s];if(r.type===R.Fragment){t.push.apply(t,hp(r.props.children,o));return}Je(r.type===vt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=hp(r.props.children,o)),t.push(u)}),t}var Tu="get",wu="application/x-www-form-urlencoded";function Dc(n){return n!=null&&typeof n.tagName=="string"}function fk(n){return Dc(n)&&n.tagName.toLowerCase()==="button"}function dk(n){return Dc(n)&&n.tagName.toLowerCase()==="form"}function hk(n){return Dc(n)&&n.tagName.toLowerCase()==="input"}function pk(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function mk(n,e){return n.button===0&&(!e||e==="_self")&&!pk(n)}var du=null;function gk(){if(du===null)try{new FormData(document.createElement("form"),0),du=!1}catch{du=!0}return du}var yk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wh(n){return n!=null&&!yk.has(n)?($n(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wu}"`),null):n}function bk(n,e){let t,r,s,o,u;if(dk(n)){let c=n.getAttribute("action");r=c?Er(c,e):null,t=n.getAttribute("method")||Tu,s=wh(n.getAttribute("enctype"))||wu,o=new FormData(n)}else if(fk(n)||hk(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||c.getAttribute("action");if(r=d?Er(d,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Tu,s=wh(n.getAttribute("formenctype"))||wh(c.getAttribute("enctype"))||wu,o=new FormData(c,n),!gk()){let{name:h,type:m,value:y}=n;if(m==="image"){let b=h?`${h}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else h&&o.append(h,y)}}else{if(Dc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Tu,r=null,s=wu,u=n}return o&&s==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:o,body:u}}function nm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function xk(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vk(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Sk(n,e,t){let r=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await xk(o,t);return u.links?u.links():[]}return[]}));return Ck(r.flat(1).filter(vk).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Xb(n,e,t,r,s,o){let u=(d,h)=>t[h]?d.route.id!==t[h].route.id:!0,c=(d,h)=>{var m;return t[h].pathname!==d.pathname||((m=t[h].route.path)==null?void 0:m.endsWith("*"))&&t[h].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,h)=>u(d,h)||c(d,h)):o==="data"?e.filter((d,h)=>{var y;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(u(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Ek(n,e,{includeHydrateFallback:t}={}){return Tk(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function Tk(n){return[...new Set(n)]}function wk(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function Ck(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let o=JSON.stringify(wk(s));return t.has(o)||(t.add(o),r.push({key:o,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var kk=new Set([100,101,204,205]);function Nk(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Er(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function rv(){let n=R.useContext(sl);return nm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Ak(){let n=R.useContext(Mc);return nm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var rm=R.createContext(void 0);rm.displayName="FrameworkContext";function iv(){let n=R.useContext(rm);return nm(n,"You must render this element inside a <HydratedRouter> element"),n}function Ok(n,e){let t=R.useContext(rm),[r,s]=R.useState(!1),[o,u]=R.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:y}=e,b=R.useRef(null);R.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let E=k=>{k.forEach(A=>{u(A.isIntersecting)})},w=new IntersectionObserver(E,{threshold:.5});return b.current&&w.observe(b.current),()=>{w.disconnect()}}},[n]),R.useEffect(()=>{if(r){let E=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(E)}}},[r]);let v=()=>{s(!0)},x=()=>{s(!1),u(!1)};return t?n!=="intent"?[o,b,{}]:[o,b,{onFocus:uo(c,v),onBlur:uo(d,x),onMouseEnter:uo(h,v),onMouseLeave:uo(m,x),onTouchStart:uo(y,v)}]:[!1,b,{}]}function uo(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Mk({page:n,...e}){let{router:t}=rv(),r=R.useMemo(()=>Gx(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?R.createElement(Dk,{page:n,matches:r,...e}):null}function Rk(n){let{manifest:e,routeModules:t}=iv(),[r,s]=R.useState([]);return R.useEffect(()=>{let o=!1;return Sk(n,e,t).then(u=>{o||s(u)}),()=>{o=!0}},[n,e,t]),r}function Dk({page:n,matches:e,...t}){let r=Tr(),{manifest:s,routeModules:o}=iv(),{basename:u}=rv(),{loaderData:c,matches:d}=Ak(),h=R.useMemo(()=>Xb(n,e,d,s,r,"data"),[n,e,d,s,r]),m=R.useMemo(()=>Xb(n,e,d,s,r,"assets"),[n,e,d,s,r]),y=R.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let x=new Set,E=!1;if(e.forEach(k=>{var j;let A=s.routes[k.route.id];!A||!A.hasLoader||(!h.some(I=>I.route.id===k.route.id)&&k.route.id in c&&((j=o[k.route.id])!=null&&j.shouldRevalidate)||A.hasClientLoader?E=!0:x.add(k.route.id))}),x.size===0)return[];let w=Nk(n,u);return E&&x.size>0&&w.searchParams.set("_routes",e.filter(k=>x.has(k.route.id)).map(k=>k.route.id).join(",")),[w.pathname+w.search]},[u,c,r,s,h,e,n,o]),b=R.useMemo(()=>Ek(m,s),[m,s]),v=Rk(m);return R.createElement(R.Fragment,null,y.map(x=>R.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),b.map(x=>R.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),v.map(({key:x,link:E})=>R.createElement("link",{key:x,...E})))}function jk(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var sv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sv&&(window.__reactRouterVersion="7.6.1")}catch{}function zk({basename:n,children:e,window:t}){let r=R.useRef();r.current==null&&(r.current=SC({window:t,v5Compat:!0}));let s=r.current,[o,u]=R.useState({action:s.action,location:s.location}),c=R.useCallback(d=>{R.startTransition(()=>u(d))},[u]);return R.useLayoutEffect(()=>s.listen(c),[s,c]),R.createElement(uk,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s})}var lv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=R.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:o,replace:u,state:c,target:d,to:h,preventScrollReset:m,viewTransition:y,...b},v){let{basename:x}=R.useContext(Jn),E=typeof h=="string"&&lv.test(h),w,k=!1;if(typeof h=="string"&&E&&(w=h,sv))try{let J=new URL(window.location.href),Ne=h.startsWith("//")?new URL(J.protocol+h):new URL(h),ze=Er(Ne.pathname,x);Ne.origin===J.origin&&ze!=null?h=ze+Ne.search+Ne.hash:k=!0}catch{$n(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=YC(h,{relative:s}),[j,I,U]=Ok(r,b),X=Hk(h,{replace:u,state:c,target:d,preventScrollReset:m,relative:s,viewTransition:y});function Q(J){e&&e(J),J.defaultPrevented||X(J)}let ie=R.createElement("a",{...b,...U,href:w||A,onClick:k||o?e:Q,ref:jk(v,I),target:d,"data-discover":!E&&t==="render"?"true":void 0});return j&&!E?R.createElement(R.Fragment,null,ie,R.createElement(Mk,{page:A})):ie});Te.displayName="Link";var Lk=R.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:o,to:u,viewTransition:c,children:d,...h},m){let y=$o(u,{relative:h.relative}),b=Tr(),v=R.useContext(Mc),{navigator:x,basename:E}=R.useContext(Jn),w=v!=null&&Vk(y)&&c===!0,k=x.encodeLocation?x.encodeLocation(y).pathname:y.pathname,A=b.pathname,j=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(A=A.toLowerCase(),j=j?j.toLowerCase():null,k=k.toLowerCase()),j&&E&&(j=Er(j,E)||j);const I=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let U=A===k||!s&&A.startsWith(k)&&A.charAt(I)==="/",X=j!=null&&(j===k||!s&&j.startsWith(k)&&j.charAt(k.length)==="/"),Q={isActive:U,isPending:X,isTransitioning:w},ie=U?e:void 0,J;typeof r=="function"?J=r(Q):J=[r,U?"active":null,X?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let Ne=typeof o=="function"?o(Q):o;return R.createElement(Te,{...h,"aria-current":ie,className:J,ref:m,style:Ne,to:u,viewTransition:c},typeof d=="function"?d(Q):d)});Lk.displayName="NavLink";var Bk=R.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:o,method:u=Tu,action:c,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:y,...b},v)=>{let x=qk(),E=Ik(c,{relative:h}),w=u.toLowerCase()==="get"?"get":"post",k=typeof c=="string"&&lv.test(c),A=j=>{if(d&&d(j),j.defaultPrevented)return;j.preventDefault();let I=j.nativeEvent.submitter,U=(I==null?void 0:I.getAttribute("formmethod"))||u;x(I||j.currentTarget,{fetcherKey:e,method:U,navigate:t,replace:s,state:o,relative:h,preventScrollReset:m,viewTransition:y})};return R.createElement("form",{ref:v,method:w,action:E,onSubmit:r?d:A,...b,"data-discover":!k&&n==="render"?"true":void 0})});Bk.displayName="Form";function _k(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ov(n){let e=R.useContext(sl);return Je(e,_k(n)),e}function Hk(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:o,viewTransition:u}={}){let c=Cn(),d=Tr(),h=$o(n,{relative:o});return R.useCallback(m=>{if(mk(m,e)){m.preventDefault();let y=t!==void 0?t:Oo(d)===Oo(h);c(n,{replace:y,state:r,preventScrollReset:s,relative:o,viewTransition:u})}},[d,c,h,t,r,e,n,s,o,u])}var Uk=0,Pk=()=>`__${String(++Uk)}__`;function qk(){let{router:n}=ov("useSubmit"),{basename:e}=R.useContext(Jn),t=sk();return R.useCallback(async(r,s={})=>{let{action:o,method:u,encType:c,formData:d,body:h}=bk(r,e);if(s.navigate===!1){let m=s.fetcherKey||Pk();await n.fetch(m,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||u,formEncType:s.encType||c,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||u,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function Ik(n,{relative:e}={}){let{basename:t}=R.useContext(Jn),r=R.useContext(Xn);Je(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...$o(n||".",{relative:e})},u=Tr();if(n==null){o.search=u.search;let c=new URLSearchParams(o.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(y=>y).forEach(y=>c.append("index",y));let m=c.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:xr([t,o.pathname])),Oo(o)}function Vk(n,e={}){let t=R.useContext(Zx);Je(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ov("useViewTransitionState"),s=$o(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Er(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Er(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Lu(s.pathname,u)!=null||Lu(s.pathname,o)!=null}[...kk];var Fk=$x();const $k=fi(Fk),av=R.createContext();function Gk({children:n}){const[e,t]=R.useState(null),[r,s]=R.useState(null);R.useEffect(()=>{const c=localStorage.getItem("user"),d=localStorage.getItem("token");c&&d&&(t(JSON.parse(c)),s(d))},[]);const o=(c,d)=>{localStorage.setItem("user",JSON.stringify(c)),localStorage.setItem("token",d),t(c),s(d)},u=()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),t(null),s(null)};return T.jsx(av.Provider,{value:{user:e,token:r,login:o,logout:u},children:n})}const Dn=()=>R.useContext(av);function Kk(){const{user:n,logout:e}=Dn(),[t,r]=R.useState(!1),[s,o]=R.useState(!1),u=Cn(),c=["Teologji","Filozofi","Kulturë","Politikë","Histori"];return T.jsxs("header",{className:"border-b border-gray-200 shadow-sm bg-white w-full",children:[T.jsxs("div",{className:"max-w-6xl mx-auto h-20 flex items-center justify-between px-4 relative",children:[T.jsx("button",{onClick:()=>o(!s),className:"md:hidden text-2xl absolute left-4",children:"☰"}),T.jsx("div",{className:"flex-1 flex justify-center min-w-0",children:T.jsx(Te,{to:"/",className:"flex items-center justify-center",children:T.jsx("img",{src:"/Logo-horizontal.png",alt:"Udhëkryqi Logo",className:"h-10 md:h-16 w-auto max-w-[100%] sm:max-w-[100%] md:max-w-full transition-all duration-200"})})}),T.jsx("div",{style:{fontFamily:"Georgia, serif"},className:`absolute right-4 pr-2 sm:pr-4 flex flex-wrap justify-end ${n?"flex-row items-center gap-2":"flex-col items-center gap-1 sm:flex-row sm:gap-2"}`,children:n?T.jsxs("div",{className:"relative",children:[T.jsx("button",{onClick:()=>r(!t),className:"w-9 h-9 rounded-full bg-gray-800 text-white",children:n.name[0].toUpperCase()}),t&&T.jsxs("div",{className:"absolute right-0 mt-2 bg-white border rounded shadow-lg w-40 z-10 divide-y divide-gray-200",children:[n.role==="admin"?T.jsxs(T.Fragment,{children:[T.jsx(Te,{to:"/admin",className:"block px-4 py-2 hover:bg-gray-100",onClick:()=>r(!1),children:"Paneli"}),T.jsx(Te,{to:"/admin/new-post",className:"block px-4 py-2 hover:bg-gray-100",onClick:()=>r(!1),children:"Posto Artikull"})]}):T.jsx(Te,{to:"/dashboard",className:"block px-4 py-2 hover:bg-gray-100",onClick:()=>r(!1),children:"Paneli"}),T.jsx("button",{onClick:()=>{e(),u("/"),r(!1)},className:"block w-full text-left px-4 py-2 hover:bg-gray-100",children:"Dil"})]})]}):T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"relative flex sm:hidden",children:[T.jsx("button",{onClick:()=>r(!t),className:"w-10 h-10 flex items-center justify-center border border-gray-400 rounded-full text-sm font-semibold hover:bg-gray-100",children:"Hyr"}),t&&T.jsxs("div",{className:"absolute right-0 mt-7 bg-white border rounded shadow-lg w-36 z-10 divide-y divide-gray-200",children:[T.jsx(Te,{to:"/login",className:"block px-4 py-2 hover:bg-gray-100",onClick:()=>r(!1),children:"Hyr"}),T.jsx(Te,{to:"/register",className:"block px-4 py-2 hover:bg-gray-100",onClick:()=>r(!1),children:"Regjistrohu"})]})]}),T.jsxs("div",{className:"hidden sm:flex gap-2",children:[T.jsx(Te,{to:"/login",className:"w-24 text-center py-1 border border-gray-400 rounded text-sm hover:bg-gray-100",children:"Hyr"}),T.jsx(Te,{to:"/register",className:"w-24 text-center py-1 bg-black text-white rounded text-sm hover:bg-gray-800",children:"Regjistrohu"})]})]})})]}),T.jsxs("nav",{style:{fontFamily:"Georgia, serif"},className:"hidden md:flex max-w-6xl mx-auto justify-center gap-5 px-4 py-2 text-sm font-bold",children:[T.jsx(Te,{to:"/",children:"Home"}),c.map(d=>T.jsx(Te,{to:`/category/${encodeURIComponent(d.toLowerCase())}`,children:d},d)),T.jsx(Te,{to:"/rreth-nesh",children:"Rreth Nesh"})]}),s&&T.jsxs("nav",{style:{fontFamily:"Georgia, serif"},className:"md:hidden max-w-6xl mx-auto px-4 pb-4 pt-2 divide-y divide-gray-200 text-sm font-medium bg-white border-t shadow-sm",children:[T.jsx(Te,{to:"/",className:"block py-2",onClick:()=>o(!1),children:"Home"}),c.map(d=>T.jsx(Te,{to:`/category/${encodeURIComponent(d.toLowerCase())}`,className:"block py-2",onClick:()=>o(!1),children:d},d)),T.jsx(Te,{to:"/rreth-nesh",className:"block py-2",onClick:()=>o(!1),children:"Rreth Nesh"})]})]})}function uv(n,e){return function(){return n.apply(e,arguments)}}const{toString:Yk}=Object.prototype,{getPrototypeOf:im}=Object,{iterator:jc,toStringTag:cv}=Symbol,zc=(n=>e=>{const t=Yk.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),jn=n=>(n=n.toLowerCase(),e=>zc(e)===n),Lc=n=>e=>typeof e===n,{isArray:ll}=Array,Mo=Lc("undefined");function Jk(n){return n!==null&&!Mo(n)&&n.constructor!==null&&!Mo(n.constructor)&&Gt(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const fv=jn("ArrayBuffer");function Xk(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&fv(n.buffer),e}const Qk=Lc("string"),Gt=Lc("function"),dv=Lc("number"),Bc=n=>n!==null&&typeof n=="object",Zk=n=>n===!0||n===!1,Cu=n=>{if(zc(n)!=="object")return!1;const e=im(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(cv in n)&&!(jc in n)},Wk=jn("Date"),eN=jn("File"),tN=jn("Blob"),nN=jn("FileList"),rN=n=>Bc(n)&&Gt(n.pipe),iN=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Gt(n.append)&&((e=zc(n))==="formdata"||e==="object"&&Gt(n.toString)&&n.toString()==="[object FormData]"))},sN=jn("URLSearchParams"),[lN,oN,aN,uN]=["ReadableStream","Request","Response","Headers"].map(jn),cN=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Go(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,s;if(typeof n!="object"&&(n=[n]),ll(n))for(r=0,s=n.length;r<s;r++)e.call(null,n[r],r,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),u=o.length;let c;for(r=0;r<u;r++)c=o[r],e.call(null,n[c],c,n)}}function hv(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,s;for(;r-- >0;)if(s=t[r],e===s.toLowerCase())return s;return null}const Bi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,pv=n=>!Mo(n)&&n!==Bi;function pp(){const{caseless:n}=pv(this)&&this||{},e={},t=(r,s)=>{const o=n&&hv(e,s)||s;Cu(e[o])&&Cu(r)?e[o]=pp(e[o],r):Cu(r)?e[o]=pp({},r):ll(r)?e[o]=r.slice():e[o]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Go(arguments[r],t);return e}const fN=(n,e,t,{allOwnKeys:r}={})=>(Go(e,(s,o)=>{t&&Gt(s)?n[o]=uv(s,t):n[o]=s},{allOwnKeys:r}),n),dN=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),hN=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},pN=(n,e,t,r)=>{let s,o,u;const c={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),o=s.length;o-- >0;)u=s[o],(!r||r(u,n,e))&&!c[u]&&(e[u]=n[u],c[u]=!0);n=t!==!1&&im(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},mN=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},gN=n=>{if(!n)return null;if(ll(n))return n;let e=n.length;if(!dv(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},yN=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&im(Uint8Array)),bN=(n,e)=>{const r=(n&&n[jc]).call(n);let s;for(;(s=r.next())&&!s.done;){const o=s.value;e.call(n,o[0],o[1])}},xN=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},vN=jn("HTMLFormElement"),SN=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,s){return r.toUpperCase()+s}),Qb=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),EN=jn("RegExp"),mv=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Go(t,(s,o)=>{let u;(u=e(s,o,n))!==!1&&(r[o]=u||s)}),Object.defineProperties(n,r)},TN=n=>{mv(n,(e,t)=>{if(Gt(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Gt(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},wN=(n,e)=>{const t={},r=s=>{s.forEach(o=>{t[o]=!0})};return ll(n)?r(n):r(String(n).split(e)),t},CN=()=>{},kN=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function NN(n){return!!(n&&Gt(n.append)&&n[cv]==="FormData"&&n[jc])}const AN=n=>{const e=new Array(10),t=(r,s)=>{if(Bc(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const o=ll(r)?[]:{};return Go(r,(u,c)=>{const d=t(u,s+1);!Mo(d)&&(o[c]=d)}),e[s]=void 0,o}}return r};return t(n,0)},ON=jn("AsyncFunction"),MN=n=>n&&(Bc(n)||Gt(n))&&Gt(n.then)&&Gt(n.catch),gv=((n,e)=>n?setImmediate:e?((t,r)=>(Bi.addEventListener("message",({source:s,data:o})=>{s===Bi&&o===t&&r.length&&r.shift()()},!1),s=>{r.push(s),Bi.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Gt(Bi.postMessage)),RN=typeof queueMicrotask<"u"?queueMicrotask.bind(Bi):typeof process<"u"&&process.nextTick||gv,DN=n=>n!=null&&Gt(n[jc]),P={isArray:ll,isArrayBuffer:fv,isBuffer:Jk,isFormData:iN,isArrayBufferView:Xk,isString:Qk,isNumber:dv,isBoolean:Zk,isObject:Bc,isPlainObject:Cu,isReadableStream:lN,isRequest:oN,isResponse:aN,isHeaders:uN,isUndefined:Mo,isDate:Wk,isFile:eN,isBlob:tN,isRegExp:EN,isFunction:Gt,isStream:rN,isURLSearchParams:sN,isTypedArray:yN,isFileList:nN,forEach:Go,merge:pp,extend:fN,trim:cN,stripBOM:dN,inherits:hN,toFlatObject:pN,kindOf:zc,kindOfTest:jn,endsWith:mN,toArray:gN,forEachEntry:bN,matchAll:xN,isHTMLForm:vN,hasOwnProperty:Qb,hasOwnProp:Qb,reduceDescriptors:mv,freezeMethods:TN,toObjectSet:wN,toCamelCase:SN,noop:CN,toFiniteNumber:kN,findKey:hv,global:Bi,isContextDefined:pv,isSpecCompliantForm:NN,toJSONObject:AN,isAsyncFn:ON,isThenable:MN,setImmediate:gv,asap:RN,isIterable:DN};function ye(n,e,t,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}P.inherits(ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.status}}});const yv=ye.prototype,bv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{bv[n]={value:n}});Object.defineProperties(ye,bv);Object.defineProperty(yv,"isAxiosError",{value:!0});ye.from=(n,e,t,r,s,o)=>{const u=Object.create(yv);return P.toFlatObject(n,u,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),ye.call(u,n.message,e,t,r,s),u.cause=n,u.name=n.name,o&&Object.assign(u,o),u};const jN=null;function mp(n){return P.isPlainObject(n)||P.isArray(n)}function xv(n){return P.endsWith(n,"[]")?n.slice(0,-2):n}function Zb(n,e,t){return n?n.concat(e).map(function(s,o){return s=xv(s),!t&&o?"["+s+"]":s}).join(t?".":""):e}function zN(n){return P.isArray(n)&&!n.some(mp)}const LN=P.toFlatObject(P,{},null,function(e){return/^is[A-Z]/.test(e)});function _c(n,e,t){if(!P.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=P.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,w){return!P.isUndefined(w[E])});const r=t.metaTokens,s=t.visitor||m,o=t.dots,u=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&P.isSpecCompliantForm(e);if(!P.isFunction(s))throw new TypeError("visitor must be a function");function h(x){if(x===null)return"";if(P.isDate(x))return x.toISOString();if(!d&&P.isBlob(x))throw new ye("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(x)||P.isTypedArray(x)?d&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function m(x,E,w){let k=x;if(x&&!w&&typeof x=="object"){if(P.endsWith(E,"{}"))E=r?E:E.slice(0,-2),x=JSON.stringify(x);else if(P.isArray(x)&&zN(x)||(P.isFileList(x)||P.endsWith(E,"[]"))&&(k=P.toArray(x)))return E=xv(E),k.forEach(function(j,I){!(P.isUndefined(j)||j===null)&&e.append(u===!0?Zb([E],I,o):u===null?E:E+"[]",h(j))}),!1}return mp(x)?!0:(e.append(Zb(w,E,o),h(x)),!1)}const y=[],b=Object.assign(LN,{defaultVisitor:m,convertValue:h,isVisitable:mp});function v(x,E){if(!P.isUndefined(x)){if(y.indexOf(x)!==-1)throw Error("Circular reference detected in "+E.join("."));y.push(x),P.forEach(x,function(k,A){(!(P.isUndefined(k)||k===null)&&s.call(e,k,P.isString(A)?A.trim():A,E,b))===!0&&v(k,E?E.concat(A):[A])}),y.pop()}}if(!P.isObject(n))throw new TypeError("data must be an object");return v(n),e}function Wb(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function sm(n,e){this._pairs=[],n&&_c(n,this,e)}const vv=sm.prototype;vv.append=function(e,t){this._pairs.push([e,t])};vv.toString=function(e){const t=e?function(r){return e.call(this,r,Wb)}:Wb;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function BN(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Sv(n,e,t){if(!e)return n;const r=t&&t.encode||BN;P.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let o;if(s?o=s(e,t):o=P.isURLSearchParams(e)?e.toString():new sm(e,t).toString(r),o){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class e1{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){P.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Ev={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_N=typeof URLSearchParams<"u"?URLSearchParams:sm,HN=typeof FormData<"u"?FormData:null,UN=typeof Blob<"u"?Blob:null,PN={isBrowser:!0,classes:{URLSearchParams:_N,FormData:HN,Blob:UN},protocols:["http","https","file","blob","url","data"]},lm=typeof window<"u"&&typeof document<"u",gp=typeof navigator=="object"&&navigator||void 0,qN=lm&&(!gp||["ReactNative","NativeScript","NS"].indexOf(gp.product)<0),IN=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",VN=lm&&window.location.href||"http://localhost",FN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:lm,hasStandardBrowserEnv:qN,hasStandardBrowserWebWorkerEnv:IN,navigator:gp,origin:VN},Symbol.toStringTag,{value:"Module"})),Mt={...FN,...PN};function $N(n,e){return _c(n,new Mt.classes.URLSearchParams,Object.assign({visitor:function(t,r,s,o){return Mt.isNode&&P.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function GN(n){return P.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function KN(n){const e={},t=Object.keys(n);let r;const s=t.length;let o;for(r=0;r<s;r++)o=t[r],e[o]=n[o];return e}function Tv(n){function e(t,r,s,o){let u=t[o++];if(u==="__proto__")return!0;const c=Number.isFinite(+u),d=o>=t.length;return u=!u&&P.isArray(s)?s.length:u,d?(P.hasOwnProp(s,u)?s[u]=[s[u],r]:s[u]=r,!c):((!s[u]||!P.isObject(s[u]))&&(s[u]=[]),e(t,r,s[u],o)&&P.isArray(s[u])&&(s[u]=KN(s[u])),!c)}if(P.isFormData(n)&&P.isFunction(n.entries)){const t={};return P.forEachEntry(n,(r,s)=>{e(GN(r),s,t,0)}),t}return null}function YN(n,e,t){if(P.isString(n))try{return(e||JSON.parse)(n),P.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Ko={transitional:Ev,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",s=r.indexOf("application/json")>-1,o=P.isObject(e);if(o&&P.isHTMLForm(e)&&(e=new FormData(e)),P.isFormData(e))return s?JSON.stringify(Tv(e)):e;if(P.isArrayBuffer(e)||P.isBuffer(e)||P.isStream(e)||P.isFile(e)||P.isBlob(e)||P.isReadableStream(e))return e;if(P.isArrayBufferView(e))return e.buffer;if(P.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return $N(e,this.formSerializer).toString();if((c=P.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return _c(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||s?(t.setContentType("application/json",!1),YN(e)):e}],transformResponse:[function(e){const t=this.transitional||Ko.transitional,r=t&&t.forcedJSONParsing,s=this.responseType==="json";if(P.isResponse(e)||P.isReadableStream(e))return e;if(e&&P.isString(e)&&(r&&!this.responseType||s)){const u=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(c){if(u)throw c.name==="SyntaxError"?ye.from(c,ye.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Mt.classes.FormData,Blob:Mt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};P.forEach(["delete","get","head","post","put","patch"],n=>{Ko.headers[n]={}});const JN=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),XN=n=>{const e={};let t,r,s;return n&&n.split(`
`).forEach(function(u){s=u.indexOf(":"),t=u.substring(0,s).trim().toLowerCase(),r=u.substring(s+1).trim(),!(!t||e[t]&&JN[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},t1=Symbol("internals");function co(n){return n&&String(n).trim().toLowerCase()}function ku(n){return n===!1||n==null?n:P.isArray(n)?n.map(ku):String(n)}function QN(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const ZN=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Ch(n,e,t,r,s){if(P.isFunction(r))return r.call(this,e,t);if(s&&(e=t),!!P.isString(e)){if(P.isString(r))return e.indexOf(r)!==-1;if(P.isRegExp(r))return r.test(e)}}function WN(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function eA(n,e){const t=P.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(s,o,u){return this[r].call(this,e,s,o,u)},configurable:!0})})}let Kt=class{constructor(e){e&&this.set(e)}set(e,t,r){const s=this;function o(c,d,h){const m=co(d);if(!m)throw new Error("header name must be a non-empty string");const y=P.findKey(s,m);(!y||s[y]===void 0||h===!0||h===void 0&&s[y]!==!1)&&(s[y||d]=ku(c))}const u=(c,d)=>P.forEach(c,(h,m)=>o(h,m,d));if(P.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(P.isString(e)&&(e=e.trim())&&!ZN(e))u(XN(e),t);else if(P.isObject(e)&&P.isIterable(e)){let c={},d,h;for(const m of e){if(!P.isArray(m))throw TypeError("Object iterator must return a key-value pair");c[h=m[0]]=(d=c[h])?P.isArray(d)?[...d,m[1]]:[d,m[1]]:m[1]}u(c,t)}else e!=null&&o(t,e,r);return this}get(e,t){if(e=co(e),e){const r=P.findKey(this,e);if(r){const s=this[r];if(!t)return s;if(t===!0)return QN(s);if(P.isFunction(t))return t.call(this,s,r);if(P.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=co(e),e){const r=P.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||Ch(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let s=!1;function o(u){if(u=co(u),u){const c=P.findKey(r,u);c&&(!t||Ch(r,r[c],c,t))&&(delete r[c],s=!0)}}return P.isArray(e)?e.forEach(o):o(e),s}clear(e){const t=Object.keys(this);let r=t.length,s=!1;for(;r--;){const o=t[r];(!e||Ch(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const t=this,r={};return P.forEach(this,(s,o)=>{const u=P.findKey(r,o);if(u){t[u]=ku(s),delete t[o];return}const c=e?WN(o):String(o).trim();c!==o&&delete t[o],t[c]=ku(s),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return P.forEach(this,(r,s)=>{r!=null&&r!==!1&&(t[s]=e&&P.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[t1]=this[t1]={accessors:{}}).accessors,s=this.prototype;function o(u){const c=co(u);r[c]||(eA(s,u),r[c]=!0)}return P.isArray(e)?e.forEach(o):o(e),this}};Kt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);P.reduceDescriptors(Kt.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});P.freezeMethods(Kt);function kh(n,e){const t=this||Ko,r=e||t,s=Kt.from(r.headers);let o=r.data;return P.forEach(n,function(c){o=c.call(t,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function wv(n){return!!(n&&n.__CANCEL__)}function ol(n,e,t){ye.call(this,n??"canceled",ye.ERR_CANCELED,e,t),this.name="CanceledError"}P.inherits(ol,ye,{__CANCEL__:!0});function Cv(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new ye("Request failed with status code "+t.status,[ye.ERR_BAD_REQUEST,ye.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function tA(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function nA(n,e){n=n||10;const t=new Array(n),r=new Array(n);let s=0,o=0,u;return e=e!==void 0?e:1e3,function(d){const h=Date.now(),m=r[o];u||(u=h),t[s]=d,r[s]=h;let y=o,b=0;for(;y!==s;)b+=t[y++],y=y%n;if(s=(s+1)%n,s===o&&(o=(o+1)%n),h-u<e)return;const v=m&&h-m;return v?Math.round(b*1e3/v):void 0}}function rA(n,e){let t=0,r=1e3/e,s,o;const u=(h,m=Date.now())=>{t=m,s=null,o&&(clearTimeout(o),o=null),n.apply(null,h)};return[(...h)=>{const m=Date.now(),y=m-t;y>=r?u(h,m):(s=h,o||(o=setTimeout(()=>{o=null,u(s)},r-y)))},()=>s&&u(s)]}const Bu=(n,e,t=3)=>{let r=0;const s=nA(50,250);return rA(o=>{const u=o.loaded,c=o.lengthComputable?o.total:void 0,d=u-r,h=s(d),m=u<=c;r=u;const y={loaded:u,total:c,progress:c?u/c:void 0,bytes:d,rate:h||void 0,estimated:h&&c&&m?(c-u)/h:void 0,event:o,lengthComputable:c!=null,[e?"download":"upload"]:!0};n(y)},t)},n1=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},r1=n=>(...e)=>P.asap(()=>n(...e)),iA=Mt.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Mt.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Mt.origin),Mt.navigator&&/(msie|trident)/i.test(Mt.navigator.userAgent)):()=>!0,sA=Mt.hasStandardBrowserEnv?{write(n,e,t,r,s,o){const u=[n+"="+encodeURIComponent(e)];P.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),P.isString(r)&&u.push("path="+r),P.isString(s)&&u.push("domain="+s),o===!0&&u.push("secure"),document.cookie=u.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function lA(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function oA(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function kv(n,e,t){let r=!lA(e);return n&&(r||t==!1)?oA(n,e):e}const i1=n=>n instanceof Kt?{...n}:n;function Yi(n,e){e=e||{};const t={};function r(h,m,y,b){return P.isPlainObject(h)&&P.isPlainObject(m)?P.merge.call({caseless:b},h,m):P.isPlainObject(m)?P.merge({},m):P.isArray(m)?m.slice():m}function s(h,m,y,b){if(P.isUndefined(m)){if(!P.isUndefined(h))return r(void 0,h,y,b)}else return r(h,m,y,b)}function o(h,m){if(!P.isUndefined(m))return r(void 0,m)}function u(h,m){if(P.isUndefined(m)){if(!P.isUndefined(h))return r(void 0,h)}else return r(void 0,m)}function c(h,m,y){if(y in e)return r(h,m);if(y in n)return r(void 0,h)}const d={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:c,headers:(h,m,y)=>s(i1(h),i1(m),y,!0)};return P.forEach(Object.keys(Object.assign({},n,e)),function(m){const y=d[m]||s,b=y(n[m],e[m],m);P.isUndefined(b)&&y!==c||(t[m]=b)}),t}const Nv=n=>{const e=Yi({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:u,auth:c}=e;e.headers=u=Kt.from(u),e.url=Sv(kv(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),c&&u.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(P.isFormData(t)){if(Mt.hasStandardBrowserEnv||Mt.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((d=u.getContentType())!==!1){const[h,...m]=d?d.split(";").map(y=>y.trim()).filter(Boolean):[];u.setContentType([h||"multipart/form-data",...m].join("; "))}}if(Mt.hasStandardBrowserEnv&&(r&&P.isFunction(r)&&(r=r(e)),r||r!==!1&&iA(e.url))){const h=s&&o&&sA.read(o);h&&u.set(s,h)}return e},aA=typeof XMLHttpRequest<"u",uA=aA&&function(n){return new Promise(function(t,r){const s=Nv(n);let o=s.data;const u=Kt.from(s.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:h}=s,m,y,b,v,x;function E(){v&&v(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(m),s.signal&&s.signal.removeEventListener("abort",m)}let w=new XMLHttpRequest;w.open(s.method.toUpperCase(),s.url,!0),w.timeout=s.timeout;function k(){if(!w)return;const j=Kt.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),U={data:!c||c==="text"||c==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:j,config:n,request:w};Cv(function(Q){t(Q),E()},function(Q){r(Q),E()},U),w=null}"onloadend"in w?w.onloadend=k:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(k)},w.onabort=function(){w&&(r(new ye("Request aborted",ye.ECONNABORTED,n,w)),w=null)},w.onerror=function(){r(new ye("Network Error",ye.ERR_NETWORK,n,w)),w=null},w.ontimeout=function(){let I=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const U=s.transitional||Ev;s.timeoutErrorMessage&&(I=s.timeoutErrorMessage),r(new ye(I,U.clarifyTimeoutError?ye.ETIMEDOUT:ye.ECONNABORTED,n,w)),w=null},o===void 0&&u.setContentType(null),"setRequestHeader"in w&&P.forEach(u.toJSON(),function(I,U){w.setRequestHeader(U,I)}),P.isUndefined(s.withCredentials)||(w.withCredentials=!!s.withCredentials),c&&c!=="json"&&(w.responseType=s.responseType),h&&([b,x]=Bu(h,!0),w.addEventListener("progress",b)),d&&w.upload&&([y,v]=Bu(d),w.upload.addEventListener("progress",y),w.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(m=j=>{w&&(r(!j||j.type?new ol(null,n,w):j),w.abort(),w=null)},s.cancelToken&&s.cancelToken.subscribe(m),s.signal&&(s.signal.aborted?m():s.signal.addEventListener("abort",m)));const A=tA(s.url);if(A&&Mt.protocols.indexOf(A)===-1){r(new ye("Unsupported protocol "+A+":",ye.ERR_BAD_REQUEST,n));return}w.send(o||null)})},cA=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,s;const o=function(h){if(!s){s=!0,c();const m=h instanceof Error?h:this.reason;r.abort(m instanceof ye?m:new ol(m instanceof Error?m.message:m))}};let u=e&&setTimeout(()=>{u=null,o(new ye(`timeout ${e} of ms exceeded`,ye.ETIMEDOUT))},e);const c=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),n=null)};n.forEach(h=>h.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>P.asap(c),d}},fA=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,s;for(;r<t;)s=r+e,yield n.slice(r,s),r=s},dA=async function*(n,e){for await(const t of hA(n))yield*fA(t,e)},hA=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},s1=(n,e,t,r)=>{const s=dA(n,e);let o=0,u,c=d=>{u||(u=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:h,value:m}=await s.next();if(h){c(),d.close();return}let y=m.byteLength;if(t){let b=o+=y;t(b)}d.enqueue(new Uint8Array(m))}catch(h){throw c(h),h}},cancel(d){return c(d),s.return()}},{highWaterMark:2})},Hc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Av=Hc&&typeof ReadableStream=="function",pA=Hc&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),Ov=(n,...e)=>{try{return!!n(...e)}catch{return!1}},mA=Av&&Ov(()=>{let n=!1;const e=new Request(Mt.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),l1=64*1024,yp=Av&&Ov(()=>P.isReadableStream(new Response("").body)),_u={stream:yp&&(n=>n.body)};Hc&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!_u[e]&&(_u[e]=P.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new ye(`Response type '${e}' is not supported`,ye.ERR_NOT_SUPPORT,r)})})})(new Response);const gA=async n=>{if(n==null)return 0;if(P.isBlob(n))return n.size;if(P.isSpecCompliantForm(n))return(await new Request(Mt.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(P.isArrayBufferView(n)||P.isArrayBuffer(n))return n.byteLength;if(P.isURLSearchParams(n)&&(n=n+""),P.isString(n))return(await pA(n)).byteLength},yA=async(n,e)=>{const t=P.toFiniteNumber(n.getContentLength());return t??gA(e)},bA=Hc&&(async n=>{let{url:e,method:t,data:r,signal:s,cancelToken:o,timeout:u,onDownloadProgress:c,onUploadProgress:d,responseType:h,headers:m,withCredentials:y="same-origin",fetchOptions:b}=Nv(n);h=h?(h+"").toLowerCase():"text";let v=cA([s,o&&o.toAbortSignal()],u),x;const E=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let w;try{if(d&&mA&&t!=="get"&&t!=="head"&&(w=await yA(m,r))!==0){let U=new Request(e,{method:"POST",body:r,duplex:"half"}),X;if(P.isFormData(r)&&(X=U.headers.get("content-type"))&&m.setContentType(X),U.body){const[Q,ie]=n1(w,Bu(r1(d)));r=s1(U.body,l1,Q,ie)}}P.isString(y)||(y=y?"include":"omit");const k="credentials"in Request.prototype;x=new Request(e,{...b,signal:v,method:t.toUpperCase(),headers:m.normalize().toJSON(),body:r,duplex:"half",credentials:k?y:void 0});let A=await fetch(x);const j=yp&&(h==="stream"||h==="response");if(yp&&(c||j&&E)){const U={};["status","statusText","headers"].forEach(J=>{U[J]=A[J]});const X=P.toFiniteNumber(A.headers.get("content-length")),[Q,ie]=c&&n1(X,Bu(r1(c),!0))||[];A=new Response(s1(A.body,l1,Q,()=>{ie&&ie(),E&&E()}),U)}h=h||"text";let I=await _u[P.findKey(_u,h)||"text"](A,n);return!j&&E&&E(),await new Promise((U,X)=>{Cv(U,X,{data:I,headers:Kt.from(A.headers),status:A.status,statusText:A.statusText,config:n,request:x})})}catch(k){throw E&&E(),k&&k.name==="TypeError"&&/Load failed|fetch/i.test(k.message)?Object.assign(new ye("Network Error",ye.ERR_NETWORK,n,x),{cause:k.cause||k}):ye.from(k,k&&k.code,n,x)}}),bp={http:jN,xhr:uA,fetch:bA};P.forEach(bp,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const o1=n=>`- ${n}`,xA=n=>P.isFunction(n)||n===null||n===!1,Mv={getAdapter:n=>{n=P.isArray(n)?n:[n];const{length:e}=n;let t,r;const s={};for(let o=0;o<e;o++){t=n[o];let u;if(r=t,!xA(t)&&(r=bp[(u=String(t)).toLowerCase()],r===void 0))throw new ye(`Unknown adapter '${u}'`);if(r)break;s[u||"#"+o]=r}if(!r){const o=Object.entries(s).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let u=e?o.length>1?`since :
`+o.map(o1).join(`
`):" "+o1(o[0]):"as no adapter specified";throw new ye("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:bp};function Nh(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new ol(null,n)}function a1(n){return Nh(n),n.headers=Kt.from(n.headers),n.data=kh.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Mv.getAdapter(n.adapter||Ko.adapter)(n).then(function(r){return Nh(n),r.data=kh.call(n,n.transformResponse,r),r.headers=Kt.from(r.headers),r},function(r){return wv(r)||(Nh(n),r&&r.response&&(r.response.data=kh.call(n,n.transformResponse,r.response),r.response.headers=Kt.from(r.response.headers))),Promise.reject(r)})}const Rv="1.9.0",Uc={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Uc[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const u1={};Uc.transitional=function(e,t,r){function s(o,u){return"[Axios v"+Rv+"] Transitional option '"+o+"'"+u+(r?". "+r:"")}return(o,u,c)=>{if(e===!1)throw new ye(s(u," has been removed"+(t?" in "+t:"")),ye.ERR_DEPRECATED);return t&&!u1[u]&&(u1[u]=!0,console.warn(s(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,u,c):!0}};Uc.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function vA(n,e,t){if(typeof n!="object")throw new ye("options must be an object",ye.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let s=r.length;for(;s-- >0;){const o=r[s],u=e[o];if(u){const c=n[o],d=c===void 0||u(c,o,n);if(d!==!0)throw new ye("option "+o+" must be "+d,ye.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ye("Unknown option "+o,ye.ERR_BAD_OPTION)}}const Nu={assertOptions:vA,validators:Uc},Pn=Nu.validators;let qi=class{constructor(e){this.defaults=e||{},this.interceptors={request:new e1,response:new e1}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Yi(this.defaults,t);const{transitional:r,paramsSerializer:s,headers:o}=t;r!==void 0&&Nu.assertOptions(r,{silentJSONParsing:Pn.transitional(Pn.boolean),forcedJSONParsing:Pn.transitional(Pn.boolean),clarifyTimeoutError:Pn.transitional(Pn.boolean)},!1),s!=null&&(P.isFunction(s)?t.paramsSerializer={serialize:s}:Nu.assertOptions(s,{encode:Pn.function,serialize:Pn.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Nu.assertOptions(t,{baseUrl:Pn.spelling("baseURL"),withXsrfToken:Pn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=o&&P.merge(o.common,o[t.method]);o&&P.forEach(["delete","get","head","post","put","patch","common"],x=>{delete o[x]}),t.headers=Kt.concat(u,o);const c=[];let d=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(t)===!1||(d=d&&E.synchronous,c.unshift(E.fulfilled,E.rejected))});const h=[];this.interceptors.response.forEach(function(E){h.push(E.fulfilled,E.rejected)});let m,y=0,b;if(!d){const x=[a1.bind(this),void 0];for(x.unshift.apply(x,c),x.push.apply(x,h),b=x.length,m=Promise.resolve(t);y<b;)m=m.then(x[y++],x[y++]);return m}b=c.length;let v=t;for(y=0;y<b;){const x=c[y++],E=c[y++];try{v=x(v)}catch(w){E.call(this,w);break}}try{m=a1.call(this,v)}catch(x){return Promise.reject(x)}for(y=0,b=h.length;y<b;)m=m.then(h[y++],h[y++]);return m}getUri(e){e=Yi(this.defaults,e);const t=kv(e.baseURL,e.url,e.allowAbsoluteUrls);return Sv(t,e.params,e.paramsSerializer)}};P.forEach(["delete","get","head","options"],function(e){qi.prototype[e]=function(t,r){return this.request(Yi(r||{},{method:e,url:t,data:(r||{}).data}))}});P.forEach(["post","put","patch"],function(e){function t(r){return function(o,u,c){return this.request(Yi(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}qi.prototype[e]=t(),qi.prototype[e+"Form"]=t(!0)});let SA=class Dv{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const u=new Promise(c=>{r.subscribe(c),o=c}).then(s);return u.cancel=function(){r.unsubscribe(o)},u},e(function(o,u,c){r.reason||(r.reason=new ol(o,u,c),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Dv(function(s){e=s}),cancel:e}}};function EA(n){return function(t){return n.apply(null,t)}}function TA(n){return P.isObject(n)&&n.isAxiosError===!0}const xp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xp).forEach(([n,e])=>{xp[e]=n});function jv(n){const e=new qi(n),t=uv(qi.prototype.request,e);return P.extend(t,qi.prototype,e,{allOwnKeys:!0}),P.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return jv(Yi(n,s))},t}const de=jv(Ko);de.Axios=qi;de.CanceledError=ol;de.CancelToken=SA;de.isCancel=wv;de.VERSION=Rv;de.toFormData=_c;de.AxiosError=ye;de.Cancel=de.CanceledError;de.all=function(e){return Promise.all(e)};de.spread=EA;de.isAxiosError=TA;de.mergeConfig=Yi;de.AxiosHeaders=Kt;de.formToJSON=n=>Tv(P.isHTMLForm(n)?new FormData(n):n);de.getAdapter=Mv.getAdapter;de.HttpStatusCode=xp;de.default=de;const{Axios:A4,AxiosError:O4,CanceledError:M4,isCancel:R4,CancelToken:D4,VERSION:j4,all:z4,Cancel:L4,isAxiosError:B4,spread:_4,toFormData:H4,AxiosHeaders:U4,HttpStatusCode:P4,formToJSON:q4,getAdapter:I4,mergeConfig:V4}=de;function wA(){const[n,e]=R.useState({name:"",email:"",password:""}),[t,r]=R.useState(""),s=Cn(),o=c=>{e({...n,[c.target.name]:c.target.value})},u=async c=>{var d,h;c.preventDefault(),r("");try{const m=await de.post("https://udhekryqi.com/api/auth/register",n);r(m.data.message||"Registration successful!"),setTimeout(()=>s("/login"),1e3)}catch(m){r(((h=(d=m.response)==null?void 0:d.data)==null?void 0:h.message)||"Something went wrong")}};return T.jsxs("div",{className:"max-w-md mx-auto mt-10 p-6 border rounded shadow-sm",children:[T.jsx("h2",{className:"text-2xl mb-4 font-semibold",children:"Regjistrohu"}),T.jsxs("form",{onSubmit:u,className:"space-y-4",children:[T.jsx("input",{name:"name",type:"text",placeholder:"Emri",value:n.name,onChange:o,className:"w-full border px-3 py-2 rounded",required:!0}),T.jsx("input",{name:"email",type:"email",placeholder:"Email",value:n.email,onChange:o,className:"w-full border px-3 py-2 rounded",required:!0}),T.jsx("input",{name:"password",type:"password",placeholder:"Password",value:n.password,onChange:o,className:"w-full border px-3 py-2 rounded",required:!0}),T.jsx("button",{type:"submit",className:"w-full bg-black text-white py-2 rounded hover:bg-gray-800",children:"Regjistrohu"})]}),t&&T.jsx("p",{className:"mt-4 text-sm text-center text-gray-700",children:t})]})}function CA(){const[n,e]=R.useState({email:"",password:""}),[t,r]=R.useState(""),s=Cn(),{login:o}=Dn(),u=d=>{e({...n,[d.target.name]:d.target.value})},c=async d=>{var h,m;d.preventDefault(),r("");try{const y=await de.post("https://udhekryqi.com/api/auth/login",n),b=y.data.user,v=y.data.token;if(!b.verified)return r("Please verify your email before logging in.");o(b,v),r("Login successful!"),s("/")}catch(y){r(((m=(h=y.response)==null?void 0:h.data)==null?void 0:m.message)||"Login failed")}};return T.jsxs("div",{className:"max-w-md mx-auto mt-10 p-6 border rounded shadow-sm",children:[T.jsx("h2",{className:"text-2xl mb-4 font-semibold",children:"Hyr"}),T.jsxs("form",{onSubmit:c,className:"space-y-4",children:[T.jsx("input",{name:"email",type:"email",placeholder:"Email",value:n.email,onChange:u,className:"w-full border px-3 py-2 rounded",required:!0}),T.jsx("input",{name:"password",type:"password",placeholder:"Password",value:n.password,onChange:u,className:"w-full border px-3 py-2 rounded",required:!0}),T.jsx("button",{type:"submit",className:"w-full bg-black text-white py-2 rounded hover:bg-gray-800",children:"Hyr"}),T.jsx("div",{className:"text-center mt-3",children:T.jsxs("p",{className:"text-sm",children:[T.jsx("div",{children:T.jsx("a",{href:"/forgot-password",className:"text-black hover:underline",children:"Ke harruar fjalëkalimin?"})}),T.jsx("a",{href:"/register",className:"text-black hover:underline",children:"Nuk jeni regjistruar?"})]})})]}),t&&T.jsx("p",{className:"mt-4 text-sm text-center text-gray-700",children:t})]})}var Au={exports:{}},kA=Au.exports,c1;function NA(){return c1||(c1=1,function(n){(function(e){if(typeof t!="function"){var t=function(x){return x};t.nonNative=!0}const r=t("plaintext"),s=t("html"),o=t("comment"),u=/<(\w*)>/g,c=/<\/?([^\s\/>]+)/;function d(x,E,w){x=x||"",E=E||[],w=w||"";let k=m(E,w);return y(x,k)}function h(x,E){x=x||[],E=E||"";let w=m(x,E);return function(A){return y(A||"",w)}}d.init_streaming_mode=h;function m(x,E){return x=b(x),{allowable_tags:x,tag_replacement:E,state:r,tag_buffer:"",depth:0,in_quote_char:""}}function y(x,E){if(typeof x!="string")throw new TypeError("'html' parameter must be a string");let w=E.allowable_tags,k=E.tag_replacement,A=E.state,j=E.tag_buffer,I=E.depth,U=E.in_quote_char,X="";for(let Q=0,ie=x.length;Q<ie;Q++){let J=x[Q];if(A===r)switch(J){case"<":A=s,j+=J;break;default:X+=J;break}else if(A===s)switch(J){case"<":if(U)break;I++;break;case">":if(U)break;if(I){I--;break}U="",A=r,j+=">",w.has(v(j))?X+=j:X+=k,j="";break;case'"':case"'":J===U?U="":U=U||J,j+=J;break;case"-":j==="<!-"&&(A=o),j+=J;break;case" ":case`
`:if(j==="<"){A=r,X+="< ",j="";break}j+=J;break;default:j+=J;break}else if(A===o)switch(J){case">":j.slice(-2)=="--"&&(A=r),j="";break;default:j+=J;break}}return E.state=A,E.tag_buffer=j,E.depth=I,E.in_quote_char=U,X}function b(x){let E=new Set;if(typeof x=="string"){let w;for(;w=u.exec(x);)E.add(w[1])}else!t.nonNative&&typeof x[t.iterator]=="function"?E=new Set(x):typeof x.forEach=="function"&&x.forEach(E.add,E);return E}function v(x){let E=c.exec(x);return E?E[1].toLowerCase():null}n.exports?n.exports=d:e.striptags=d})(kA)}(Au)),Au.exports}var AA=NA();const Hu=fi(AA),OA=["teologji","filozofi","kulturë","politikë","histori"];function MA(){var d,h;const[n,e]=R.useState([]),{user:t}=Dn();Cn(),R.useEffect(()=>{de.get("https://udhekryqi.com/api/posts").then(m=>e(m.data)).catch(m=>console.error("Failed to fetch posts:",m))},[]);const r=n.slice(0,5),[s,...o]=r,u=async m=>{if(confirm("Delete this post?"))try{await de.delete(`https://udhekryqi.com/api/posts/${m}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),e(b=>b.filter(v=>v._id!==m))}catch(b){alert("Error deleting post."),console.error(b)}},c=(m,y=90)=>{if(!m)return"";const b=Hu(m).replace(/\s+/g," ");return b.length>y?b.slice(0,y)+"...":b};return T.jsxs("div",{className:"max-w-6xl mx-auto mt-14 mb-14 px-4 sm:px-6",children:[s&&T.jsxs("div",{className:"grid md:grid-cols-3 gap-6 border-b pb-14",children:[T.jsx("div",{className:"md:col-span-2",children:T.jsxs(Te,{to:`/posts/${s._id}`,className:"block",children:[((d=s.media)==null?void 0:d[0])&&T.jsx("img",{src:s.media[0],alt:s.title,className:"w-full h-72 object-cover rounded mb-4"}),T.jsx("h1",{style:{fontFamily:"Georgia, serif"},className:"text-3xl md:text-4xl font-bold mb-2",children:s.title}),T.jsx("p",{className:"text-sm md:text-base uppercase text-red-700 font-semibold mb-3",children:s.authorName||((h=s.author)==null?void 0:h.name)}),T.jsx("div",{className:"text-gray-700 text-base md:text-lg break-words",style:{fontFamily:"Georgia, serif"},dangerouslySetInnerHTML:{__html:c(s.content,200)}})]})}),T.jsxs("div",{className:"border-l pl-6",children:[T.jsx("h2",{style:{fontFamily:"Georgia, serif"},className:"text-2xl md:text-3xl font-semibold text-gray-500 mb-4 tracking-wider uppercase",children:"TË FUNDIT"}),T.jsx("div",{className:"space-y-4",children:r.map(m=>{var y;return T.jsxs(Te,{to:`/posts/${m._id}`,className:"block group border-b pb-3",children:[T.jsx("h4",{style:{fontFamily:"Georgia, serif"},className:"text-base md:text-lg font-bold group-hover:underline",children:m.title}),T.jsx("p",{className:"text-xs md:text-sm text-red-700 uppercase font-medium",children:m.authorName||((y=m.author)==null?void 0:y.name)})]},m._id)})}),T.jsx("div",{className:"pt-4",children:T.jsx(Te,{to:"/all",className:"inline-block px-6 py-2 rounded bg-red-700 text-white text-sm font-semibold uppercase hover:bg-red-800 transition",style:{fontFamily:"Georgia, serif"},children:"TË TJERË →"})})]})]}),OA.map((m,y)=>{const b=n.filter(v=>v.tags.includes(m)).slice(0,3);return b.length===0?null:T.jsxs("section",{className:`space-y-4 pt-14 pb-14 ${y===0?"":"border-t"}`,children:[T.jsx("h2",{style:{fontFamily:"Georgia, serif"},className:"text-3xl md:text-4xl font-semibold text-gray-500 mb-4 tracking-wider uppercase",children:m}),T.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:b.map(v=>{var x,E;return T.jsxs("div",{className:"group border rounded overflow-hidden bg-white shadow-sm hover:shadow-md transition relative",children:[(t==null?void 0:t.role)==="admin"&&T.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 z-10",children:[T.jsx(Te,{to:`/edit-post/${v._id}`,className:"text-xs",children:"✏️"}),T.jsx("button",{onClick:()=>u(v._id),className:"text-xs",children:"❌"})]}),T.jsxs(Te,{to:`/posts/${v._id}`,children:[((x=v.media)==null?void 0:x[0])&&T.jsx("img",{src:v.media[0],alt:v.title,className:"h-48 w-full object-cover"}),T.jsxs("div",{className:"p-4 space-y-2",children:[T.jsx("h3",{style:{fontFamily:"Georgia, serif"},className:"text-lg md:text-xl font-bold group-hover:underline",children:v.title}),T.jsx("p",{className:"text-xs md:text-sm uppercase text-red-700 font-semibold",children:v.authorName||((E=v.author)==null?void 0:E.name)}),T.jsx("div",{className:"text-sm md:text-base text-gray-600 break-words",style:{fontFamily:"Georgia, serif"},dangerouslySetInnerHTML:{__html:c(v.content,90)}})]})]})]},v._id)})}),T.jsx("div",{className:"pt-4 text-center",children:T.jsxs(Te,{to:`/category/${m}`,className:"inline-block px-6 py-2 rounded bg-red-700 text-white text-sm font-semibold uppercase hover:bg-red-800 transition",style:{fontFamily:"Georgia, serif"},children:["Më shumë ",m]})})]},m)})]})}var zv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},f1=Ue.createContext&&Ue.createContext(zv),RA=["attr","size","title"];function DA(n,e){if(n==null)return{};var t=jA(n,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function jA(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Uu(){return Uu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Uu.apply(this,arguments)}function d1(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Pu(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?d1(Object(t),!0).forEach(function(r){zA(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):d1(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function zA(n,e,t){return e=LA(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function LA(n){var e=BA(n,"string");return typeof e=="symbol"?e:e+""}function BA(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Lv(n){return n&&n.map((e,t)=>Ue.createElement(e.tag,Pu({key:t},e.attr),Lv(e.child)))}function Pc(n){return e=>Ue.createElement(_A,Uu({attr:Pu({},n.attr)},e),Lv(n.child))}function _A(n){var e=t=>{var{attr:r,size:s,title:o}=n,u=DA(n,RA),c=s||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),Ue.createElement("svg",Uu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:d,style:Pu(Pu({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&Ue.createElement("title",null,o),n.children)};return f1!==void 0?Ue.createElement(f1.Consumer,null,t=>e(t)):e(zv)}function HA(n){return Pc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5V334.2H141.4V256h52.8V222.3c0-87.1 39.4-127.5 125-127.5c16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1c-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287V510.1C413.8 494.8 512 386.9 512 256h0z"},child:[]}]})(n)}function UA(n){return Pc({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function PA(n){return Pc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"},child:[]}]})(n)}function qA(n){return Pc({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(n)}const IA=["Teologji","Filozofi","Kulturë","Politikë","Histori"];function VA(){const[n,e]=R.useState(""),t=Cn(),r=Tr(),s=o=>{o.key==="Enter"&&n.trim()&&t(`/all?search=${encodeURIComponent(n.trim())}`)};return R.useEffect(()=>{r.pathname.startsWith("/all")||e("")},[r.pathname]),T.jsx("footer",{className:"bg-gray-100 border-t text-sm text-gray-700 py-10",children:T.jsxs("div",{className:"max-w-6xl mx-auto px-4 flex flex-col items-center gap-6",children:[T.jsx(Te,{to:"/",children:T.jsx("img",{src:"/Logo-horizontal.png",alt:"Udhëkryqi",className:"h-10 md:h-16 w-auto transition-all duration-200"})}),T.jsxs("div",{className:"w-full flex flex-col gap-6 md:flex-row md:items-center md:justify-between",children:[T.jsx("div",{className:"flex flex-wrap justify-center gap-4 md:justify-start",children:IA.map(o=>T.jsx(Te,{to:`/all?search=${encodeURIComponent(o)}`,className:"text-gray-700 hover:text-red-600 hover:underline font-medium",children:o},o))}),T.jsxs("div",{className:"flex justify-center gap-5 text-xl",children:[T.jsx("a",{href:"https://x.com/udhekryqi",target:"_blank",rel:"noopener noreferrer",children:T.jsx(PA,{className:"hover:text-red-600 cursor-pointer"})}),T.jsx("a",{href:"https://www.instagram.com/revista.udhekryqi/",target:"_blank",rel:"noopener noreferrer",children:T.jsx(UA,{className:"hover:text-red-600 cursor-pointer"})}),T.jsx("a",{href:"https://www.youtube.com/channel/UCm9ar2kaThxhIJjbQicrEAA",target:"_blank",rel:"noopener noreferrer",children:T.jsx(qA,{className:"hover:text-red-600 cursor-pointer"})}),T.jsx("a",{href:"https://www.facebook.com/udhekryqi",target:"_blank",rel:"noopener noreferrer",children:T.jsx(HA,{className:"hover:text-red-600 cursor-pointer"})})]}),T.jsx("div",{className:"flex justify-center",children:T.jsx("input",{type:"text",placeholder:"Search...",value:n,onChange:o=>e(o.target.value),onKeyDown:s,className:"w-75 border border-gray-300 rounded px-4 py-2 focus:outline-none focus:ring focus:ring-red-200"})})]})]})})}const Ah=12;function FA(){const{name:n}=Rc(),e=decodeURIComponent(n),[t,r]=R.useState([]),[s,o]=R.useState(1),{user:u}=Dn(),c=(u==null?void 0:u.role)==="admin";R.useEffect(()=>{(async()=>{try{const E=(await de.get("https://udhekryqi.com/api/posts")).data.filter(w=>w.tags.some(k=>k.toLowerCase()===e.toLowerCase()));r(E),o(1)}catch(x){console.error("Failed to load posts:",x)}})()},[e]);const d=Math.ceil(t.length/Ah),h=t.slice((s-1)*Ah,s*Ah);function m(v){const x=document.createElement("textarea");return x.innerHTML=v,x.value}const y=(v,x=90)=>{const E=Hu(v||"").replace(/\s+/g," ").trim(),w=m(E);return w.length>x?w.slice(0,x)+"...":w},b=async v=>{if(confirm("Delete this post?"))try{await de.delete(`https://udhekryqi.com/api/posts/${v}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),r(E=>E.filter(w=>w._id!==v))}catch(E){alert("Error deleting post."),console.error(E)}};return T.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-14",children:[T.jsx("h1",{style:{fontFamily:"Georgia, serif"},className:"text-3xl font-bold mb-6 capitalize",children:e}),T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:h.map(v=>{var x,E;return T.jsxs("div",{className:"group border rounded overflow-hidden bg-white shadow-sm hover:shadow-md transition relative",children:[c&&T.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 z-10",children:[T.jsx(Te,{to:`/edit-post/${v._id}`,className:"text-xs",children:"✏️"}),T.jsx("button",{onClick:()=>b(v._id),className:"text-xs",children:"❌"})]}),T.jsxs(Te,{to:`/posts/${v._id}`,children:[((x=v.media)==null?void 0:x[0])&&T.jsx("img",{src:v.media[0],alt:v.title,className:"h-48 w-full object-cover"}),T.jsxs("div",{className:"p-4 space-y-2",children:[T.jsx("h3",{style:{fontFamily:"Georgia, serif"},className:"text-lg font-bold group-hover:underline",children:v.title}),T.jsx("p",{className:"text-xs uppercase text-red-700 font-semibold",children:v.authorName||((E=v.author)==null?void 0:E.name)}),T.jsx("p",{className:"text-sm text-gray-600 break-words",children:y(v.content)})]})]})]},v._id)})}),d>1&&T.jsx("div",{className:"flex justify-center mt-8 space-x-2",children:Array.from({length:d},(v,x)=>T.jsx("button",{onClick:()=>o(x+1),className:`px-3 py-1 rounded ${s===x+1?"bg-black text-white":"bg-gray-200 text-gray-800"}`,children:x+1},x+1))})]})}var Oh={exports:{}},Mh,h1;function $A(){if(h1)return Mh;h1=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Mh=n,Mh}var Rh,p1;function GA(){if(p1)return Rh;p1=1;var n=$A();function e(){}function t(){}return t.resetWarningCache=e,Rh=function(){function r(u,c,d,h,m,y){if(y!==n){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function s(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},Rh}var m1;function KA(){return m1||(m1=1,Oh.exports=GA()()),Oh.exports}var YA=KA();const Ge=fi(YA);var Dh,g1;function JA(){if(g1)return Dh;g1=1;function n(c){return c&&typeof c=="object"&&"default"in c?c.default:c}var e=Oc(),t=n(e);function r(c,d,h){return d in c?Object.defineProperty(c,d,{value:h,enumerable:!0,configurable:!0,writable:!0}):c[d]=h,c}function s(c,d){c.prototype=Object.create(d.prototype),c.prototype.constructor=c,c.__proto__=d}var o=!!(typeof window<"u"&&window.document&&window.document.createElement);function u(c,d,h){if(typeof c!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof d!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof h<"u"&&typeof h!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function m(y){return y.displayName||y.name||"Component"}return function(b){if(typeof b!="function")throw new Error("Expected WrappedComponent to be a React component.");var v=[],x;function E(){x=c(v.map(function(k){return k.props})),w.canUseDOM?d(x):h&&(x=h(x))}var w=function(k){s(A,k);function A(){return k.apply(this,arguments)||this}A.peek=function(){return x},A.rewind=function(){if(A.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var U=x;return x=void 0,v=[],U};var j=A.prototype;return j.UNSAFE_componentWillMount=function(){v.push(this),E()},j.componentDidUpdate=function(){E()},j.componentWillUnmount=function(){var U=v.indexOf(this);v.splice(U,1),E()},j.render=function(){return t.createElement(b,this.props)},A}(e.PureComponent);return r(w,"displayName","SideEffect("+m(b)+")"),r(w,"canUseDOM",o),w}}return Dh=u,Dh}var XA=JA();const QA=fi(XA);var jh,y1;function ZA(){if(y1)return jh;y1=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function s(o,u){if(o===u)return!0;if(o&&u&&typeof o=="object"&&typeof u=="object"){if(o.constructor!==u.constructor)return!1;var c,d,h;if(Array.isArray(o)){if(c=o.length,c!=u.length)return!1;for(d=c;d--!==0;)if(!s(o[d],u[d]))return!1;return!0}var m;if(e&&o instanceof Map&&u instanceof Map){if(o.size!==u.size)return!1;for(m=o.entries();!(d=m.next()).done;)if(!u.has(d.value[0]))return!1;for(m=o.entries();!(d=m.next()).done;)if(!s(d.value[1],u.get(d.value[0])))return!1;return!0}if(t&&o instanceof Set&&u instanceof Set){if(o.size!==u.size)return!1;for(m=o.entries();!(d=m.next()).done;)if(!u.has(d.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(o)&&ArrayBuffer.isView(u)){if(c=o.length,c!=u.length)return!1;for(d=c;d--!==0;)if(o[d]!==u[d])return!1;return!0}if(o.constructor===RegExp)return o.source===u.source&&o.flags===u.flags;if(o.valueOf!==Object.prototype.valueOf&&typeof o.valueOf=="function"&&typeof u.valueOf=="function")return o.valueOf()===u.valueOf();if(o.toString!==Object.prototype.toString&&typeof o.toString=="function"&&typeof u.toString=="function")return o.toString()===u.toString();if(h=Object.keys(o),c=h.length,c!==Object.keys(u).length)return!1;for(d=c;d--!==0;)if(!Object.prototype.hasOwnProperty.call(u,h[d]))return!1;if(n&&o instanceof Element)return!1;for(d=c;d--!==0;)if(!((h[d]==="_owner"||h[d]==="__v"||h[d]==="__o")&&o.$$typeof)&&!s(o[h[d]],u[h[d]]))return!1;return!0}return o!==o&&u!==u}return jh=function(u,c){try{return s(u,c)}catch(d){if((d.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw d}},jh}var WA=ZA();const eO=fi(WA);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var zh,b1;function tO(){if(b1)return zh;b1=1;var n=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function r(o){if(o==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(o)}function s(){try{if(!Object.assign)return!1;var o=new String("abc");if(o[5]="de",Object.getOwnPropertyNames(o)[0]==="5")return!1;for(var u={},c=0;c<10;c++)u["_"+String.fromCharCode(c)]=c;var d=Object.getOwnPropertyNames(u).map(function(m){return u[m]});if(d.join("")!=="0123456789")return!1;var h={};return"abcdefghijklmnopqrst".split("").forEach(function(m){h[m]=m}),Object.keys(Object.assign({},h)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return zh=s()?Object.assign:function(o,u){for(var c,d=r(o),h,m=1;m<arguments.length;m++){c=Object(arguments[m]);for(var y in c)e.call(c,y)&&(d[y]=c[y]);if(n){h=n(c);for(var b=0;b<h.length;b++)t.call(c,h[b])&&(d[h[b]]=c[h[b]])}}return d},zh}var nO=tO();const rO=fi(nO);var Ii={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},me={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(me).map(function(n){return me[n]});var Ke={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},qu={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Ro={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},iO=Object.keys(qu).reduce(function(n,e){return n[qu[e]]=e,n},{}),sO=[me.NOSCRIPT,me.SCRIPT,me.STYLE],Mn="data-react-helmet",lO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},oO=function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")},aO=function(){function n(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),Ft=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},uO=function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)},x1=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},cO=function(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n},vp=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},fO=function(e){var t=Js(e,me.TITLE),r=Js(e,Ro.TITLE_TEMPLATE);if(r&&t)return r.replace(/%s/g,function(){return Array.isArray(t)?t.join(""):t});var s=Js(e,Ro.DEFAULT_TITLE);return t||s||void 0},dO=function(e){return Js(e,Ro.ON_CHANGE_CLIENT_STATE)||function(){}},Lh=function(e,t){return t.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,s){return Ft({},r,s)},{})},hO=function(e,t){return t.filter(function(r){return typeof r[me.BASE]<"u"}).map(function(r){return r[me.BASE]}).reverse().reduce(function(r,s){if(!r.length)for(var o=Object.keys(s),u=0;u<o.length;u++){var c=o[u],d=c.toLowerCase();if(e.indexOf(d)!==-1&&s[d])return r.concat(s)}return r},[])},fo=function(e,t,r){var s={};return r.filter(function(o){return Array.isArray(o[e])?!0:(typeof o[e]<"u"&&yO("Helmet: "+e+' should be of type "Array". Instead found type "'+lO(o[e])+'"'),!1)}).map(function(o){return o[e]}).reverse().reduce(function(o,u){var c={};u.filter(function(b){for(var v=void 0,x=Object.keys(b),E=0;E<x.length;E++){var w=x[E],k=w.toLowerCase();t.indexOf(k)!==-1&&!(v===Ke.REL&&b[v].toLowerCase()==="canonical")&&!(k===Ke.REL&&b[k].toLowerCase()==="stylesheet")&&(v=k),t.indexOf(w)!==-1&&(w===Ke.INNER_HTML||w===Ke.CSS_TEXT||w===Ke.ITEM_PROP)&&(v=w)}if(!v||!b[v])return!1;var A=b[v].toLowerCase();return s[v]||(s[v]={}),c[v]||(c[v]={}),s[v][A]?!1:(c[v][A]=!0,!0)}).reverse().forEach(function(b){return o.push(b)});for(var d=Object.keys(c),h=0;h<d.length;h++){var m=d[h],y=rO({},s[m],c[m]);s[m]=y}return o},[]).reverse()},Js=function(e,t){for(var r=e.length-1;r>=0;r--){var s=e[r];if(s.hasOwnProperty(t))return s[t]}return null},pO=function(e){return{baseTag:hO([Ke.HREF,Ke.TARGET],e),bodyAttributes:Lh(Ii.BODY,e),defer:Js(e,Ro.DEFER),encode:Js(e,Ro.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Lh(Ii.HTML,e),linkTags:fo(me.LINK,[Ke.REL,Ke.HREF],e),metaTags:fo(me.META,[Ke.NAME,Ke.CHARSET,Ke.HTTPEQUIV,Ke.PROPERTY,Ke.ITEM_PROP],e),noscriptTags:fo(me.NOSCRIPT,[Ke.INNER_HTML],e),onChangeClientState:dO(e),scriptTags:fo(me.SCRIPT,[Ke.SRC,Ke.INNER_HTML],e),styleTags:fo(me.STYLE,[Ke.CSS_TEXT],e),title:fO(e),titleAttributes:Lh(Ii.TITLE,e)}},Sp=function(){var n=Date.now();return function(e){var t=Date.now();t-n>16?(n=t,e(t)):setTimeout(function(){Sp(e)},0)}}(),v1=function(e){return clearTimeout(e)},mO=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Sp:global.requestAnimationFrame||Sp,gO=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||v1:global.cancelAnimationFrame||v1,yO=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},ho=null,bO=function(e){ho&&gO(ho),e.defer?ho=mO(function(){S1(e,function(){ho=null})}):(S1(e),ho=null)},S1=function(e,t){var r=e.baseTag,s=e.bodyAttributes,o=e.htmlAttributes,u=e.linkTags,c=e.metaTags,d=e.noscriptTags,h=e.onChangeClientState,m=e.scriptTags,y=e.styleTags,b=e.title,v=e.titleAttributes;Ep(me.BODY,s),Ep(me.HTML,o),xO(b,v);var x={baseTag:qs(me.BASE,r),linkTags:qs(me.LINK,u),metaTags:qs(me.META,c),noscriptTags:qs(me.NOSCRIPT,d),scriptTags:qs(me.SCRIPT,m),styleTags:qs(me.STYLE,y)},E={},w={};Object.keys(x).forEach(function(k){var A=x[k],j=A.newTags,I=A.oldTags;j.length&&(E[k]=j),I.length&&(w[k]=x[k].oldTags)}),t&&t(),h(e,E,w)},Bv=function(e){return Array.isArray(e)?e.join(""):e},xO=function(e,t){typeof e<"u"&&document.title!==e&&(document.title=Bv(e)),Ep(me.TITLE,t)},Ep=function(e,t){var r=document.getElementsByTagName(e)[0];if(r){for(var s=r.getAttribute(Mn),o=s?s.split(","):[],u=[].concat(o),c=Object.keys(t),d=0;d<c.length;d++){var h=c[d],m=t[h]||"";r.getAttribute(h)!==m&&r.setAttribute(h,m),o.indexOf(h)===-1&&o.push(h);var y=u.indexOf(h);y!==-1&&u.splice(y,1)}for(var b=u.length-1;b>=0;b--)r.removeAttribute(u[b]);o.length===u.length?r.removeAttribute(Mn):r.getAttribute(Mn)!==c.join(",")&&r.setAttribute(Mn,c.join(","))}},qs=function(e,t){var r=document.head||document.querySelector(me.HEAD),s=r.querySelectorAll(e+"["+Mn+"]"),o=Array.prototype.slice.call(s),u=[],c=void 0;return t&&t.length&&t.forEach(function(d){var h=document.createElement(e);for(var m in d)if(d.hasOwnProperty(m))if(m===Ke.INNER_HTML)h.innerHTML=d.innerHTML;else if(m===Ke.CSS_TEXT)h.styleSheet?h.styleSheet.cssText=d.cssText:h.appendChild(document.createTextNode(d.cssText));else{var y=typeof d[m]>"u"?"":d[m];h.setAttribute(m,y)}h.setAttribute(Mn,"true"),o.some(function(b,v){return c=v,h.isEqualNode(b)})?o.splice(c,1):u.push(h)}),o.forEach(function(d){return d.parentNode.removeChild(d)}),u.forEach(function(d){return r.appendChild(d)}),{oldTags:o,newTags:u}},_v=function(e){return Object.keys(e).reduce(function(t,r){var s=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return t?t+" "+s:s},"")},vO=function(e,t,r,s){var o=_v(r),u=Bv(t);return o?"<"+e+" "+Mn+'="true" '+o+">"+vp(u,s)+"</"+e+">":"<"+e+" "+Mn+'="true">'+vp(u,s)+"</"+e+">"},SO=function(e,t,r){return t.reduce(function(s,o){var u=Object.keys(o).filter(function(h){return!(h===Ke.INNER_HTML||h===Ke.CSS_TEXT)}).reduce(function(h,m){var y=typeof o[m]>"u"?m:m+'="'+vp(o[m],r)+'"';return h?h+" "+y:y},""),c=o.innerHTML||o.cssText||"",d=sO.indexOf(e)===-1;return s+"<"+e+" "+Mn+'="true" '+u+(d?"/>":">"+c+"</"+e+">")},"")},Hv=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[qu[s]||s]=e[s],r},t)},EO=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[iO[s]||s]=e[s],r},t)},TO=function(e,t,r){var s,o=(s={key:t},s[Mn]=!0,s),u=Hv(r,o);return[Ue.createElement(me.TITLE,u,t)]},wO=function(e,t){return t.map(function(r,s){var o,u=(o={key:s},o[Mn]=!0,o);return Object.keys(r).forEach(function(c){var d=qu[c]||c;if(d===Ke.INNER_HTML||d===Ke.CSS_TEXT){var h=r.innerHTML||r.cssText;u.dangerouslySetInnerHTML={__html:h}}else u[d]=r[c]}),Ue.createElement(e,u)})},dr=function(e,t,r){switch(e){case me.TITLE:return{toComponent:function(){return TO(e,t.title,t.titleAttributes)},toString:function(){return vO(e,t.title,t.titleAttributes,r)}};case Ii.BODY:case Ii.HTML:return{toComponent:function(){return Hv(t)},toString:function(){return _v(t)}};default:return{toComponent:function(){return wO(e,t)},toString:function(){return SO(e,t,r)}}}},Uv=function(e){var t=e.baseTag,r=e.bodyAttributes,s=e.encode,o=e.htmlAttributes,u=e.linkTags,c=e.metaTags,d=e.noscriptTags,h=e.scriptTags,m=e.styleTags,y=e.title,b=y===void 0?"":y,v=e.titleAttributes;return{base:dr(me.BASE,t,s),bodyAttributes:dr(Ii.BODY,r,s),htmlAttributes:dr(Ii.HTML,o,s),link:dr(me.LINK,u,s),meta:dr(me.META,c,s),noscript:dr(me.NOSCRIPT,d,s),script:dr(me.SCRIPT,h,s),style:dr(me.STYLE,m,s),title:dr(me.TITLE,{title:b,titleAttributes:v},s)}},CO=function(e){var t,r;return r=t=function(s){uO(o,s);function o(){return oO(this,o),cO(this,s.apply(this,arguments))}return o.prototype.shouldComponentUpdate=function(c){return!eO(this.props,c)},o.prototype.mapNestedChildrenToProps=function(c,d){if(!d)return null;switch(c.type){case me.SCRIPT:case me.NOSCRIPT:return{innerHTML:d};case me.STYLE:return{cssText:d}}throw new Error("<"+c.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},o.prototype.flattenArrayTypeChildren=function(c){var d,h=c.child,m=c.arrayTypeChildren,y=c.newChildProps,b=c.nestedChildren;return Ft({},m,(d={},d[h.type]=[].concat(m[h.type]||[],[Ft({},y,this.mapNestedChildrenToProps(h,b))]),d))},o.prototype.mapObjectTypeChildren=function(c){var d,h,m=c.child,y=c.newProps,b=c.newChildProps,v=c.nestedChildren;switch(m.type){case me.TITLE:return Ft({},y,(d={},d[m.type]=v,d.titleAttributes=Ft({},b),d));case me.BODY:return Ft({},y,{bodyAttributes:Ft({},b)});case me.HTML:return Ft({},y,{htmlAttributes:Ft({},b)})}return Ft({},y,(h={},h[m.type]=Ft({},b),h))},o.prototype.mapArrayTypeChildrenToProps=function(c,d){var h=Ft({},d);return Object.keys(c).forEach(function(m){var y;h=Ft({},h,(y={},y[m]=c[m],y))}),h},o.prototype.warnOnInvalidChildren=function(c,d){return!0},o.prototype.mapChildrenToProps=function(c,d){var h=this,m={};return Ue.Children.forEach(c,function(y){if(!(!y||!y.props)){var b=y.props,v=b.children,x=x1(b,["children"]),E=EO(x);switch(h.warnOnInvalidChildren(y,v),y.type){case me.LINK:case me.META:case me.NOSCRIPT:case me.SCRIPT:case me.STYLE:m=h.flattenArrayTypeChildren({child:y,arrayTypeChildren:m,newChildProps:E,nestedChildren:v});break;default:d=h.mapObjectTypeChildren({child:y,newProps:d,newChildProps:E,nestedChildren:v});break}}}),d=this.mapArrayTypeChildrenToProps(m,d),d},o.prototype.render=function(){var c=this.props,d=c.children,h=x1(c,["children"]),m=Ft({},h);return d&&(m=this.mapChildrenToProps(d,m)),Ue.createElement(e,m)},aO(o,null,[{key:"canUseDOM",set:function(c){e.canUseDOM=c}}]),o}(Ue.Component),t.propTypes={base:Ge.object,bodyAttributes:Ge.object,children:Ge.oneOfType([Ge.arrayOf(Ge.node),Ge.node]),defaultTitle:Ge.string,defer:Ge.bool,encodeSpecialCharacters:Ge.bool,htmlAttributes:Ge.object,link:Ge.arrayOf(Ge.object),meta:Ge.arrayOf(Ge.object),noscript:Ge.arrayOf(Ge.object),onChangeClientState:Ge.func,script:Ge.arrayOf(Ge.object),style:Ge.arrayOf(Ge.object),title:Ge.string,titleAttributes:Ge.object,titleTemplate:Ge.string},t.defaultProps={defer:!0,encodeSpecialCharacters:!0},t.peek=e.peek,t.rewind=function(){var s=e.rewind();return s||(s=Uv({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},r},kO=function(){return null},NO=QA(pO,bO,Uv)(kO),Tp=CO(NO);Tp.renderStatic=Tp.rewind;function AO(){var ge,Ct,Ht;const{id:n}=Rc(),e=Cn(),{user:t}=Dn(),[r,s]=R.useState(null),[o,u]=R.useState(""),[c,d]=R.useState(!1),[h,m]=R.useState(0),[y,b]=R.useState([]),[v,x]=R.useState(""),[E,w]=R.useState(null),[k,A]=R.useState(""),[j,I]=R.useState(!1);R.useEffect(()=>{(async()=>{try{const B=await de.get(`https://udhekryqi.com/api/posts/${n}`);s(B.data),m(B.data.likes.length),b(B.data.comments||[]),t&&d(B.data.likes.includes(t.id))}catch{u("Post not found or server error.")}})()},[n,t]);const U=async()=>{if(confirm("Are you sure you want to delete this post?"))try{await de.delete(`https://udhekryqi.com/api/posts/${n}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),e("/")}catch{alert("Failed to delete post.")}},X=async()=>{if(!t)return alert("Please log in to like posts");try{const ue=await de.post(`https://udhekryqi.com/api/posts/${n}/like`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});d(ue.data.liked),m(ue.data.likesCount),s(B=>({...B,likes:ue.data.likes}))}catch(ue){console.error("Like error:",ue)}},Q=async ue=>{if(ue.preventDefault(),!t)return alert("Please log in to comment");if(v.trim())try{const B=await de.post(`https://udhekryqi.com/api/posts/${n}/comments`,{content:v,name:t.name},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});b([...y,B.data.comment]),x("")}catch(B){alert("Failed to post comment."),console.error(B)}},ie=async(ue,B)=>{if(ue.preventDefault(),!!k.trim())try{const G=await de.post(`https://udhekryqi.com/api/posts/${n}/comments`,{content:k,parentId:B,name:t.name},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});b([...y,G.data.comment]),A(""),w(null)}catch(G){alert("Failed to post reply."),console.error(G)}},J=ue=>{const B=re=>y.filter(O=>O.parentId===re).reduce((O,$)=>[...O,$._id,...B($._id)],[]),G=[ue,...B(ue)];b(y.filter(re=>!G.includes(re._id)))},Ne=async ue=>{if(confirm("Delete this comment and all its replies?"))try{await de.delete(`https://udhekryqi.com/api/posts/${n}/comments/${ue}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),J(ue)}catch(B){alert("Failed to delete comment."),console.error(B)}},ze=(ue=null,B=0)=>y.filter(G=>G.parentId===ue).sort((G,re)=>new Date(re.createdAt)-new Date(G.createdAt)).map(G=>T.jsxs("div",{className:`ml-${B*4} border-l pl-4 mt-4`,children:[T.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[T.jsx("span",{className:"font-medium",children:G.name})," •"," ",new Date(G.createdAt).toLocaleDateString()]}),T.jsx("p",{className:"text-gray-800",children:G.content}),T.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[T.jsx("button",{onClick:()=>{w(G._id),A("")},className:"text-xs text-blue-600 hover:underline",children:"Përgjigju"}),((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.name)===G.name)&&T.jsx("button",{onClick:()=>Ne(G._id),className:"text-xs text-red-600 hover:underline",children:"Fshij"})]}),t&&E===G._id&&T.jsxs("form",{onSubmit:re=>ie(re,G._id),className:"mt-2",children:[T.jsx("textarea",{className:"w-full p-2 border rounded mb-2",rows:2,value:k,onChange:re=>A(re.target.value),placeholder:"Shkruaj një përgjigje..."}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{type:"submit",className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Posto Përgjigjen"}),T.jsx("button",{type:"button",className:"text-sm text-gray-500 hover:underline",onClick:()=>w(null),children:"Anulloje"})]})]}),ze(G._id,B+1)]},G._id));return o?T.jsx("div",{className:"text-center text-red-500 mt-10",children:o}):r?T.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[T.jsxs(Tp,{children:[T.jsx("title",{children:r.title}),T.jsx("meta",{name:"description",content:r.content.replace(/<[^>]+>/g,"").slice(0,150)}),T.jsx("meta",{property:"og:title",content:r.title}),T.jsx("meta",{property:"og:description",content:r.content.replace(/<[^>]+>/g,"").slice(0,150)}),T.jsx("meta",{property:"og:url",content:window.location.href}),((ge=r.media)==null?void 0:ge[0])&&T.jsx("meta",{property:"og:image",content:r.media[0]}),T.jsx("meta",{name:"twitter:card",content:"summary_large_image"})]}),T.jsx("h1",{className:"text-3xl font-bold font-serif mb-2",children:r.title}),T.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Nga ",T.jsx("span",{className:"font-medium",children:r.authorName||((Ct=r.author)==null?void 0:Ct.name)})," •"," ",new Date(r.createdAt).toLocaleDateString()]}),T.jsx("div",{className:"mb-4 flex flex-wrap gap-2",children:r.tags.map((ue,B)=>T.jsx("span",{className:"text-xs px-2 py-1 bg-gray-200 rounded-full capitalize",children:ue},B))}),(t==null?void 0:t.role)==="admin"&&T.jsxs("div",{className:"mb-4 flex gap-3",children:[T.jsx(Te,{to:`/edit-post/${r._id}`,className:"px-4 py-1 border rounded text-sm font-medium hover:bg-gray-100",children:"✏️ Ndrysho Artikullin"}),T.jsx("button",{onClick:U,className:"px-4 py-1 border border-red-600 text-red-600 rounded text-sm font-medium hover:bg-red-50",children:"❌ Fshij Artikullin"})]}),((Ht=r.media)==null?void 0:Ht.length)>0&&T.jsx("div",{className:"mb-4",children:r.media.filter(ue=>ue&&ue.trim()).map((ue,B)=>T.jsx("img",{src:ue,alt:`media-${B}`,className:"rounded w-full mb-4",onError:G=>G.target.style.display="none"},B))}),T.jsx("div",{className:"prose max-w-none mb-6 [&>p]:my-4 [&>ul]:my-4 [&>ol]:my-4 [&>h2]:my-5",dangerouslySetInnerHTML:{__html:r.content}}),T.jsxs("div",{className:"relative mb-6",children:[T.jsx("button",{onClick:()=>I(!j),className:"bg-red-700 text-white px-4 py-2 rounded-full text-sm font-semibold hover:bg-red-800",children:"Ndaje Artikullin"}),j&&T.jsxs("div",{className:"absolute mt-2 bg-red-700 shadow-md rounded p-3 border border-gray-200 z-10",children:[T.jsx("a",{href:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}`,target:"_blank",rel:"noopener noreferrer",className:"block text-white font-semibold hover:underline text-sm mb-2",children:"Facebook"}),T.jsx("a",{href:`https://twitter.com/intent/tweet?url=${encodeURIComponent(window.location.href)}&text=${encodeURIComponent(r.title)}`,target:"_blank",rel:"noopener noreferrer",className:"block text-white font-semibold hover:underline text-sm mb-2",children:"X"}),T.jsx("a",{href:`https://www.linkedin.com/shareArticle?mini=true&url=${encodeURIComponent(window.location.href)}&title=${encodeURIComponent(r.title)}`,target:"_blank",rel:"noopener noreferrer",className:"block text-white font-semibold hover:underline text-sm mb-2",children:"LinkedIn"})]})]}),T.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[T.jsx("button",{onClick:X,className:`text-2xl focus:outline-none ${c?"text-red-600":"text-gray-400"}`,title:c?"Unlike":"Like",children:c?"❤️":"🤍"}),T.jsxs("span",{className:"text-sm text-gray-600",children:[h," ",h===1?"pëlqim":"pëlqime"]})]}),T.jsxs("div",{className:"mt-10",children:[T.jsx("h3",{className:"text-xl font-semibold mb-2",children:"💬 Komentet"}),t?T.jsxs("form",{onSubmit:Q,className:"mb-6",children:[T.jsx("textarea",{value:v,onChange:ue=>x(ue.target.value),className:"w-full p-3 border rounded mb-2",rows:3,placeholder:"Shkruaj një koment..."}),T.jsx("button",{type:"submit",className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 text-sm",children:"Posto Komentin"})]}):T.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:["Duhet të"," ",T.jsx(Te,{to:"/login",className:"text-red-600 font-medium hover:underline",children:"hyni në portal"})," ","për të komentuar."]}),T.jsx("div",{children:ze()}),!y.length&&T.jsx("p",{className:"text-gray-500 text-sm mt-4",children:"Asnjë koment akoma. Komento i pari!"})]})]}):T.jsx("div",{className:"text-center mt-10",children:"Loading..."})}function St(n){this.content=n}St.prototype={constructor:St,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,s=r.find(n),o=r.content.slice();return s==-1?o.push(t||n,e):(o[s+1]=e,t&&(o[s]=t)),new St(o)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new St(t)},addToStart:function(n,e){return new St([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new St(t)},addBefore:function(n,e,t){var r=this.remove(e),s=r.content.slice(),o=r.find(n);return s.splice(o==-1?s.length:o,0,e,t),new St(s)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=St.from(n),n.size?new St(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=St.from(n),n.size?new St(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=St.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};St.from=function(n){if(n instanceof St)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new St(e)};function Pv(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let s=n.child(r),o=e.child(r);if(s==o){t+=s.nodeSize;continue}if(!s.sameMarkup(o))return t;if(s.isText&&s.text!=o.text){for(let u=0;s.text[u]==o.text[u];u++)t++;return t}if(s.content.size||o.content.size){let u=Pv(s.content,o.content,t+1);if(u!=null)return u}t+=s.nodeSize}}function qv(n,e,t,r){for(let s=n.childCount,o=e.childCount;;){if(s==0||o==0)return s==o?null:{a:t,b:r};let u=n.child(--s),c=e.child(--o),d=u.nodeSize;if(u==c){t-=d,r-=d;continue}if(!u.sameMarkup(c))return{a:t,b:r};if(u.isText&&u.text!=c.text){let h=0,m=Math.min(u.text.length,c.text.length);for(;h<m&&u.text[u.text.length-h-1]==c.text[c.text.length-h-1];)h++,t--,r--;return{a:t,b:r}}if(u.content.size||c.content.size){let h=qv(u.content,c.content,t-1,r-1);if(h)return h}t-=d,r-=d}}class K{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,s=0,o){for(let u=0,c=0;c<t;u++){let d=this.content[u],h=c+d.nodeSize;if(h>e&&r(d,s+c,o||null,u)!==!1&&d.content.size){let m=c+1;d.nodesBetween(Math.max(0,e-m),Math.min(d.content.size,t-m),r,s+m)}c=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,s){let o="",u=!0;return this.nodesBetween(e,t,(c,d)=>{let h=c.isText?c.text.slice(Math.max(e,d)-d,t-d):c.isLeaf?s?typeof s=="function"?s(c):s:c.type.spec.leafText?c.type.spec.leafText(c):"":"";c.isBlock&&(c.isLeaf&&h||c.isTextblock)&&r&&(u?u=!1:o+=r),o+=h},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,s=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(r)&&(s[s.length-1]=t.withText(t.text+r.text),o=1);o<e.content.length;o++)s.push(e.content[o]);return new K(s,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],s=0;if(t>e)for(let o=0,u=0;u<t;o++){let c=this.content[o],d=u+c.nodeSize;d>e&&((u<e||d>t)&&(c.isText?c=c.cut(Math.max(0,e-u),Math.min(c.text.length,t-u)):c=c.cut(Math.max(0,e-u-1),Math.min(c.content.size,t-u-1))),r.push(c),s+=c.nodeSize),u=d}return new K(r,s)}cutByIndex(e,t){return e==t?K.empty:e==0&&t==this.content.length?this:new K(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let s=this.content.slice(),o=this.size+t.nodeSize-r.nodeSize;return s[e]=t,new K(s,o)}addToStart(e){return new K([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new K(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let s=this.content[t];e(s,r,t),r+=s.nodeSize}}findDiffStart(e,t=0){return Pv(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return qv(this,e,t,r)}findIndex(e,t=-1){if(e==0)return hu(0,e);if(e==this.size)return hu(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,s=0;;r++){let o=this.child(r),u=s+o.nodeSize;if(u>=e)return u==e||t>0?hu(r+1,u):hu(r,s);s=u}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return K.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new K(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return K.empty;let t,r=0;for(let s=0;s<e.length;s++){let o=e[s];r+=o.nodeSize,s&&o.isText&&e[s-1].sameMarkup(o)?(t||(t=e.slice(0,s)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new K(t||e,r)}static from(e){if(!e)return K.empty;if(e instanceof K)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new K([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}K.empty=new K([],0);const Bh={index:0,offset:0};function hu(n,e){return Bh.index=n,Bh.offset=e,Bh}function Iu(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!Iu(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!Iu(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let qe=class wp{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let s=0;s<e.length;s++){let o=e[s];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,s));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,s)),t.push(this),r=!0),t&&t.push(o)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Iu(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let s=r.create(t.attrs);return r.checkAttrs(s.attrs),s}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return wp.none;if(e instanceof wp)return[e];let t=e.slice();return t.sort((r,s)=>r.type.rank-s.type.rank),t}};qe.none=[];class Vu extends Error{}class W{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=Vv(this.content,e+this.openStart,t);return r&&new W(r,this.openStart,this.openEnd)}removeBetween(e,t){return new W(Iv(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return W.empty;let r=t.openStart||0,s=t.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new W(K.fromJSON(e,t.content),r,s)}static maxOpen(e,t=!0){let r=0,s=0;for(let o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.lastChild)s++;return new W(e,r,s)}}W.empty=new W(K.empty,0,0);function Iv(n,e,t){let{index:r,offset:s}=n.findIndex(e),o=n.maybeChild(r),{index:u,offset:c}=n.findIndex(t);if(s==e||o.isText){if(c!=t&&!n.child(u).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=u)throw new RangeError("Removing non-flat range");return n.replaceChild(r,o.copy(Iv(o.content,e-s-1,t-s-1)))}function Vv(n,e,t,r){let{index:s,offset:o}=n.findIndex(e),u=n.maybeChild(s);if(o==e||u.isText)return n.cut(0,e).append(t).append(n.cut(e));let c=Vv(u.content,e-o-1,t);return c&&n.replaceChild(s,u.copy(c))}function OO(n,e,t){if(t.openStart>n.depth)throw new Vu("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new Vu("Inconsistent open depths");return Fv(n,e,t,0)}function Fv(n,e,t,r){let s=n.index(r),o=n.node(r);if(s==e.index(r)&&r<n.depth-t.openStart){let u=Fv(n,e,t,r+1);return o.copy(o.content.replaceChild(s,u))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let u=n.parent,c=u.content;return Fi(u,c.cut(0,n.parentOffset).append(t.content).append(c.cut(e.parentOffset)))}else{let{start:u,end:c}=MO(t,n);return Fi(o,Gv(n,u,c,e,r))}else return Fi(o,Fu(n,e,r))}function $v(n,e){if(!e.type.compatibleContent(n.type))throw new Vu("Cannot join "+e.type.name+" onto "+n.type.name)}function Cp(n,e,t){let r=n.node(t);return $v(r,e.node(t)),r}function Vi(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function vo(n,e,t,r){let s=(e||n).node(t),o=0,u=e?e.index(t):s.childCount;n&&(o=n.index(t),n.depth>t?o++:n.textOffset&&(Vi(n.nodeAfter,r),o++));for(let c=o;c<u;c++)Vi(s.child(c),r);e&&e.depth==t&&e.textOffset&&Vi(e.nodeBefore,r)}function Fi(n,e){return n.type.checkContent(e),n.copy(e)}function Gv(n,e,t,r,s){let o=n.depth>s&&Cp(n,e,s+1),u=r.depth>s&&Cp(t,r,s+1),c=[];return vo(null,n,s,c),o&&u&&e.index(s)==t.index(s)?($v(o,u),Vi(Fi(o,Gv(n,e,t,r,s+1)),c)):(o&&Vi(Fi(o,Fu(n,e,s+1)),c),vo(e,t,s,c),u&&Vi(Fi(u,Fu(t,r,s+1)),c)),vo(r,null,s,c),new K(c)}function Fu(n,e,t){let r=[];if(vo(null,n,t,r),n.depth>t){let s=Cp(n,e,t+1);Vi(Fi(s,Fu(n,e,t+1)),r)}return vo(e,null,t,r),new K(r)}function MO(n,e){let t=e.depth-n.openStart,s=e.node(t).copy(n.content);for(let o=t-1;o>=0;o--)s=e.node(o).copy(K.from(s));return{start:s.resolveNoCache(n.openStart+t),end:s.resolveNoCache(s.content.size-n.openEnd-t)}}class Do{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(t);return r?e.child(t).cut(r):s}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],s=t==0?0:this.path[t*3-1]+1;for(let o=0;o<e;o++)s+=r.child(o).nodeSize;return s}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return qe.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),s=e.maybeChild(t);if(!r){let c=r;r=s,s=c}let o=r.marks;for(var u=0;u<o.length;u++)o[u].type.spec.inclusive===!1&&(!s||!o[u].isInSet(s.marks))&&(o=o[u--].removeFromSet(o));return o}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,s=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!s||!r[o].isInSet(s.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new $u(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],s=0,o=t;for(let u=e;;){let{index:c,offset:d}=u.content.findIndex(o),h=o-d;if(r.push(u,c,s+d),!h||(u=u.child(c),u.isText))break;o=h-1,s+=d+1}return new Do(t,r,o)}static resolveCached(e,t){let r=E1.get(e);if(r)for(let o=0;o<r.elts.length;o++){let u=r.elts[o];if(u.pos==t)return u}else E1.set(e,r=new RO);let s=r.elts[r.i]=Do.resolve(e,t);return r.i=(r.i+1)%DO,s}}class RO{constructor(){this.elts=[],this.i=0}}const DO=12,E1=new WeakMap;class $u{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const jO=Object.create(null);let si=class kp{constructor(e,t,r,s=qe.none){this.type=e,this.attrs=t,this.marks=s,this.content=r||K.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,s=0){this.content.nodesBetween(e,t,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,s){return this.content.textBetween(e,t,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&Iu(this.attrs,t||e.defaultAttrs||jO)&&qe.sameSet(this.marks,r||qe.none)}copy(e=null){return e==this.content?this:new kp(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new kp(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return W.empty;let s=this.resolve(e),o=this.resolve(t),u=r?0:s.sharedDepth(t),c=s.start(u),h=s.node(u).content.cut(s.pos-c,o.pos-c);return new W(h,s.depth-u,o.depth-u)}replace(e,t,r){return OO(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:s}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(s==e||t.isText)return t;e-=s+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let s=this.content.child(t-1);return{node:s,index:t-1,offset:r-s.nodeSize}}resolve(e){return Do.resolveCached(this,e)}resolveNoCache(e){return Do.resolve(this,e)}rangeHasMark(e,t,r){let s=!1;return t>e&&this.nodesBetween(e,t,o=>(r.isInSet(o.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Kv(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=K.empty,s=0,o=r.childCount){let u=this.contentMatchAt(e).matchFragment(r,s,o),c=u&&u.matchFragment(this.content,t);if(!c||!c.validEnd)return!1;for(let d=s;d<o;d++)if(!this.type.allowsMarks(r.child(d).marks))return!1;return!0}canReplaceWith(e,t,r,s){if(s&&!this.type.allowsMarks(s))return!1;let o=this.contentMatchAt(e).matchType(r),u=o&&o.matchFragment(this.content,t);return u?u.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=qe.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!qe.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let s=K.fromJSON(e,t.content),o=e.nodeType(t.type).create(t.attrs,s,r);return o.type.checkAttrs(o.attrs),o}};si.prototype.text=void 0;class Gu extends si{constructor(e,t,r,s){if(super(e,t,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Kv(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Gu(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Gu(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Kv(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class Ji{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new zO(e,t);if(r.next==null)return Ji.empty;let s=Yv(r);r.next&&r.err("Unexpected trailing text");let o=qO(PO(s));return IO(o,r),o}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let s=this;for(let o=t;s&&o<r;o++)s=s.matchType(e.child(o).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let s=[this];function o(u,c){let d=u.matchFragment(e,r);if(d&&(!t||d.validEnd))return K.from(c.map(h=>h.createAndFill()));for(let h=0;h<u.next.length;h++){let{type:m,next:y}=u.next[h];if(!(m.isText||m.hasRequiredAttrs())&&s.indexOf(y)==-1){s.push(y);let b=o(y,c.concat(m));if(b)return b}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),o=s.match;if(o.matchType(e)){let u=[];for(let c=s;c.type;c=c.via)u.push(c.type);return u.reverse()}for(let u=0;u<o.next.length;u++){let{type:c,next:d}=o.next[u];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in t)&&(!s.type||d.validEnd)&&(r.push({match:c.contentMatch,type:c,via:s}),t[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&t(r.next[s].next)}return t(this),e.map((r,s)=>{let o=s+(r.validEnd?"*":" ")+" ";for(let u=0;u<r.next.length;u++)o+=(u?", ":"")+r.next[u].type.name+"->"+e.indexOf(r.next[u].next);return o}).join(`
`)}}Ji.empty=new Ji(!0);class zO{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Yv(n){let e=[];do e.push(LO(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function LO(n){let e=[];do e.push(BO(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function BO(n){let e=UO(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=_O(n,e);else break;return e}function T1(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function _O(n,e){let t=T1(n),r=t;return n.eat(",")&&(n.next!="}"?r=T1(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function HO(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let s=[];for(let o in t){let u=t[o];u.isInGroup(e)&&s.push(u)}return s.length==0&&n.err("No node type or group '"+e+"' found"),s}function UO(n){if(n.eat("(")){let e=Yv(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=HO(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function PO(n){let e=[[]];return s(o(n,0),t()),e;function t(){return e.push([])-1}function r(u,c,d){let h={term:d,to:c};return e[u].push(h),h}function s(u,c){u.forEach(d=>d.to=c)}function o(u,c){if(u.type=="choice")return u.exprs.reduce((d,h)=>d.concat(o(h,c)),[]);if(u.type=="seq")for(let d=0;;d++){let h=o(u.exprs[d],c);if(d==u.exprs.length-1)return h;s(h,c=t())}else if(u.type=="star"){let d=t();return r(c,d),s(o(u.expr,d),d),[r(d)]}else if(u.type=="plus"){let d=t();return s(o(u.expr,c),d),s(o(u.expr,d),d),[r(d)]}else{if(u.type=="opt")return[r(c)].concat(o(u.expr,c));if(u.type=="range"){let d=c;for(let h=0;h<u.min;h++){let m=t();s(o(u.expr,d),m),d=m}if(u.max==-1)s(o(u.expr,d),d);else for(let h=u.min;h<u.max;h++){let m=t();r(d,m),s(o(u.expr,d),m),d=m}return[r(d)]}else{if(u.type=="name")return[r(c,void 0,u.value)];throw new Error("Unknown expr type")}}}}function Jv(n,e){return e-n}function w1(n,e){let t=[];return r(e),t.sort(Jv);function r(s){let o=n[s];if(o.length==1&&!o[0].term)return r(o[0].to);t.push(s);for(let u=0;u<o.length;u++){let{term:c,to:d}=o[u];!c&&t.indexOf(d)==-1&&r(d)}}}function qO(n){let e=Object.create(null);return t(w1(n,0));function t(r){let s=[];r.forEach(u=>{n[u].forEach(({term:c,to:d})=>{if(!c)return;let h;for(let m=0;m<s.length;m++)s[m][0]==c&&(h=s[m][1]);w1(n,d).forEach(m=>{h||s.push([c,h=[]]),h.indexOf(m)==-1&&h.push(m)})})});let o=e[r.join(",")]=new Ji(r.indexOf(n.length-1)>-1);for(let u=0;u<s.length;u++){let c=s[u][1].sort(Jv);o.next.push({type:s[u][0],next:e[c.join(",")]||t(c)})}return o}}function IO(n,e){for(let t=0,r=[n];t<r.length;t++){let s=r[t],o=!s.validEnd,u=[];for(let c=0;c<s.next.length;c++){let{type:d,next:h}=s.next[c];u.push(d.name),o&&!(d.isText||d.hasRequiredAttrs())&&(o=!1),r.indexOf(h)==-1&&r.push(h)}o&&e.err("Only non-generatable nodes ("+u.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Xv(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function Qv(n,e){let t=Object.create(null);for(let r in n){let s=e&&e[r];if(s===void 0){let o=n[r];if(o.hasDefault)s=o.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=s}return t}function Zv(n,e,t,r){for(let s in e)if(!(s in n))throw new RangeError(`Unsupported attribute ${s} for ${t} of type ${s}`);for(let s in n){let o=n[s];o.validate&&o.validate(e[s])}}function Wv(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new FO(n,r,e[r]);return t}let C1=class eS{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Wv(e,r.attrs),this.defaultAttrs=Xv(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ji.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Qv(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new si(this,this.computeAttrs(e),K.from(t),qe.setFrom(r))}createChecked(e=null,t,r){return t=K.from(t),this.checkContent(t),new si(this,this.computeAttrs(e),t,qe.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=K.from(t),t.size){let u=this.contentMatch.fillBefore(t);if(!u)return null;t=u.append(t)}let s=this.contentMatch.matchFragment(t),o=s&&s.fillBefore(K.empty,!0);return o?new si(this,e,t.append(o),qe.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Zv(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:qe.none:e}static compile(e,t){let r=Object.create(null);e.forEach((o,u)=>r[o]=new eS(o,t,u));let s=t.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function VO(n,e,t){let r=t.split("|");return s=>{let o=s===null?"null":typeof s;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${o}`)}}class FO{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?VO(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class qc{constructor(e,t,r,s){this.name=e,this.rank=t,this.schema=r,this.spec=s,this.attrs=Wv(e,s.attrs),this.excluded=null;let o=Xv(this.attrs);this.instance=o?new qe(this,o):null}create(e=null){return!e&&this.instance?this.instance:new qe(this,Qv(this.attrs,e))}static compile(e,t){let r=Object.create(null),s=0;return e.forEach((o,u)=>r[o]=new qc(o,s++,t,u)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){Zv(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class tS{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let s in e)t[s]=e[s];t.nodes=St.from(e.nodes),t.marks=St.from(e.marks||{}),this.nodes=C1.compile(this.spec.nodes,this),this.marks=qc.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let o=this.nodes[s],u=o.spec.content||"",c=o.spec.marks;if(o.contentMatch=r[u]||(r[u]=Ji.parse(u,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=c=="_"?null:c?k1(this,c.split(" ")):c==""||!o.inlineContent?[]:null}for(let s in this.marks){let o=this.marks[s],u=o.spec.excludes;o.excluded=u==null?[o]:u==""?[]:k1(this,u.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof C1){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,s)}text(e,t){let r=this.nodes.text;return new Gu(r,r.defaultAttrs,e,qe.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return si.fromJSON(this,e)}markFromJSON(e){return qe.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function k1(n,e){let t=[];for(let r=0;r<e.length;r++){let s=e[r],o=n.marks[s],u=o;if(o)t.push(o);else for(let c in n.marks){let d=n.marks[c];(s=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(s)>-1)&&t.push(u=d)}if(!u)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function $O(n){return n.tag!=null}function GO(n){return n.style!=null}class li{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(s=>{if($O(s))this.tags.push(s);else if(GO(s)){let o=/[^=]*/.exec(s.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let o=e.nodes[s.node];return o.contentMatch.matchType(o)})}parse(e,t={}){let r=new A1(this,t,!1);return r.addAll(e,qe.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new A1(this,t,!0);return r.addAll(e,qe.none,t.from,t.to),W.maxOpen(r.finish())}matchTag(e,t,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let o=this.tags[s];if(JO(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||t.matchesContext(o.context))){if(o.getAttrs){let u=o.getAttrs(e);if(u===!1)continue;o.attrs=u||void 0}return o}}}matchStyle(e,t,r,s){for(let o=s?this.styles.indexOf(s)+1:0;o<this.styles.length;o++){let u=this.styles[o],c=u.style;if(!(c.indexOf(e)!=0||u.context&&!r.matchesContext(u.context)||c.length>e.length&&(c.charCodeAt(e.length)!=61||c.slice(e.length+1)!=t))){if(u.getAttrs){let d=u.getAttrs(t);if(d===!1)continue;u.attrs=d||void 0}return u}}}static schemaRules(e){let t=[];function r(s){let o=s.priority==null?50:s.priority,u=0;for(;u<t.length;u++){let c=t[u];if((c.priority==null?50:c.priority)<o)break}t.splice(u,0,s)}for(let s in e.marks){let o=e.marks[s].spec.parseDOM;o&&o.forEach(u=>{r(u=O1(u)),u.mark||u.ignore||u.clearMark||(u.mark=s)})}for(let s in e.nodes){let o=e.nodes[s].spec.parseDOM;o&&o.forEach(u=>{r(u=O1(u)),u.node||u.ignore||u.mark||(u.node=s)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new li(e,li.schemaRules(e)))}}const nS={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},KO={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},rS={ol:!0,ul:!0},jo=1,Np=2,Ou=4;function N1(n,e,t){return e!=null?(e?jo:0)|(e==="full"?Np:0):n&&n.whitespace=="pre"?jo|Np:t&-5}class pu{constructor(e,t,r,s,o,u){this.type=e,this.attrs=t,this.marks=r,this.solid=s,this.options=u,this.content=[],this.activeMarks=qe.none,this.match=o||(u&Ou?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(K.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&jo)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-s[0].length))}}let t=K.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(K.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!nS.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class A1{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let s=t.topNode,o,u=N1(null,t.preserveWhitespace,0)|(r?Ou:0);s?o=new pu(s.type,s.attrs,qe.none,!0,t.topMatch||s.type.contentMatch,u):r?o=new pu(null,null,qe.none,!0,null,u):o=new pu(e.schema.topNodeType,null,qe.none,!0,null,u),this.nodes=[o],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,s=this.top,o=s.options&Np?"full":this.localPreserveWS||(s.options&jo)>0;if(o==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(o)o!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let u=s.content[s.content.length-1],c=e.previousSibling;(!u||c&&c.nodeName=="BR"||u.isText&&/[ \t\r\n\u000c]$/.test(u.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let s=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let u=e.nodeName.toLowerCase(),c;rS.hasOwnProperty(u)&&this.parser.normalizeLists&&YO(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(c=this.parser.matchTag(e,this,r));e:if(d?d.ignore:KO.hasOwnProperty(u))this.findInside(e),this.ignoreFallback(e,t);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let h,m=this.needsBlock;if(nS.hasOwnProperty(u))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),h=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let y=d&&d.skip?t:this.readStyles(e,t);y&&this.addAll(e,y),h&&this.sync(o),this.needsBlock=m}else{let h=this.readStyles(e,t);h&&this.addElementByRule(e,d,h,d.consuming===!1?c:void 0)}this.localPreserveWS=s}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let o=this.parser.matchedStyles[s],u=r.getPropertyValue(o);if(u)for(let c=void 0;;){let d=this.parser.matchStyle(o,u,this,c);if(!d)break;if(d.ignore)return null;if(d.clearMark?t=t.filter(h=>!d.clearMark(h)):t=t.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)c=d;else break}}return t}addElementByRule(e,t,r,s){let o,u;if(t.node)if(u=this.parser.schema.nodes[t.node],u.isLeaf)this.insertNode(u.create(t.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let d=this.enter(u,t.attrs||null,r,t.preserveWhitespace);d&&(o=!0,r=d)}else{let d=this.parser.schema.marks[t.mark];r=r.concat(d.create(t.attrs))}let c=this.top;if(u&&u.isLeaf)this.findInside(e);else if(s)this.addElement(e,r,s);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,r,!1));else{let d=e;typeof t.contentElement=="string"?d=e.querySelector(t.contentElement):typeof t.contentElement=="function"?d=t.contentElement(e):t.contentElement&&(d=t.contentElement),this.findAround(e,d,!0),this.addAll(d,r),this.findAround(e,d,!1)}o&&this.sync(c)&&this.open--}addAll(e,t,r,s){let o=r||0;for(let u=r?e.childNodes[r]:e.firstChild,c=s==null?null:e.childNodes[s];u!=c;u=u.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(u,t);this.findAtPoint(e,o)}findPlace(e,t,r){let s,o;for(let u=this.open,c=0;u>=0;u--){let d=this.nodes[u],h=d.findWrapping(e);if(h&&(!s||s.length>h.length+c)&&(s=h,o=d,!h.length))break;if(d.solid){if(r)break;c+=2}}if(!s)return null;this.sync(o);for(let u=0;u<s.length;u++)t=this.enterInner(s[u],null,t,!1);return t}insertNode(e,t,r){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(t=this.enterInner(o,null,t))}let s=this.findPlace(e,t,r);if(s){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let u=qe.none;for(let c of s.concat(e.marks))(o.type?o.type.allowsMarkType(c.type):M1(c.type,e.type))&&(u=c.addToSet(u));return o.content.push(e.mark(u)),!0}return!1}enter(e,t,r,s){let o=this.findPlace(e.create(t),r,!1);return o&&(o=this.enterInner(e,t,r,!0,s)),o}enterInner(e,t,r,s=!1,o){this.closeExtra();let u=this.top;u.match=u.match&&u.match.matchType(e);let c=N1(e,o,u.options);u.options&Ou&&u.content.length==0&&(c|=Ou);let d=qe.none;return r=r.filter(h=>(u.type?u.type.allowsMarkType(h.type):M1(h.type,e))?(d=h.addToSet(d),!1):!0),this.nodes.push(new pu(e,t,d,s,null,c)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=jo)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&t.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(s?0:1),u=(c,d)=>{for(;c>=0;c--){let h=t[c];if(h==""){if(c==t.length-1||c==0)continue;for(;d>=o;d--)if(u(c-1,d))return!0;return!1}else{let m=d>0||d==0&&s?this.nodes[d].type:r&&d>=o?r.node(d-o).type:null;if(!m||m.name!=h&&!m.isInGroup(h))return!1;d--}}return!0};return u(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function YO(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&rS.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function JO(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function O1(n){let e={};for(let t in n)e[t]=n[t];return e}function M1(n,e){let t=e.schema.nodes;for(let r in t){let s=t[r];if(!s.allowsMarkType(n))continue;let o=[],u=c=>{o.push(c);for(let d=0;d<c.edgeCount;d++){let{type:h,next:m}=c.edge(d);if(h==e||o.indexOf(m)<0&&u(m))return!0}};if(u(s.contentMatch))return!0}}class es{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=_h(t).createDocumentFragment());let s=r,o=[];return e.forEach(u=>{if(o.length||u.marks.length){let c=0,d=0;for(;c<o.length&&d<u.marks.length;){let h=u.marks[d];if(!this.marks[h.type.name]){d++;continue}if(!h.eq(o[c][0])||h.type.spec.spanning===!1)break;c++,d++}for(;c<o.length;)s=o.pop()[1];for(;d<u.marks.length;){let h=u.marks[d++],m=this.serializeMark(h,u.isInline,t);m&&(o.push([h,s]),s.appendChild(m.dom),s=m.contentDOM||m.dom)}}s.appendChild(this.serializeNodeInner(u,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:s}=Mu(_h(t),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,s)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let s=e.marks.length-1;s>=0;s--){let o=this.serializeMark(e.marks[s],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,t,r={}){let s=this.marks[e.type.name];return s&&Mu(_h(r),s(e,t),null,e.attrs)}static renderSpec(e,t,r=null,s){return Mu(e,t,r,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new es(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=R1(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return R1(e.marks)}}function R1(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function _h(n){return n.document||window.document}const D1=new WeakMap;function XO(n){let e=D1.get(n);return e===void 0&&D1.set(n,e=QO(n)),e}function QO(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let s=0;s<r.length;s++)t(r[s]);else for(let s in r)t(r[s])}return t(n),e}function Mu(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],o;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=XO(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let u=s.indexOf(" ");u>0&&(t=s.slice(0,u),s=s.slice(u+1));let c,d=t?n.createElementNS(t,s):n.createElement(s),h=e[1],m=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){m=2;for(let y in h)if(h[y]!=null){let b=y.indexOf(" ");b>0?d.setAttributeNS(y.slice(0,b),y.slice(b+1),h[y]):d.setAttribute(y,h[y])}}for(let y=m;y<e.length;y++){let b=e[y];if(b===0){if(y<e.length-1||y>m)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:v,contentDOM:x}=Mu(n,b,t,r);if(d.appendChild(v),x){if(c)throw new RangeError("Multiple content holes");c=x}}}return{dom:d,contentDOM:c}}const iS=65535,sS=Math.pow(2,16);function ZO(n,e){return n+e*sS}function j1(n){return n&iS}function WO(n){return(n-(n&iS))/sS}const lS=1,oS=2,Ru=4,aS=8;class Ap{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&aS)>0}get deletedBefore(){return(this.delInfo&(lS|Ru))>0}get deletedAfter(){return(this.delInfo&(oS|Ru))>0}get deletedAcross(){return(this.delInfo&Ru)>0}}class on{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&on.empty)return on.empty}recover(e){let t=0,r=j1(e);if(!this.inverted)for(let s=0;s<r;s++)t+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+t+WO(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let s=0,o=this.inverted?2:1,u=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?s:0);if(d>e)break;let h=this.ranges[c+o],m=this.ranges[c+u],y=d+h;if(e<=y){let b=h?e==d?-1:e==y?1:t:t,v=d+s+(b<0?0:m);if(r)return v;let x=e==(t<0?d:y)?null:ZO(c/3,e-d),E=e==d?oS:e==y?lS:Ru;return(t<0?e!=d:e!=y)&&(E|=aS),new Ap(v,E,x)}s+=m-h}return r?e+s:new Ap(e+s,0,null)}touches(e,t){let r=0,s=j1(t),o=this.inverted?2:1,u=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?r:0);if(d>e)break;let h=this.ranges[c+o],m=d+h;if(e<=m&&c==s*3)return!0;r+=this.ranges[c+u]-h}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,o=0;s<this.ranges.length;s+=3){let u=this.ranges[s],c=u-(this.inverted?o:0),d=u+(this.inverted?0:o),h=this.ranges[s+t],m=this.ranges[s+r];e(c,c+h,d,d+m),o+=m-h}}invert(){return new on(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?on.empty:new on(e<0?[0,-e,0]:[0,0,e])}}on.empty=new on([]);class zo{constructor(e,t,r=0,s=e?e.length:0){this.mirror=t,this.from=r,this.to=s,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new zo(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let s=e.getMirror(t);this.appendMap(e._maps[t],s!=null&&s<t?r+s:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let s=e.getMirror(t);this.appendMap(e._maps[t].invert(),s!=null&&s>t?r-s-1:void 0)}}invert(){let e=new zo;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let s=0;for(let o=this.from;o<this.to;o++){let u=this._maps[o],c=u.mapResult(e,t);if(c.recover!=null){let d=this.getMirror(o);if(d!=null&&d>o&&d<this.to){o=d,e=this._maps[d].recover(c.recover);continue}}s|=c.delInfo,e=c.pos}return r?e:new Ap(e,s,null)}}const Hh=Object.create(null);class Dt{getMap(){return on.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Hh[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Hh)throw new RangeError("Duplicate use of step JSON ID "+e);return Hh[e]=t,t.prototype.jsonID=e,t}}class it{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new it(e,null)}static fail(e){return new it(null,e)}static fromReplace(e,t,r,s){try{return it.ok(e.replace(t,r,s))}catch(o){if(o instanceof Vu)return it.fail(o.message);throw o}}}function om(n,e,t){let r=[];for(let s=0;s<n.childCount;s++){let o=n.child(s);o.content.size&&(o=o.copy(om(o.content,e,o))),o.isInline&&(o=e(o,t,s)),r.push(o)}return K.fromArray(r)}class ni extends Dt{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),o=new W(om(t.content,(u,c)=>!u.isAtom||!c.type.allowsMarkType(this.mark.type)?u:u.mark(this.mark.addToSet(u.marks)),s),t.openStart,t.openEnd);return it.fromReplace(e,this.from,this.to,o)}invert(){return new Fn(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new ni(t.pos,r.pos,this.mark)}merge(e){return e instanceof ni&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ni(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ni(t.from,t.to,e.markFromJSON(t.mark))}}Dt.jsonID("addMark",ni);class Fn extends Dt{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new W(om(t.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),t.openStart,t.openEnd);return it.fromReplace(e,this.from,this.to,r)}invert(){return new ni(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Fn(t.pos,r.pos,this.mark)}merge(e){return e instanceof Fn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Fn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Fn(t.from,t.to,e.markFromJSON(t.mark))}}Dt.jsonID("removeMark",Fn);class ri extends Dt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return it.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return it.fromReplace(e,this.pos,this.pos+1,new W(K.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let s=0;s<t.marks.length;s++)if(!t.marks[s].isInSet(r))return new ri(this.pos,t.marks[s]);return new ri(this.pos,this.mark)}}return new Xi(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ri(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ri(t.pos,e.markFromJSON(t.mark))}}Dt.jsonID("addNodeMark",ri);class Xi extends Dt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return it.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return it.fromReplace(e,this.pos,this.pos+1,new W(K.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new ri(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Xi(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Xi(t.pos,e.markFromJSON(t.mark))}}Dt.jsonID("removeNodeMark",Xi);class dt extends Dt{constructor(e,t,r,s=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=s}apply(e){return this.structure&&Op(e,this.from,this.to)?it.fail("Structure replace would overwrite content"):it.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new on([this.from,this.to-this.from,this.slice.size])}invert(e){return new dt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new dt(t.pos,Math.max(t.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof dt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?W.empty:new W(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new dt(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?W.empty:new W(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new dt(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new dt(t.from,t.to,W.fromJSON(e,t.slice),!!t.structure)}}Dt.jsonID("replace",dt);class ht extends Dt{constructor(e,t,r,s,o,u,c=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=s,this.slice=o,this.insert=u,this.structure=c}apply(e){if(this.structure&&(Op(e,this.from,this.gapFrom)||Op(e,this.gapTo,this.to)))return it.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return it.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?it.fromReplace(e,this.from,this.to,r):it.fail("Content does not fit in gap")}getMap(){return new on([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new ht(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||s<t.pos||o>r.pos?null:new ht(t.pos,r.pos,s,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ht(t.from,t.to,t.gapFrom,t.gapTo,W.fromJSON(e,t.slice),t.insert,!!t.structure)}}Dt.jsonID("replaceAround",ht);function Op(n,e,t){let r=n.resolve(e),s=t-e,o=r.depth;for(;s>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,s--;if(s>0){let u=r.node(o).maybeChild(r.indexAfter(o));for(;s>0;){if(!u||u.isLeaf)return!0;u=u.firstChild,s--}}return!1}function e2(n,e,t,r){let s=[],o=[],u,c;n.doc.nodesBetween(e,t,(d,h,m)=>{if(!d.isInline)return;let y=d.marks;if(!r.isInSet(y)&&m.type.allowsMarkType(r.type)){let b=Math.max(h,e),v=Math.min(h+d.nodeSize,t),x=r.addToSet(y);for(let E=0;E<y.length;E++)y[E].isInSet(x)||(u&&u.to==b&&u.mark.eq(y[E])?u.to=v:s.push(u=new Fn(b,v,y[E])));c&&c.to==b?c.to=v:o.push(c=new ni(b,v,r))}}),s.forEach(d=>n.step(d)),o.forEach(d=>n.step(d))}function t2(n,e,t,r){let s=[],o=0;n.doc.nodesBetween(e,t,(u,c)=>{if(!u.isInline)return;o++;let d=null;if(r instanceof qc){let h=u.marks,m;for(;m=r.isInSet(h);)(d||(d=[])).push(m),h=m.removeFromSet(h)}else r?r.isInSet(u.marks)&&(d=[r]):d=u.marks;if(d&&d.length){let h=Math.min(c+u.nodeSize,t);for(let m=0;m<d.length;m++){let y=d[m],b;for(let v=0;v<s.length;v++){let x=s[v];x.step==o-1&&y.eq(s[v].style)&&(b=x)}b?(b.to=h,b.step=o):s.push({style:y,from:Math.max(c,e),to:h,step:o})}}}),s.forEach(u=>n.step(new Fn(u.from,u.to,u.style)))}function am(n,e,t,r=t.contentMatch,s=!0){let o=n.doc.nodeAt(e),u=[],c=e+1;for(let d=0;d<o.childCount;d++){let h=o.child(d),m=c+h.nodeSize,y=r.matchType(h.type);if(!y)u.push(new dt(c,m,W.empty));else{r=y;for(let b=0;b<h.marks.length;b++)t.allowsMarkType(h.marks[b].type)||n.step(new Fn(c,m,h.marks[b]));if(s&&h.isText&&t.whitespace!="pre"){let b,v=/\r?\n|\r/g,x;for(;b=v.exec(h.text);)x||(x=new W(K.from(t.schema.text(" ",t.allowedMarks(h.marks))),0,0)),u.push(new dt(c+b.index,c+b.index+b[0].length,x))}}c=m}if(!r.validEnd){let d=r.fillBefore(K.empty,!0);n.replace(c,c,new W(d,0,0))}for(let d=u.length-1;d>=0;d--)n.step(u[d])}function n2(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function al(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let s=n.$from.node(r),o=n.$from.index(r),u=n.$to.indexAfter(r);if(r<n.depth&&s.canReplace(o,u,t))return r;if(r==0||s.type.spec.isolating||!n2(s,o,u))break}return null}function r2(n,e,t){let{$from:r,$to:s,depth:o}=e,u=r.before(o+1),c=s.after(o+1),d=u,h=c,m=K.empty,y=0;for(let x=o,E=!1;x>t;x--)E||r.index(x)>0?(E=!0,m=K.from(r.node(x).copy(m)),y++):d--;let b=K.empty,v=0;for(let x=o,E=!1;x>t;x--)E||s.after(x+1)<s.end(x)?(E=!0,b=K.from(s.node(x).copy(b)),v++):h++;n.step(new ht(d,h,u,c,new W(m.append(b),y,v),m.size-y,!0))}function um(n,e,t=null,r=n){let s=i2(n,e),o=s&&s2(r,e);return o?s.map(z1).concat({type:e,attrs:t}).concat(o.map(z1)):null}function z1(n){return{type:n,attrs:null}}function i2(n,e){let{parent:t,startIndex:r,endIndex:s}=n,o=t.contentMatchAt(r).findWrapping(e);if(!o)return null;let u=o.length?o[0]:e;return t.canReplaceWith(r,s,u)?o:null}function s2(n,e){let{parent:t,startIndex:r,endIndex:s}=n,o=t.child(r),u=e.contentMatch.findWrapping(o.type);if(!u)return null;let d=(u.length?u[u.length-1]:e).contentMatch;for(let h=r;d&&h<s;h++)d=d.matchType(t.child(h).type);return!d||!d.validEnd?null:u}function l2(n,e,t){let r=K.empty;for(let u=t.length-1;u>=0;u--){if(r.size){let c=t[u].type.contentMatch.matchFragment(r);if(!c||!c.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=K.from(t[u].type.create(t[u].attrs,r))}let s=e.start,o=e.end;n.step(new ht(s,o,s,o,new W(r,0,0),t.length,!0))}function o2(n,e,t,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=n.steps.length;n.doc.nodesBetween(e,t,(u,c)=>{let d=typeof s=="function"?s(u):s;if(u.isTextblock&&!u.hasMarkup(r,d)&&a2(n.doc,n.mapping.slice(o).map(c),r)){let h=null;if(r.schema.linebreakReplacement){let v=r.whitespace=="pre",x=!!r.contentMatch.matchType(r.schema.linebreakReplacement);v&&!x?h=!1:!v&&x&&(h=!0)}h===!1&&cS(n,u,c,o),am(n,n.mapping.slice(o).map(c,1),r,void 0,h===null);let m=n.mapping.slice(o),y=m.map(c,1),b=m.map(c+u.nodeSize,1);return n.step(new ht(y,b,y+1,b-1,new W(K.from(r.create(d,null,u.marks)),0,0),1,!0)),h===!0&&uS(n,u,c,o),!1}})}function uS(n,e,t,r){e.forEach((s,o)=>{if(s.isText){let u,c=/\r?\n|\r/g;for(;u=c.exec(s.text);){let d=n.mapping.slice(r).map(t+1+o+u.index);n.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function cS(n,e,t,r){e.forEach((s,o)=>{if(s.type==s.type.schema.linebreakReplacement){let u=n.mapping.slice(r).map(t+1+o);n.replaceWith(u,u+1,e.type.schema.text(`
`))}})}function a2(n,e,t){let r=n.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,t)}function u2(n,e,t,r,s){let o=n.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");t||(t=o.type);let u=t.create(r,null,s||o.marks);if(o.isLeaf)return n.replaceWith(e,e+o.nodeSize,u);if(!t.validContent(o.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new ht(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new W(K.from(u),0,0),1,!0))}function vr(n,e,t=1,r){let s=n.resolve(e),o=s.depth-t,u=r&&r[r.length-1]||s.parent;if(o<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!u.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let h=s.depth-1,m=t-2;h>o;h--,m--){let y=s.node(h),b=s.index(h);if(y.type.spec.isolating)return!1;let v=y.content.cutByIndex(b,y.childCount),x=r&&r[m+1];x&&(v=v.replaceChild(0,x.type.create(x.attrs)));let E=r&&r[m]||y;if(!y.canReplace(b+1,y.childCount)||!E.type.validContent(v))return!1}let c=s.indexAfter(o),d=r&&r[0];return s.node(o).canReplaceWith(c,c,d?d.type:s.node(o+1).type)}function c2(n,e,t=1,r){let s=n.doc.resolve(e),o=K.empty,u=K.empty;for(let c=s.depth,d=s.depth-t,h=t-1;c>d;c--,h--){o=K.from(s.node(c).copy(o));let m=r&&r[h];u=K.from(m?m.type.create(m.attrs,u):s.node(c).copy(u))}n.step(new dt(e,e,new W(o.append(u),t,t),!0))}function di(n,e){let t=n.resolve(e),r=t.index();return fS(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function f2(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let s=0;s<e.childCount;s++){let o=e.child(s),u=o.type==r?n.type.schema.nodes.text:o.type;if(t=t.matchType(u),!t||!n.type.allowsMarks(o.marks))return!1}return t.validEnd}function fS(n,e){return!!(n&&e&&!n.isLeaf&&f2(n,e))}function Ic(n,e,t=-1){let r=n.resolve(e);for(let s=r.depth;;s--){let o,u,c=r.index(s);if(s==r.depth?(o=r.nodeBefore,u=r.nodeAfter):t>0?(o=r.node(s+1),c++,u=r.node(s).maybeChild(c)):(o=r.node(s).maybeChild(c-1),u=r.node(s+1)),o&&!o.isTextblock&&fS(o,u)&&r.node(s).canReplace(c,c+1))return e;if(s==0)break;e=t<0?r.before(s):r.after(s)}}function d2(n,e,t){let r=null,{linebreakReplacement:s}=n.doc.type.schema,o=n.doc.resolve(e-t),u=o.node().type;if(s&&u.inlineContent){let m=u.whitespace=="pre",y=!!u.contentMatch.matchType(s);m&&!y?r=!1:!m&&y&&(r=!0)}let c=n.steps.length;if(r===!1){let m=n.doc.resolve(e+t);cS(n,m.node(),m.before(),c)}u.inlineContent&&am(n,e+t-1,u,o.node().contentMatchAt(o.index()),r==null);let d=n.mapping.slice(c),h=d.map(e-t);if(n.step(new dt(h,d.map(e+t,-1),W.empty,!0)),r===!0){let m=n.doc.resolve(h);uS(n,m.node(),m.before(),n.steps.length)}return n}function h2(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let o=r.index(s);if(r.node(s).canReplaceWith(o,o,t))return r.before(s+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let o=r.indexAfter(s);if(r.node(s).canReplaceWith(o,o,t))return r.after(s+1);if(o<r.node(s).childCount)return null}return null}function dS(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let s=t.content;for(let o=0;o<t.openStart;o++)s=s.firstChild.content;for(let o=1;o<=(t.openStart==0&&t.size?2:1);o++)for(let u=r.depth;u>=0;u--){let c=u==r.depth?0:r.pos<=(r.start(u+1)+r.end(u+1))/2?-1:1,d=r.index(u)+(c>0?1:0),h=r.node(u),m=!1;if(o==1)m=h.canReplace(d,d,s);else{let y=h.contentMatchAt(d).findWrapping(s.firstChild.type);m=y&&h.canReplaceWith(d,d,y[0])}if(m)return c==0?r.pos:c<0?r.before(u+1):r.after(u+1)}return null}function Vc(n,e,t=e,r=W.empty){if(e==t&&!r.size)return null;let s=n.resolve(e),o=n.resolve(t);return hS(s,o,r)?new dt(e,t,r):new p2(s,o,r).fit()}function hS(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class p2{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=K.empty;for(let s=0;s<=e.depth;s++){let o=e.node(s);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=K.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let o=this.placed,u=r.depth,c=s.depth;for(;u&&c&&o.childCount==1;)o=o.firstChild.content,u--,c--;let d=new W(o,u,c);return e>-1?new ht(r.pos,e,this.$to.pos,this.$to.end(),d,t):d.size||r.pos!=this.$to.pos?new dt(r.pos,s.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let o=t.firstChild;if(t.childCount>1&&(s=0),o.type.spec.isolating&&s<=r){e=r;break}t=o.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let s,o=null;r?(o=Uh(this.unplaced.content,r-1).firstChild,s=o.content):s=this.unplaced.content;let u=s.firstChild;for(let c=this.depth;c>=0;c--){let{type:d,match:h}=this.frontier[c],m,y=null;if(t==1&&(u?h.matchType(u.type)||(y=h.fillBefore(K.from(u),!1)):o&&d.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:c,parent:o,inject:y};if(t==2&&u&&(m=h.findWrapping(u.type)))return{sliceDepth:r,frontierDepth:c,parent:o,wrap:m};if(o&&h.matchType(o.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,s=Uh(e,t);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new W(e,t+1,Math.max(r,s.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,s=Uh(e,t);if(s.childCount<=1&&t>0){let o=e.size-t<=t+s.size;this.unplaced=new W(go(e,t-1,1),t-1,o?t-1:r)}else this.unplaced=new W(go(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:s,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let E=0;E<o.length;E++)this.openFrontierNode(o[E]);let u=this.unplaced,c=r?r.content:u.content,d=u.openStart-e,h=0,m=[],{match:y,type:b}=this.frontier[t];if(s){for(let E=0;E<s.childCount;E++)m.push(s.child(E));y=y.matchFragment(s)}let v=c.size+e-(u.content.size-u.openEnd);for(;h<c.childCount;){let E=c.child(h),w=y.matchType(E.type);if(!w)break;h++,(h>1||d==0||E.content.size)&&(y=w,m.push(pS(E.mark(b.allowedMarks(E.marks)),h==1?d:0,h==c.childCount?v:-1)))}let x=h==c.childCount;x||(v=-1),this.placed=yo(this.placed,t,K.from(m)),this.frontier[t].match=y,x&&v<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let E=0,w=c;E<v;E++){let k=w.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),w=k.content}this.unplaced=x?e==0?W.empty:new W(go(u.content,e-1,1),e-1,v<0?u.openEnd:e-1):new W(go(u.content,e,h),u.openStart,u.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Ph(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:s}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),u=Ph(e,t,s,r,o);if(u){for(let c=t-1;c>=0;c--){let{match:d,type:h}=this.frontier[c],m=Ph(e,c,h,d,!0);if(!m||m.childCount)continue e}return{depth:t,fit:u,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=yo(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let s=e.node(r),o=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,o)}return e}openFrontierNode(e,t=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=yo(this.placed,this.depth,K.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(K.empty,!0);t.childCount&&(this.placed=yo(this.placed,this.frontier.length,t))}}function go(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(go(n.firstChild.content,e-1,t)))}function yo(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(yo(n.lastChild.content,e-1,t)))}function Uh(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function pS(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,pS(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(K.empty,!0)))),n.copy(r)}function Ph(n,e,t,r,s){let o=n.node(e),u=s?n.indexAfter(e):n.index(e);if(u==o.childCount&&!t.compatibleContent(o.type))return null;let c=r.fillBefore(o.content,!0,u);return c&&!m2(t,o.content,u)?c:null}function m2(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function g2(n){return n.spec.defining||n.spec.definingForContent}function y2(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let s=n.doc.resolve(e),o=n.doc.resolve(t);if(hS(s,o,r))return n.step(new dt(e,t,r));let u=gS(s,n.doc.resolve(t));u[u.length-1]==0&&u.pop();let c=-(s.depth+1);u.unshift(c);for(let b=s.depth,v=s.pos-1;b>0;b--,v--){let x=s.node(b).type.spec;if(x.defining||x.definingAsContext||x.isolating)break;u.indexOf(b)>-1?c=b:s.before(b)==v&&u.splice(1,0,-b)}let d=u.indexOf(c),h=[],m=r.openStart;for(let b=r.content,v=0;;v++){let x=b.firstChild;if(h.push(x),v==r.openStart)break;b=x.content}for(let b=m-1;b>=0;b--){let v=h[b],x=g2(v.type);if(x&&!v.sameMarkup(s.node(Math.abs(c)-1)))m=b;else if(x||!v.type.isTextblock)break}for(let b=r.openStart;b>=0;b--){let v=(b+m+1)%(r.openStart+1),x=h[v];if(x)for(let E=0;E<u.length;E++){let w=u[(E+d)%u.length],k=!0;w<0&&(k=!1,w=-w);let A=s.node(w-1),j=s.index(w-1);if(A.canReplaceWith(j,j,x.type,x.marks))return n.replace(s.before(w),k?o.after(w):t,new W(mS(r.content,0,r.openStart,v),v,r.openEnd))}}let y=n.steps.length;for(let b=u.length-1;b>=0&&(n.replace(e,t,r),!(n.steps.length>y));b--){let v=u[b];v<0||(e=s.before(v),t=o.after(v))}}function mS(n,e,t,r,s){if(e<t){let o=n.firstChild;n=n.replaceChild(0,o.copy(mS(o.content,e+1,t,r,o)))}if(e>r){let o=s.contentMatchAt(0),u=o.fillBefore(n).append(n);n=u.append(o.matchFragment(u).fillBefore(K.empty,!0))}return n}function b2(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let s=h2(n.doc,e,r.type);s!=null&&(e=t=s)}n.replaceRange(e,t,new W(K.from(r),0,0))}function x2(n,e,t){let r=n.doc.resolve(e),s=n.doc.resolve(t),o=gS(r,s);for(let u=0;u<o.length;u++){let c=o[u],d=u==o.length-1;if(d&&c==0||r.node(c).type.contentMatch.validEnd)return n.delete(r.start(c),s.end(c));if(c>0&&(d||r.node(c-1).canReplace(r.index(c-1),s.indexAfter(c-1))))return n.delete(r.before(c),s.after(c))}for(let u=1;u<=r.depth&&u<=s.depth;u++)if(e-r.start(u)==r.depth-u&&t>r.end(u)&&s.end(u)-t!=s.depth-u&&r.start(u-1)==s.start(u-1)&&r.node(u-1).canReplace(r.index(u-1),s.index(u-1)))return n.delete(r.before(u),t);n.delete(e,t)}function gS(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let s=r;s>=0;s--){let o=n.start(s);if(o<n.pos-(n.depth-s)||e.end(s)>e.pos+(e.depth-s)||n.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(o==e.start(s)||s==n.depth&&s==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==o-1)&&t.push(s)}return t}class Xs extends Dt{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return it.fail("No node at attribute step's position");let r=Object.create(null);for(let o in t.attrs)r[o]=t.attrs[o];r[this.attr]=this.value;let s=t.type.create(r,null,t.marks);return it.fromReplace(e,this.pos,this.pos+1,new W(K.from(s),0,t.isLeaf?0:1))}getMap(){return on.empty}invert(e){return new Xs(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Xs(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Xs(t.pos,t.attr,t.value)}}Dt.jsonID("attr",Xs);class Lo extends Dt{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let s in e.attrs)t[s]=e.attrs[s];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return it.ok(r)}getMap(){return on.empty}invert(e){return new Lo(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Lo(t.attr,t.value)}}Dt.jsonID("docAttr",Lo);let Zs=class extends Error{};Zs=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};Zs.prototype=Object.create(Error.prototype);Zs.prototype.constructor=Zs;Zs.prototype.name="TransformError";class yS{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new zo}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Zs(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=W.empty){let s=Vc(this.doc,e,t,r);return s&&this.step(s),this}replaceWith(e,t,r){return this.replace(e,t,new W(K.from(r),0,0))}delete(e,t){return this.replace(e,t,W.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return y2(this,e,t,r),this}replaceRangeWith(e,t,r){return b2(this,e,t,r),this}deleteRange(e,t){return x2(this,e,t),this}lift(e,t){return r2(this,e,t),this}join(e,t=1){return d2(this,e,t),this}wrap(e,t){return l2(this,e,t),this}setBlockType(e,t=e,r,s=null){return o2(this,e,t,r,s),this}setNodeMarkup(e,t,r=null,s){return u2(this,e,t,r,s),this}setNodeAttribute(e,t,r){return this.step(new Xs(e,t,r)),this}setDocAttribute(e,t){return this.step(new Lo(e,t)),this}addNodeMark(e,t){return this.step(new ri(e,t)),this}removeNodeMark(e,t){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t instanceof qe)t.isInSet(r.marks)&&this.step(new Xi(e,t));else{let s=r.marks,o,u=[];for(;o=t.isInSet(s);)u.push(new Xi(e,o)),s=o.removeFromSet(s);for(let c=u.length-1;c>=0;c--)this.step(u[c])}return this}split(e,t=1,r){return c2(this,e,t,r),this}addMark(e,t,r){return e2(this,e,t,r),this}removeMark(e,t,r){return t2(this,e,t,r),this}clearIncompatible(e,t,r){return am(this,e,t,r),this}}const qh=Object.create(null);class xe{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new v2(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=W.empty){let r=t.content.lastChild,s=null;for(let c=0;c<t.openEnd;c++)s=r,r=r.lastChild;let o=e.steps.length,u=this.ranges;for(let c=0;c<u.length;c++){let{$from:d,$to:h}=u[c],m=e.mapping.slice(o);e.replaceRange(m.map(d.pos),m.map(h.pos),c?W.empty:t),c==0&&_1(e,o,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,s=this.ranges;for(let o=0;o<s.length;o++){let{$from:u,$to:c}=s[o],d=e.mapping.slice(r),h=d.map(u.pos),m=d.map(c.pos);o?e.deleteRange(h,m):(e.replaceRangeWith(h,m,t),_1(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let s=e.parent.inlineContent?new he(e):Fs(e.node(0),e.parent,e.pos,e.index(),t,r);if(s)return s;for(let o=e.depth-1;o>=0;o--){let u=t<0?Fs(e.node(0),e.node(o),e.before(o+1),e.index(o),t,r):Fs(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,r);if(u)return u}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new an(e.node(0))}static atStart(e){return Fs(e,e,0,0,1)||new an(e)}static atEnd(e){return Fs(e,e,e.content.size,e.childCount,-1)||new an(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=qh[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in qh)throw new RangeError("Duplicate use of selection JSON ID "+e);return qh[e]=t,t.prototype.jsonID=e,t}getBookmark(){return he.between(this.$anchor,this.$head).getBookmark()}}xe.prototype.visible=!0;class v2{constructor(e,t){this.$from=e,this.$to=t}}let L1=!1;function B1(n){!L1&&!n.parent.inlineContent&&(L1=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class he extends xe{constructor(e,t=e){B1(e),B1(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return xe.near(r);let s=e.resolve(t.map(this.anchor));return new he(s.parent.inlineContent?s:r,r)}replace(e,t=W.empty){if(super.replace(e,t),t==W.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof he&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Fc(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new he(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let s=e.resolve(t);return new this(s,r==t?s:e.resolve(r))}static between(e,t,r){let s=e.pos-t.pos;if((!r||s)&&(r=s>=0?1:-1),!t.parent.inlineContent){let o=xe.findFrom(t,r,!0)||xe.findFrom(t,-r,!0);if(o)t=o.$head;else return xe.near(t,r)}return e.parent.inlineContent||(s==0?e=t:(e=(xe.findFrom(e,-r,!0)||xe.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=s<0&&(e=t))),new he(e,t)}}xe.jsonID("text",he);class Fc{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Fc(e.map(this.anchor),e.map(this.head))}resolve(e){return he.between(e.resolve(this.anchor),e.resolve(this.head))}}class le extends xe{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:s}=t.mapResult(this.anchor),o=e.resolve(s);return r?xe.near(o):new le(o)}content(){return new W(K.from(this.node),0,0)}eq(e){return e instanceof le&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new cm(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new le(e.resolve(t.anchor))}static create(e,t){return new le(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}le.prototype.visible=!1;xe.jsonID("node",le);class cm{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new Fc(r,r):new cm(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&le.isSelectable(r)?new le(t):xe.near(t)}}class an extends xe{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=W.empty){if(t==W.empty){e.delete(0,e.doc.content.size);let r=xe.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new an(e)}map(e){return new an(e)}eq(e){return e instanceof an}getBookmark(){return S2}}xe.jsonID("all",an);const S2={map(){return this},resolve(n){return new an(n)}};function Fs(n,e,t,r,s,o=!1){if(e.inlineContent)return he.create(n,t);for(let u=r-(s>0?0:1);s>0?u<e.childCount:u>=0;u+=s){let c=e.child(u);if(c.isAtom){if(!o&&le.isSelectable(c))return le.create(n,t-(s<0?c.nodeSize:0))}else{let d=Fs(n,c,t+s,s<0?c.childCount:0,s,o);if(d)return d}t+=c.nodeSize*s}return null}function _1(n,e,t){let r=n.steps.length-1;if(r<e)return;let s=n.steps[r];if(!(s instanceof dt||s instanceof ht))return;let o=n.mapping.maps[r],u;o.forEach((c,d,h,m)=>{u==null&&(u=m)}),n.setSelection(xe.near(n.doc.resolve(u),t))}const H1=1,U1=2,P1=4;class E2 extends yS{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|H1)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&H1)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=U1,this}ensureMarks(e){return qe.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&U1)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||qe.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let s=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let o=this.storedMarks;if(!o){let u=this.doc.resolve(t);o=r==t?u.marks():u.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,s.text(e,o)),this.selection.empty||this.setSelection(xe.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=P1,this}get scrolledIntoView(){return(this.updated&P1)>0}}function q1(n,e){return!e||!n?n:n.bind(e)}class bo{constructor(e,t,r){this.name=e,this.init=q1(t.init,r),this.apply=q1(t.apply,r)}}const T2=[new bo("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new bo("selection",{init(n,e){return n.selection||xe.atStart(e.doc)},apply(n){return n.selection}}),new bo("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new bo("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class Ih{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=T2.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new bo(r.key,r.spec.state,r))})}}class Ks{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),s=null;for(;;){let o=!1;for(let u=0;u<this.config.plugins.length;u++){let c=this.config.plugins[u];if(c.spec.appendTransaction){let d=s?s[u].n:0,h=s?s[u].state:this,m=d<t.length&&c.spec.appendTransaction.call(c,d?t.slice(d):t,h,r);if(m&&r.filterTransaction(m,u)){if(m.setMeta("appendedTransaction",e),!s){s=[];for(let y=0;y<this.config.plugins.length;y++)s.push(y<u?{state:r,n:t.length}:{state:this,n:0})}t.push(m),r=r.applyInner(m),o=!0}s&&(s[u]={state:r,n:t.length})}}if(!o)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new Ks(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let o=r[s];t[o.name]=o.apply(e,this[o.name],this,t)}return t}get tr(){return new E2(this)}static create(e){let t=new Ih(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Ks(t);for(let s=0;s<t.fields.length;s++)r[t.fields[s].name]=t.fields[s].init(e,r);return r}reconfigure(e){let t=new Ih(this.schema,e.plugins),r=t.fields,s=new Ks(t);for(let o=0;o<r.length;o++){let u=r[o].name;s[u]=this.hasOwnProperty(u)?this[u]:r[o].init(e,s)}return s}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],o=s.spec.state;o&&o.toJSON&&(t[r]=o.toJSON.call(s,this[s.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new Ih(e.schema,e.plugins),o=new Ks(s);return s.fields.forEach(u=>{if(u.name=="doc")o.doc=si.fromJSON(e.schema,t.doc);else if(u.name=="selection")o.selection=xe.fromJSON(o.doc,t.selection);else if(u.name=="storedMarks")t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let c in r){let d=r[c],h=d.spec.state;if(d.key==u.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(t,c)){o[u.name]=h.fromJSON.call(d,e,t[c],o);return}}o[u.name]=u.init(e,o)}}),o}}function bS(n,e,t){for(let r in n){let s=n[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=bS(s,e,{})),t[r]=s}return t}class wt{constructor(e){this.spec=e,this.props={},e.props&&bS(e.props,this,this.props),this.key=e.key?e.key.key:xS("plugin")}getState(e){return e[this.key]}}const Vh=Object.create(null);function xS(n){return n in Vh?n+"$"+ ++Vh[n]:(Vh[n]=0,n+"$")}class un{constructor(e="key"){this.key=xS(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Et=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},Ws=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let Mp=null;const yr=function(n,e,t){let r=Mp||(Mp=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},w2=function(){Mp=null},Qi=function(n,e,t,r){return t&&(I1(n,e,t,r,-1)||I1(n,e,t,r,1))},C2=/^(img|br|input|textarea|hr)$/i;function I1(n,e,t,r,s){for(;;){if(n==t&&e==r)return!0;if(e==(s<0?0:En(n))){let o=n.parentNode;if(!o||o.nodeType!=1||Yo(n)||C2.test(n.nodeName)||n.contentEditable=="false")return!1;e=Et(n)+(s<0?0:1),n=o}else if(n.nodeType==1){if(n=n.childNodes[e+(s<0?-1:0)],n.contentEditable=="false")return!1;e=s<0?En(n):0}else return!1}}function En(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function k2(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=En(n)}else if(n.parentNode&&!Yo(n))e=Et(n),n=n.parentNode;else return null}}function N2(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!Yo(n))e=Et(n)+1,n=n.parentNode;else return null}}function A2(n,e,t){for(let r=e==0,s=e==En(n);r||s;){if(n==t)return!0;let o=Et(n);if(n=n.parentNode,!n)return!1;r=r&&o==0,s=s&&o==En(n)}}function Yo(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const $c=function(n){return n.focusNode&&Qi(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function zi(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function O2(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function M2(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(En(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(En(r.startContainer),r.startOffset)}}}const Gn=typeof navigator<"u"?navigator:null,V1=typeof document<"u"?document:null,hi=Gn&&Gn.userAgent||"",Rp=/Edge\/(\d+)/.exec(hi),vS=/MSIE \d/.exec(hi),Dp=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(hi),Yt=!!(vS||Dp||Rp),oi=vS?document.documentMode:Dp?+Dp[1]:Rp?+Rp[1]:0,Rn=!Yt&&/gecko\/(\d+)/i.test(hi);Rn&&+(/Firefox\/(\d+)/.exec(hi)||[0,0])[1];const jp=!Yt&&/Chrome\/(\d+)/.exec(hi),Rt=!!jp,SS=jp?+jp[1]:0,zt=!Yt&&!!Gn&&/Apple Computer/.test(Gn.vendor),el=zt&&(/Mobile\/\w+/.test(hi)||!!Gn&&Gn.maxTouchPoints>2),Sn=el||(Gn?/Mac/.test(Gn.platform):!1),R2=Gn?/Win/.test(Gn.platform):!1,br=/Android \d/.test(hi),Jo=!!V1&&"webkitFontSmoothing"in V1.documentElement.style,D2=Jo?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function j2(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function hr(n,e){return typeof n=="number"?n:n[e]}function z2(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function F1(n,e,t){let r=n.someProp("scrollThreshold")||0,s=n.someProp("scrollMargin")||5,o=n.dom.ownerDocument;for(let u=t||n.dom;u;){if(u.nodeType!=1){u=Ws(u);continue}let c=u,d=c==o.body,h=d?j2(o):z2(c),m=0,y=0;if(e.top<h.top+hr(r,"top")?y=-(h.top-e.top+hr(s,"top")):e.bottom>h.bottom-hr(r,"bottom")&&(y=e.bottom-e.top>h.bottom-h.top?e.top+hr(s,"top")-h.top:e.bottom-h.bottom+hr(s,"bottom")),e.left<h.left+hr(r,"left")?m=-(h.left-e.left+hr(s,"left")):e.right>h.right-hr(r,"right")&&(m=e.right-h.right+hr(s,"right")),m||y)if(d)o.defaultView.scrollBy(m,y);else{let v=c.scrollLeft,x=c.scrollTop;y&&(c.scrollTop+=y),m&&(c.scrollLeft+=m);let E=c.scrollLeft-v,w=c.scrollTop-x;e={left:e.left-E,top:e.top-w,right:e.right-E,bottom:e.bottom-w}}let b=d?"fixed":getComputedStyle(u).position;if(/^(fixed|sticky)$/.test(b))break;u=b=="absolute"?u.offsetParent:Ws(u)}}function L2(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,s;for(let o=(e.left+e.right)/2,u=t+1;u<Math.min(innerHeight,e.bottom);u+=5){let c=n.root.elementFromPoint(o,u);if(!c||c==n.dom||!n.dom.contains(c))continue;let d=c.getBoundingClientRect();if(d.top>=t-20){r=c,s=d.top;break}}return{refDOM:r,refTop:s,stack:ES(n.dom)}}function ES(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=Ws(r));return e}function B2({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;TS(t,r==0?0:r-e)}function TS(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:s,left:o}=n[t];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let Is=null;function _2(n){if(n.setActive)return n.setActive();if(Is)return n.focus(Is);let e=ES(n);n.focus(Is==null?{get preventScroll(){return Is={preventScroll:!0},!0}}:void 0),Is||(Is=!1,TS(e,0))}function wS(n,e){let t,r=2e8,s,o=0,u=e.top,c=e.top,d,h;for(let m=n.firstChild,y=0;m;m=m.nextSibling,y++){let b;if(m.nodeType==1)b=m.getClientRects();else if(m.nodeType==3)b=yr(m).getClientRects();else continue;for(let v=0;v<b.length;v++){let x=b[v];if(x.top<=u&&x.bottom>=c){u=Math.max(x.bottom,u),c=Math.min(x.top,c);let E=x.left>e.left?x.left-e.left:x.right<e.left?e.left-x.right:0;if(E<r){t=m,r=E,s=E&&t.nodeType==3?{left:x.right<e.left?x.right:x.left,top:e.top}:e,m.nodeType==1&&E&&(o=y+(e.left>=(x.left+x.right)/2?1:0));continue}}else x.top>e.top&&!d&&x.left<=e.left&&x.right>=e.left&&(d=m,h={left:Math.max(x.left,Math.min(x.right,e.left)),top:x.top});!t&&(e.left>=x.right&&e.top>=x.top||e.left>=x.left&&e.top>=x.bottom)&&(o=y+1)}}return!t&&d&&(t=d,s=h,r=0),t&&t.nodeType==3?H2(t,s):!t||r&&t.nodeType==1?{node:n,offset:o}:wS(t,s)}function H2(n,e){let t=n.nodeValue.length,r=document.createRange();for(let s=0;s<t;s++){r.setEnd(n,s+1),r.setStart(n,s);let o=Xr(r,1);if(o.top!=o.bottom&&fm(e,o))return{node:n,offset:s+(e.left>=(o.left+o.right)/2?1:0)}}return{node:n,offset:0}}function fm(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function U2(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function P2(n,e,t){let{node:r,offset:s}=wS(e,t),o=-1;if(r.nodeType==1&&!r.firstChild){let u=r.getBoundingClientRect();o=u.left!=u.right&&t.left>(u.left+u.right)/2?1:-1}return n.docView.posFromDOM(r,s,o)}function q2(n,e,t,r){let s=-1;for(let o=e,u=!1;o!=n.dom;){let c=n.docView.nearestDesc(o,!0),d;if(!c)return null;if(c.dom.nodeType==1&&(c.node.isBlock&&c.parent||!c.contentDOM)&&((d=c.dom.getBoundingClientRect()).width||d.height)&&(c.node.isBlock&&c.parent&&(!u&&d.left>r.left||d.top>r.top?s=c.posBefore:(!u&&d.right<r.left||d.bottom<r.top)&&(s=c.posAfter),u=!0),!c.contentDOM&&s<0&&!c.node.isText))return(c.node.isBlock?r.top<(d.top+d.bottom)/2:r.left<(d.left+d.right)/2)?c.posBefore:c.posAfter;o=c.dom.parentNode}return s>-1?s:n.docView.posFromDOM(e,t,-1)}function CS(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),o=s;;){let u=n.childNodes[o];if(u.nodeType==1){let c=u.getClientRects();for(let d=0;d<c.length;d++){let h=c[d];if(fm(e,h))return CS(u,e,h)}}if((o=(o+1)%r)==s)break}return n}function I2(n,e){let t=n.dom.ownerDocument,r,s=0,o=M2(t,e.left,e.top);o&&({node:r,offset:s}=o);let u=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),c;if(!u||!n.dom.contains(u.nodeType!=1?u.parentNode:u)){let h=n.dom.getBoundingClientRect();if(!fm(e,h)||(u=CS(n.dom,e,h),!u))return null}if(zt)for(let h=u;r&&h;h=Ws(h))h.draggable&&(r=void 0);if(u=U2(u,e),r){if(Rn&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let m=r.childNodes[s],y;m.nodeName=="IMG"&&(y=m.getBoundingClientRect()).right<=e.left&&y.bottom>e.top&&s++}let h;Jo&&s&&r.nodeType==1&&(h=r.childNodes[s-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=e.top&&s--,r==n.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?c=n.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(c=q2(n,r,s,e))}c==null&&(c=P2(n,u,e));let d=n.docView.nearestDesc(u,!0);return{pos:c,inside:d?d.posAtStart-d.border:-1}}function $1(n){return n.top<n.bottom||n.left<n.right}function Xr(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if($1(r))return r}return Array.prototype.find.call(t,$1)||n.getBoundingClientRect()}const V2=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function kS(n,e,t){let{node:r,offset:s,atom:o}=n.docView.domFromPos(e,t<0?-1:1),u=Jo||Rn;if(r.nodeType==3)if(u&&(V2.test(r.nodeValue)||(t<0?!s:s==r.nodeValue.length))){let d=Xr(yr(r,s,s),t);if(Rn&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let h=Xr(yr(r,s-1,s-1),-1);if(h.top==d.top){let m=Xr(yr(r,s,s+1),-1);if(m.top!=d.top)return po(m,m.left<h.left)}}return d}else{let d=s,h=s,m=t<0?1:-1;return t<0&&!s?(h++,m=-1):t>=0&&s==r.nodeValue.length?(d--,m=1):t<0?d--:h++,po(Xr(yr(r,d,h),m),m<0)}if(!n.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&s&&(t<0||s==En(r))){let d=r.childNodes[s-1];if(d.nodeType==1)return Fh(d.getBoundingClientRect(),!1)}if(o==null&&s<En(r)){let d=r.childNodes[s];if(d.nodeType==1)return Fh(d.getBoundingClientRect(),!0)}return Fh(r.getBoundingClientRect(),t>=0)}if(o==null&&s&&(t<0||s==En(r))){let d=r.childNodes[s-1],h=d.nodeType==3?yr(d,En(d)-(u?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(h)return po(Xr(h,1),!1)}if(o==null&&s<En(r)){let d=r.childNodes[s];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let h=d?d.nodeType==3?yr(d,0,u?0:1):d.nodeType==1?d:null:null;if(h)return po(Xr(h,-1),!0)}return po(Xr(r.nodeType==3?yr(r):r,-t),t>=0)}function po(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function Fh(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function NS(n,e,t){let r=n.state,s=n.root.activeElement;r!=e&&n.updateState(e),s!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),s!=n.dom&&s&&s.focus()}}function F2(n,e,t){let r=e.selection,s=t=="up"?r.$from:r.$to;return NS(n,e,()=>{let{node:o}=n.docView.domFromPos(s.pos,t=="up"?-1:1);for(;;){let c=n.docView.nearestDesc(o,!0);if(!c)break;if(c.node.isBlock){o=c.contentDOM||c.dom;break}o=c.dom.parentNode}let u=kS(n,s.pos,1);for(let c=o.firstChild;c;c=c.nextSibling){let d;if(c.nodeType==1)d=c.getClientRects();else if(c.nodeType==3)d=yr(c,0,c.nodeValue.length).getClientRects();else continue;for(let h=0;h<d.length;h++){let m=d[h];if(m.bottom>m.top+1&&(t=="up"?u.top-m.top>(m.bottom-u.top)*2:m.bottom-u.bottom>(u.bottom-m.top)*2))return!1}}return!0})}const $2=/[\u0590-\u08ac]/;function G2(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,o=!s,u=s==r.parent.content.size,c=n.domSelection();return c?!$2.test(r.parent.textContent)||!c.modify?t=="left"||t=="backward"?o:u:NS(n,e,()=>{let{focusNode:d,focusOffset:h,anchorNode:m,anchorOffset:y}=n.domSelectionRange(),b=c.caretBidiLevel;c.modify("move",t,"character");let v=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:x,focusOffset:E}=n.domSelectionRange(),w=x&&!v.contains(x.nodeType==1?x:x.parentNode)||d==x&&h==E;try{c.collapse(m,y),d&&(d!=m||h!=y)&&c.extend&&c.extend(d,h)}catch{}return b!=null&&(c.caretBidiLevel=b),w}):r.pos==r.start()||r.pos==r.end()}let G1=null,K1=null,Y1=!1;function K2(n,e,t){return G1==e&&K1==t?Y1:(G1=e,K1=t,Y1=t=="up"||t=="down"?F2(n,e,t):G2(n,e,t))}const wn=0,J1=1,_i=2,Kn=3;class Xo{constructor(e,t,r,s){this.parent=e,this.children=t,this.dom=r,this.contentDOM=s,this.dirty=wn,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let s=this.children[t];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,u;if(e==this.contentDOM)o=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((u=o.pmViewDesc)&&u.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(u)+u.size:this.posAtStart}else{let o,u;if(e==this.contentDOM)o=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((u=o.pmViewDesc)&&u.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(u):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=t>Et(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let o=e;;o=o.parentNode){if(o==this.dom){s=!1;break}if(o.previousSibling)break}if(s==null&&t==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){s=!0;break}if(o.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,s=e;s;s=s.parentNode){let o=this.getDesc(s),u;if(o&&(!t||o.node))if(r&&(u=o.nodeDOM)&&!(u.nodeType==1?u.contains(e.nodeType==1?e:e.parentNode):u==e))r=!1;else return o}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let s=e;s;s=s.parentNode){let o=this.getDesc(s);if(o)return o.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let s=this.children[t],o=r+s.size;if(r==e&&o!=r){for(;!s.border&&s.children.length;)for(let u=0;u<s.children.length;u++){let c=s.children[u];if(c.size){s=c;break}}return s}if(e<o)return s.descAt(e-r-s.border);r=o}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let o=0;r<this.children.length;r++){let u=this.children[r],c=o+u.size;if(c>e||u instanceof OS){s=e-o;break}o=c}if(s)return this.children[r].domFromPos(s-this.children[r].border,t);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof AS&&o.side>=0;r--);if(t<=0){let o,u=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,u=!1);return o&&t&&u&&!o.border&&!o.domAtom?o.domFromPos(o.size,t):{node:this.contentDOM,offset:o?Et(o.dom)+1:0}}else{let o,u=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,u=!1);return o&&u&&!o.border&&!o.domAtom?o.domFromPos(0,t):{node:this.contentDOM,offset:o?Et(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,o=-1;for(let u=r,c=0;;c++){let d=this.children[c],h=u+d.size;if(s==-1&&e<=h){let m=u+d.border;if(e>=m&&t<=h-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,t,m);e=u;for(let y=c;y>0;y--){let b=this.children[y-1];if(b.size&&b.dom.parentNode==this.contentDOM&&!b.emptyChildAt(1)){s=Et(b.dom)+1;break}e-=b.size}s==-1&&(s=0)}if(s>-1&&(h>t||c==this.children.length-1)){t=h;for(let m=c+1;m<this.children.length;m++){let y=this.children[m];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(-1)){o=Et(y.dom);break}t+=y.size}o==-1&&(o=this.contentDOM.childNodes.length);break}u=h}return{node:this.contentDOM,from:e,to:t,fromOffset:s,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,s=!1){let o=Math.min(e,t),u=Math.max(e,t);for(let v=0,x=0;v<this.children.length;v++){let E=this.children[v],w=x+E.size;if(o>x&&u<w)return E.setSelection(e-x-E.border,t-x-E.border,r,s);x=w}let c=this.domFromPos(e,e?-1:1),d=t==e?c:this.domFromPos(t,t?-1:1),h=r.root.getSelection(),m=r.domSelectionRange(),y=!1;if((Rn||zt)&&e==t){let{node:v,offset:x}=c;if(v.nodeType==3){if(y=!!(x&&v.nodeValue[x-1]==`
`),y&&x==v.nodeValue.length)for(let E=v,w;E;E=E.parentNode){if(w=E.nextSibling){w.nodeName=="BR"&&(c=d={node:w.parentNode,offset:Et(w)+1});break}let k=E.pmViewDesc;if(k&&k.node&&k.node.isBlock)break}}else{let E=v.childNodes[x-1];y=E&&(E.nodeName=="BR"||E.contentEditable=="false")}}if(Rn&&m.focusNode&&m.focusNode!=d.node&&m.focusNode.nodeType==1){let v=m.focusNode.childNodes[m.focusOffset];v&&v.contentEditable=="false"&&(s=!0)}if(!(s||y&&zt)&&Qi(c.node,c.offset,m.anchorNode,m.anchorOffset)&&Qi(d.node,d.offset,m.focusNode,m.focusOffset))return;let b=!1;if((h.extend||e==t)&&!y){h.collapse(c.node,c.offset);try{e!=t&&h.extend(d.node,d.offset),b=!0}catch{}}if(!b){if(e>t){let x=c;c=d,d=x}let v=document.createRange();v.setEnd(d.node,d.offset),v.setStart(c.node,c.offset),h.removeAllRanges(),h.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,s=0;s<this.children.length;s++){let o=this.children[s],u=r+o.size;if(r==u?e<=u&&t>=r:e<u&&t>r){let c=r+o.border,d=u-o.border;if(e>=c&&t<=d){this.dirty=e==r||t==u?_i:J1,e==c&&t==d&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Kn:o.markDirty(e-c,t-c);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?_i:Kn}r=u}this.dirty=_i}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?_i:J1;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class AS extends Xo{constructor(e,t,r,s){let o,u=t.type.toDOM;if(typeof u=="function"&&(u=u(r,()=>{if(!o)return s;if(o.parent)return o.parent.posBeforeChild(o)})),!t.type.spec.raw){if(u.nodeType!=1){let c=document.createElement("span");c.appendChild(u),u=c}u.contentEditable="false",u.classList.add("ProseMirror-widget")}super(e,[],u,null),this.widget=t,this.widget=t,o=this}matchesWidget(e){return this.dirty==wn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Y2 extends Xo{constructor(e,t,r,s){super(e,[],t,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Zi extends Xo{constructor(e,t,r,s,o){super(e,[],r,s),this.mark=t,this.spec=o}static create(e,t,r,s){let o=s.nodeViews[t.type.name],u=o&&o(t,s,r);return(!u||!u.dom)&&(u=es.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new Zi(e,t,u.dom,u.contentDOM||u.dom,u)}parseRule(){return this.dirty&Kn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Kn&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=wn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=wn}}slice(e,t,r){let s=Zi.create(this.parent,this.mark,!0,r),o=this.children,u=this.size;t<u&&(o=Lp(o,t,u,r)),e>0&&(o=Lp(o,0,e,r));for(let c=0;c<o.length;c++)o[c].parent=s;return s.children=o,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ai extends Xo{constructor(e,t,r,s,o,u,c,d,h){super(e,[],o,u),this.node=t,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=c}static create(e,t,r,s,o,u){let c=o.nodeViews[t.type.name],d,h=c&&c(t,o,()=>{if(!d)return u;if(d.parent)return d.parent.posBeforeChild(d)},r,s),m=h&&h.dom,y=h&&h.contentDOM;if(t.isText){if(!m)m=document.createTextNode(t.text);else if(m.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else m||({dom:m,contentDOM:y}=es.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!y&&!t.isText&&m.nodeName!="BR"&&(m.hasAttribute("contenteditable")||(m.contentEditable="false"),t.type.spec.draggable&&(m.draggable=!0));let b=m;return m=DS(m,r,t),h?d=new J2(e,t,r,s,m,y||null,b,h,o,u+1):t.isText?new Gc(e,t,r,s,m,b,o):new ai(e,t,r,s,m,y||null,b,o,u+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>K.empty)}return e}matchesNode(e,t,r){return this.dirty==wn&&e.eq(this.node)&&Ku(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,s=t,o=e.composing?this.localCompositionInfo(e,t):null,u=o&&o.pos>-1?o:null,c=o&&o.pos<0,d=new Q2(this,u&&u.node,e);eM(this.node,this.innerDeco,(h,m,y)=>{h.spec.marks?d.syncToMarks(h.spec.marks,r,e):h.type.side>=0&&!y&&d.syncToMarks(m==this.node.childCount?qe.none:this.node.child(m).marks,r,e),d.placeWidget(h,e,s)},(h,m,y,b)=>{d.syncToMarks(h.marks,r,e);let v;d.findNodeMatch(h,m,y,b)||c&&e.state.selection.from>s&&e.state.selection.to<s+h.nodeSize&&(v=d.findIndexWithChild(o.node))>-1&&d.updateNodeAt(h,m,y,v,e)||d.updateNextNode(h,m,y,e,b,s)||d.addNode(h,m,y,e,s),s+=h.nodeSize}),d.syncToMarks([],r,e),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==_i)&&(u&&this.protectLocalComposition(e,u),MS(this.contentDOM,this.children,e),el&&tM(this.dom))}localCompositionInfo(e,t){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof he)||r<t||s>t+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let u=o.nodeValue,c=nM(this.node.content,u,r-t,s-t);return c<0?null:{node:o,pos:c,text:u}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:s}){if(this.getDesc(t))return;let o=t;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let u=new Y2(this,o,t,s);e.input.compositionNodes.push(u),this.children=Lp(this.children,r,r+s.length,e,u)}update(e,t,r,s){return this.dirty==Kn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,s),!0)}updateInner(e,t,r,s){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=wn}updateOuterDeco(e){if(Ku(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=RS(this.dom,this.nodeDOM,zp(this.outerDeco,this.node,t),zp(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function X1(n,e,t,r,s){DS(r,e,n);let o=new ai(void 0,n,e,t,r,r,r,s,0);return o.contentDOM&&o.updateChildren(s,0),o}class Gc extends ai{constructor(e,t,r,s,o,u,c){super(e,t,r,s,o,null,u,c,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,s){return this.dirty==Kn||this.dirty!=wn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=wn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=wn,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let s=this.node.cut(e,t),o=document.createTextNode(s.text);return new Gc(this.parent,s,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=Kn)}get domAtom(){return!1}isText(e){return this.node.text==e}}class OS extends Xo{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==wn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class J2 extends ai{constructor(e,t,r,s,o,u,c,d,h,m){super(e,t,r,s,o,u,c,h,m),this.spec=d}update(e,t,r,s){if(this.dirty==Kn)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,t,r);return o&&this.updateInner(e,t,r,s),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,s){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function MS(n,e,t){let r=n.firstChild,s=!1;for(let o=0;o<e.length;o++){let u=e[o],c=u.dom;if(c.parentNode==n){for(;c!=r;)r=Q1(r),s=!0;r=r.nextSibling}else s=!0,n.insertBefore(c,r);if(u instanceof Zi){let d=r?r.previousSibling:n.lastChild;MS(u.contentDOM,u.children,t),r=d?d.nextSibling:n.firstChild}}for(;r;)r=Q1(r),s=!0;s&&t.trackWrites==n&&(t.trackWrites=null)}const So=function(n){n&&(this.nodeName=n)};So.prototype=Object.create(null);const Hi=[new So];function zp(n,e,t){if(n.length==0)return Hi;let r=t?Hi[0]:new So,s=[r];for(let o=0;o<n.length;o++){let u=n[o].type.attrs;if(u){u.nodeName&&s.push(r=new So(u.nodeName));for(let c in u){let d=u[c];d!=null&&(t&&s.length==1&&s.push(r=new So(e.isInline?"span":"div")),c=="class"?r.class=(r.class?r.class+" ":"")+d:c=="style"?r.style=(r.style?r.style+";":"")+d:c!="nodeName"&&(r[c]=d))}}}return s}function RS(n,e,t,r){if(t==Hi&&r==Hi)return e;let s=e;for(let o=0;o<r.length;o++){let u=r[o],c=t[o];if(o){let d;c&&c.nodeName==u.nodeName&&s!=n&&(d=s.parentNode)&&d.nodeName.toLowerCase()==u.nodeName||(d=document.createElement(u.nodeName),d.pmIsDeco=!0,d.appendChild(s),c=Hi[0]),s=d}X2(s,c||Hi[0],u)}return s}function X2(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=t.class?t.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)s.indexOf(r[o])==-1&&n.classList.remove(r[o]);for(let o=0;o<s.length;o++)r.indexOf(s[o])==-1&&n.classList.add(s[o]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)n.style.removeProperty(s[1])}t.style&&(n.style.cssText+=t.style)}}function DS(n,e,t){return RS(n,n,Hi,zp(e,t,n.nodeType!=1))}function Ku(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function Q1(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class Q2{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Z2(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let s=0,o=this.stack.length>>1,u=Math.min(o,e.length);for(;s<u&&(s==o-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<o;)this.destroyRest(),this.top.dirty=wn,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let c=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let h=this.top.children[d];if(h.matchesMark(e[o])&&!this.isLocked(h.dom)){c=d;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let d=Zi.create(this.top,e[o],t,r);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,o++}}findNodeMatch(e,t,r,s){let o=-1,u;if(s>=this.preMatch.index&&(u=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&u.matchesNode(e,t,r))o=this.top.children.indexOf(u,this.index);else for(let c=this.index,d=Math.min(this.top.children.length,c+5);c<d;c++){let h=this.top.children[c];if(h.matchesNode(e,t,r)&&!this.preMatch.matched.has(h)){o=c;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,t,r,s,o){let u=this.top.children[s];return u.dirty==Kn&&u.dom==u.contentDOM&&(u.dirty=_i),u.update(e,t,r,o)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=t}}updateNextNode(e,t,r,s,o,u){for(let c=this.index;c<this.top.children.length;c++){let d=this.top.children[c];if(d instanceof ai){let h=this.preMatch.matched.get(d);if(h!=null&&h!=o)return!1;let m=d.dom,y,b=this.isLocked(m)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=Kn&&Ku(t,d.outerDeco));if(!b&&d.update(e,t,r,s))return this.destroyBetween(this.index,c),d.dom!=m&&(this.changed=!0),this.index++,!0;if(!b&&(y=this.recreateWrapper(d,e,t,r,s,u)))return this.destroyBetween(this.index,c),this.top.children[this.index]=y,y.contentDOM&&(y.dirty=_i,y.updateChildren(s,u+1),y.dirty=wn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,s,o,u){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!Ku(r,e.outerDeco)||!s.eq(e.innerDeco))return null;let c=ai.create(this.top,t,r,s,o,u);if(c.contentDOM){c.children=e.children,e.children=[];for(let d of c.children)d.parent=c}return e.destroy(),c}addNode(e,t,r,s,o){let u=ai.create(this.top,e,t,r,s,o);u.contentDOM&&u.updateChildren(s,o+1),this.top.children.splice(this.index++,0,u),this.changed=!0}placeWidget(e,t,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let o=new AS(this.top,e,t,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Zi;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Gc)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((zt||Rt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new OS(this.top,[],r,null);t!=this.top?t.children.push(s):t.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Z2(n,e){let t=e,r=t.children.length,s=n.childCount,o=new Map,u=[];e:for(;s>0;){let c;for(;;)if(r){let h=t.children[r-1];if(h instanceof Zi)t=h,r=h.children.length;else{c=h,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let d=c.node;if(d){if(d!=n.child(s-1))break;--s,o.set(c,s),u.push(c)}}return{index:s,matched:o,matches:u.reverse()}}function W2(n,e){return n.type.side-e.type.side}function eM(n,e,t,r){let s=e.locals(n),o=0;if(s.length==0){for(let h=0;h<n.childCount;h++){let m=n.child(h);r(m,s,e.forChild(o,m),h),o+=m.nodeSize}return}let u=0,c=[],d=null;for(let h=0;;){let m,y;for(;u<s.length&&s[u].to==o;){let w=s[u++];w.widget&&(m?(y||(y=[m])).push(w):m=w)}if(m)if(y){y.sort(W2);for(let w=0;w<y.length;w++)t(y[w],h,!!d)}else t(m,h,!!d);let b,v;if(d)v=-1,b=d,d=null;else if(h<n.childCount)v=h,b=n.child(h++);else break;for(let w=0;w<c.length;w++)c[w].to<=o&&c.splice(w--,1);for(;u<s.length&&s[u].from<=o&&s[u].to>o;)c.push(s[u++]);let x=o+b.nodeSize;if(b.isText){let w=x;u<s.length&&s[u].from<w&&(w=s[u].from);for(let k=0;k<c.length;k++)c[k].to<w&&(w=c[k].to);w<x&&(d=b.cut(w-o),b=b.cut(0,w-o),x=w,v=-1)}else for(;u<s.length&&s[u].to<x;)u++;let E=b.isInline&&!b.isLeaf?c.filter(w=>!w.inline):c.slice();r(b,E,e.forChild(o,b),v),o=x}}function tM(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function nM(n,e,t,r){for(let s=0,o=0;s<n.childCount&&o<=r;){let u=n.child(s++),c=o;if(o+=u.nodeSize,!u.isText)continue;let d=u.text;for(;s<n.childCount;){let h=n.child(s++);if(o+=h.nodeSize,!h.isText)break;d+=h.text}if(o>=t){if(o>=r&&d.slice(r-e.length-c,r-c)==e)return r-e.length;let h=c<r?d.lastIndexOf(e,r-c-1):-1;if(h>=0&&h+e.length+c>=t)return c+h;if(t==r&&d.length>=r+e.length-c&&d.slice(r-c,r-c+e.length)==e)return r}}return-1}function Lp(n,e,t,r,s){let o=[];for(let u=0,c=0;u<n.length;u++){let d=n[u],h=c,m=c+=d.size;h>=t||m<=e?o.push(d):(h<e&&o.push(d.slice(0,e-h,r)),s&&(o.push(s),s=void 0),m>t&&o.push(d.slice(t-h,d.size,r)))}return o}function dm(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let s=n.docView.nearestDesc(t.focusNode),o=s&&s.size==0,u=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(u<0)return null;let c=r.resolve(u),d,h;if($c(t)){for(d=u;s&&!s.node;)s=s.parent;let y=s.node;if(s&&y.isAtom&&le.isSelectable(y)&&s.parent&&!(y.isInline&&A2(t.focusNode,t.focusOffset,s.dom))){let b=s.posBefore;h=new le(u==b?c:r.resolve(b))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let y=u,b=u;for(let v=0;v<t.rangeCount;v++){let x=t.getRangeAt(v);y=Math.min(y,n.docView.posFromDOM(x.startContainer,x.startOffset,1)),b=Math.max(b,n.docView.posFromDOM(x.endContainer,x.endOffset,-1))}if(y<0)return null;[d,u]=b==n.state.selection.anchor?[b,y]:[y,b],c=r.resolve(u)}else d=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(d<0)return null}let m=r.resolve(d);if(!h){let y=e=="pointer"||n.state.selection.head<c.pos&&!o?1:-1;h=hm(n,m,c,y)}return h}function jS(n){return n.editable?n.hasFocus():LS(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function Sr(n,e=!1){let t=n.state.selection;if(zS(n,t),!!jS(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&Rt){let r=n.domSelectionRange(),s=n.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&Qi(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)iM(n);else{let{anchor:r,head:s}=t,o,u;Z1&&!(t instanceof he)&&(t.$from.parent.inlineContent||(o=W1(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(u=W1(n,t.to))),n.docView.setSelection(r,s,n,e),Z1&&(o&&ex(o),u&&ex(u)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&rM(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const Z1=zt||Rt&&SS<63;function W1(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),s=r<t.childNodes.length?t.childNodes[r]:null,o=r?t.childNodes[r-1]:null;if(zt&&s&&s.contentEditable=="false")return $h(s);if((!s||s.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(s)return $h(s);if(o)return $h(o)}}function $h(n){return n.contentEditable="true",zt&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function ex(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function rM(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,s=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=s)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!jS(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function iM(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let r=n.cursorWrapper.dom,s=r.nodeName=="IMG";s?t.setStart(r.parentNode,Et(r)+1):t.setStart(r,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!s&&!n.state.selection.visible&&Yt&&oi<=11&&(r.disabled=!0,r.disabled=!1)}function zS(n,e){if(e instanceof le){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(tx(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else tx(n)}function tx(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function hm(n,e,t,r){return n.someProp("createSelectionBetween",s=>s(n,e,t))||he.between(e,t,r)}function nx(n){return n.editable&&!n.hasFocus()?!1:LS(n)}function LS(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function sM(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return Qi(e.node,e.offset,t.anchorNode,t.anchorOffset)}function Bp(n,e){let{$anchor:t,$head:r}=n.selection,s=e>0?t.max(r):t.min(r),o=s.parent.inlineContent?s.depth?n.doc.resolve(e>0?s.after():s.before()):null:s;return o&&xe.findFrom(o,e)}function Qr(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function rx(n,e,t){let r=n.state.selection;if(r instanceof he)if(t.indexOf("s")>-1){let{$head:s}=r,o=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let u=n.state.doc.resolve(s.pos+o.nodeSize*(e<0?-1:1));return Qr(n,new he(r.$anchor,u))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let s=Bp(n.state,e);return s&&s instanceof le?Qr(n,s):!1}else if(!(Sn&&t.indexOf("m")>-1)){let s=r.$head,o=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,u;if(!o||o.isText)return!1;let c=e<0?s.pos-o.nodeSize:s.pos;return o.isAtom||(u=n.docView.descAt(c))&&!u.contentDOM?le.isSelectable(o)?Qr(n,new le(e<0?n.state.doc.resolve(s.pos-o.nodeSize):s)):Jo?Qr(n,new he(n.state.doc.resolve(e<0?c:c+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof le&&r.node.isInline)return Qr(n,new he(e>0?r.$to:r.$from));{let s=Bp(n.state,e);return s?Qr(n,s):!1}}}function Yu(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Eo(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function Vs(n,e){return e<0?lM(n):oM(n)}function lM(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let s,o,u=!1;for(Rn&&t.nodeType==1&&r<Yu(t)&&Eo(t.childNodes[r],-1)&&(u=!0);;)if(r>0){if(t.nodeType!=1)break;{let c=t.childNodes[r-1];if(Eo(c,-1))s=t,o=--r;else if(c.nodeType==3)t=c,r=t.nodeValue.length;else break}}else{if(BS(t))break;{let c=t.previousSibling;for(;c&&Eo(c,-1);)s=t.parentNode,o=Et(c),c=c.previousSibling;if(c)t=c,r=Yu(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}u?_p(n,t,r):s&&_p(n,s,o)}function oM(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let s=Yu(t),o,u;for(;;)if(r<s){if(t.nodeType!=1)break;let c=t.childNodes[r];if(Eo(c,1))o=t,u=++r;else break}else{if(BS(t))break;{let c=t.nextSibling;for(;c&&Eo(c,1);)o=c.parentNode,u=Et(c)+1,c=c.nextSibling;if(c)t=c,r=0,s=Yu(t);else{if(t=t.parentNode,t==n.dom)break;r=s=0}}}o&&_p(n,o,u)}function BS(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function aM(n,e){for(;n&&e==n.childNodes.length&&!Yo(n);)e=Et(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function uM(n,e){for(;n&&!e&&!Yo(n);)e=Et(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function _p(n,e,t){if(e.nodeType!=3){let o,u;(u=aM(e,t))?(e=u,t=0):(o=uM(e,t))&&(e=o,t=o.nodeValue.length)}let r=n.domSelection();if(!r)return;if($c(r)){let o=document.createRange();o.setEnd(e,t),o.setStart(e,t),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:s}=n;setTimeout(()=>{n.state==s&&Sr(n)},50)}function ix(n,e){let t=n.state.doc.resolve(e);if(!(Rt||R2)&&t.parent.inlineContent){let s=n.coordsAtPos(e);if(e>t.start()){let o=n.coordsAtPos(e-1),u=(o.top+o.bottom)/2;if(u>s.top&&u<s.bottom&&Math.abs(o.left-s.left)>1)return o.left<s.left?"ltr":"rtl"}if(e<t.end()){let o=n.coordsAtPos(e+1),u=(o.top+o.bottom)/2;if(u>s.top&&u<s.bottom&&Math.abs(o.left-s.left)>1)return o.left>s.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function sx(n,e,t){let r=n.state.selection;if(r instanceof he&&!r.empty||t.indexOf("s")>-1||Sn&&t.indexOf("m")>-1)return!1;let{$from:s,$to:o}=r;if(!s.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let u=Bp(n.state,e);if(u&&u instanceof le)return Qr(n,u)}if(!s.parent.inlineContent){let u=e<0?s:o,c=r instanceof an?xe.near(u,e):xe.findFrom(u,e);return c?Qr(n,c):!1}return!1}function lx(n,e){if(!(n.state.selection instanceof he))return!0;let{$head:t,$anchor:r,empty:s}=n.state.selection;if(!t.sameParent(r))return!0;if(!s)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(o&&!o.isText){let u=n.state.tr;return e<0?u.delete(t.pos-o.nodeSize,t.pos):u.delete(t.pos,t.pos+o.nodeSize),n.dispatch(u),!0}return!1}function ox(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function cM(n){if(!zt||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;ox(n,r,"true"),setTimeout(()=>ox(n,r,"false"),20)}return!1}function fM(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function dM(n,e){let t=e.keyCode,r=fM(e);if(t==8||Sn&&t==72&&r=="c")return lx(n,-1)||Vs(n,-1);if(t==46&&!e.shiftKey||Sn&&t==68&&r=="c")return lx(n,1)||Vs(n,1);if(t==13||t==27)return!0;if(t==37||Sn&&t==66&&r=="c"){let s=t==37?ix(n,n.state.selection.from)=="ltr"?-1:1:-1;return rx(n,s,r)||Vs(n,s)}else if(t==39||Sn&&t==70&&r=="c"){let s=t==39?ix(n,n.state.selection.from)=="ltr"?1:-1:1;return rx(n,s,r)||Vs(n,s)}else{if(t==38||Sn&&t==80&&r=="c")return sx(n,-1,r)||Vs(n,-1);if(t==40||Sn&&t==78&&r=="c")return cM(n)||sx(n,1,r)||Vs(n,1);if(r==(Sn?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function pm(n,e){n.someProp("transformCopied",v=>{e=v(e,n)});let t=[],{content:r,openStart:s,openEnd:o}=e;for(;s>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,o--;let v=r.firstChild;t.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),r=v.content}let u=n.someProp("clipboardSerializer")||es.fromSchema(n.state.schema),c=IS(),d=c.createElement("div");d.appendChild(u.serializeFragment(r,{document:c}));let h=d.firstChild,m,y=0;for(;h&&h.nodeType==1&&(m=qS[h.nodeName.toLowerCase()]);){for(let v=m.length-1;v>=0;v--){let x=c.createElement(m[v]);for(;d.firstChild;)x.appendChild(d.firstChild);d.appendChild(x),y++}h=d.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${s} ${o}${y?` -${y}`:""} ${JSON.stringify(t)}`);let b=n.someProp("clipboardTextSerializer",v=>v(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:b,slice:e}}function _S(n,e,t,r,s){let o=s.parent.type.spec.code,u,c;if(!t&&!e)return null;let d=e&&(r||o||!t);if(d){if(n.someProp("transformPastedText",b=>{e=b(e,o||r,n)}),o)return e?new W(K.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):W.empty;let y=n.someProp("clipboardTextParser",b=>b(e,s,r,n));if(y)c=y;else{let b=s.marks(),{schema:v}=n.state,x=es.fromSchema(v);u=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(E=>{let w=u.appendChild(document.createElement("p"));E&&w.appendChild(x.serializeNode(v.text(E,b)))})}}else n.someProp("transformPastedHTML",y=>{t=y(t,n)}),u=gM(t),Jo&&yM(u);let h=u&&u.querySelector("[data-pm-slice]"),m=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(m&&m[3])for(let y=+m[3];y>0;y--){let b=u.firstChild;for(;b&&b.nodeType!=1;)b=b.nextSibling;if(!b)break;u=b}if(c||(c=(n.someProp("clipboardParser")||n.someProp("domParser")||li.fromSchema(n.state.schema)).parseSlice(u,{preserveWhitespace:!!(d||m),context:s,ruleFromNode(b){return b.nodeName=="BR"&&!b.nextSibling&&b.parentNode&&!hM.test(b.parentNode.nodeName)?{ignore:!0}:null}})),m)c=bM(ax(c,+m[1],+m[2]),m[4]);else if(c=W.maxOpen(pM(c.content,s),!0),c.openStart||c.openEnd){let y=0,b=0;for(let v=c.content.firstChild;y<c.openStart&&!v.type.spec.isolating;y++,v=v.firstChild);for(let v=c.content.lastChild;b<c.openEnd&&!v.type.spec.isolating;b++,v=v.lastChild);c=ax(c,y,b)}return n.someProp("transformPasted",y=>{c=y(c,n)}),c}const hM=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function pM(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let s=e.node(t).contentMatchAt(e.index(t)),o,u=[];if(n.forEach(c=>{if(!u)return;let d=s.findWrapping(c.type),h;if(!d)return u=null;if(h=u.length&&o.length&&US(d,o,c,u[u.length-1],0))u[u.length-1]=h;else{u.length&&(u[u.length-1]=PS(u[u.length-1],o.length));let m=HS(c,d);u.push(m),s=s.matchType(m.type),o=d}}),u)return K.from(u)}return n}function HS(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,K.from(n));return n}function US(n,e,t,r,s){if(s<n.length&&s<e.length&&n[s]==e[s]){let o=US(n,e,t,r.lastChild,s+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(s==n.length-1?t.type:n[s+1]))return r.copy(r.content.append(K.from(HS(t,n,s+1))))}}function PS(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,PS(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(K.empty,!0);return n.copy(t.append(r))}function Hp(n,e,t,r,s,o){let u=e<0?n.firstChild:n.lastChild,c=u.content;return n.childCount>1&&(o=0),s<r-1&&(c=Hp(c,e,t,r,s+1,o)),s>=t&&(c=e<0?u.contentMatchAt(0).fillBefore(c,o<=s).append(c):c.append(u.contentMatchAt(u.childCount).fillBefore(K.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,u.copy(c))}function ax(n,e,t){return e<n.openStart&&(n=new W(Hp(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new W(Hp(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const qS={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let ux=null;function IS(){return ux||(ux=document.implementation.createHTMLDocument("title"))}let Gh=null;function mM(n){let e=window.trustedTypes;return e?(Gh||(Gh=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),Gh.createHTML(n)):n}function gM(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=IS().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),s;if((s=r&&qS[r[1].toLowerCase()])&&(n=s.map(o=>"<"+o+">").join("")+n+s.map(o=>"</"+o+">").reverse().join("")),t.innerHTML=mM(n),s)for(let o=0;o<s.length;o++)t=t.querySelector(s[o])||t;return t}function yM(n){let e=n.querySelectorAll(Rt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function bM(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:s,openStart:o,openEnd:u}=n;for(let c=r.length-2;c>=0;c-=2){let d=t.nodes[r[c]];if(!d||d.hasRequiredAttrs())break;s=K.from(d.create(r[c+1],s)),o++,u++}return new W(s,o,u)}const Lt={},Bt={},xM={touchstart:!0,touchmove:!0};class vM{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function SM(n){for(let e in Lt){let t=Lt[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{TM(n,r)&&!mm(n,r)&&(n.editable||!(r.type in Bt))&&t(n,r)},xM[e]?{passive:!0}:void 0)}zt&&n.dom.addEventListener("input",()=>null),Up(n)}function ii(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function EM(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function Up(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>mm(n,r))})}function mm(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function TM(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function wM(n,e){!mm(n,e)&&Lt[e.type]&&(n.editable||!(e.type in Bt))&&Lt[e.type](n,e)}Bt.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!FS(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(br&&Rt&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),el&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",s=>s(n,zi(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||dM(n,t)?t.preventDefault():ii(n,"key")};Bt.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};Bt.keypress=(n,e)=>{let t=e;if(FS(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||Sn&&t.metaKey)return;if(n.someProp("handleKeyPress",s=>s(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof he)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(t.charCode);!/[\r\n]/.test(s)&&!n.someProp("handleTextInput",o=>o(n,r.$from.pos,r.$to.pos,s))&&n.dispatch(n.state.tr.insertText(s).scrollIntoView()),t.preventDefault()}};function Kc(n){return{left:n.clientX,top:n.clientY}}function CM(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function gm(n,e,t,r,s){if(r==-1)return!1;let o=n.state.doc.resolve(r);for(let u=o.depth+1;u>0;u--)if(n.someProp(e,c=>u>o.depth?c(n,t,o.nodeAfter,o.before(u),s,!0):c(n,t,o.node(u),o.before(u),s,!1)))return!0;return!1}function Qs(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function kM(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&le.isSelectable(r)?(Qs(n,new le(t)),!0):!1}function NM(n,e){if(e==-1)return!1;let t=n.state.selection,r,s;t instanceof le&&(r=t.node);let o=n.state.doc.resolve(e);for(let u=o.depth+1;u>0;u--){let c=u>o.depth?o.nodeAfter:o.node(u);if(le.isSelectable(c)){r&&t.$from.depth>0&&u>=t.$from.depth&&o.before(t.$from.depth+1)==t.$from.pos?s=o.before(t.$from.depth):s=o.before(u);break}}return s!=null?(Qs(n,le.create(n.state.doc,s)),!0):!1}function AM(n,e,t,r,s){return gm(n,"handleClickOn",e,t,r)||n.someProp("handleClick",o=>o(n,e,r))||(s?NM(n,t):kM(n,t))}function OM(n,e,t,r){return gm(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",s=>s(n,e,r))}function MM(n,e,t,r){return gm(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",s=>s(n,e,r))||RM(n,t,r)}function RM(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(Qs(n,he.create(r,0,r.content.size)),!0):!1;let s=r.resolve(e);for(let o=s.depth+1;o>0;o--){let u=o>s.depth?s.nodeAfter:s.node(o),c=s.before(o);if(u.inlineContent)Qs(n,he.create(r,c+1,c+1+u.content.size));else if(le.isSelectable(u))Qs(n,le.create(r,c));else continue;return!0}}function ym(n){return Ju(n)}const VS=Sn?"metaKey":"ctrlKey";Lt.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=ym(n),s=Date.now(),o="singleClick";s-n.input.lastClick.time<500&&CM(t,n.input.lastClick)&&!t[VS]&&n.input.lastClick.button==t.button&&(n.input.lastClick.type=="singleClick"?o="doubleClick":n.input.lastClick.type=="doubleClick"&&(o="tripleClick")),n.input.lastClick={time:s,x:t.clientX,y:t.clientY,type:o,button:t.button};let u=n.posAtCoords(Kc(t));u&&(o=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new DM(n,u,t,!!r)):(o=="doubleClick"?OM:MM)(n,u.pos,u.inside,t)?t.preventDefault():ii(n,"pointer"))};class DM{constructor(e,t,r,s){this.view=e,this.pos=t,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[VS],this.allowDefault=r.shiftKey;let o,u;if(t.inside>-1)o=e.state.doc.nodeAt(t.inside),u=t.inside;else{let m=e.state.doc.resolve(t.pos);o=m.parent,u=m.depth?m.before():0}const c=s?null:r.target,d=c?e.docView.nearestDesc(c,!0):null;this.target=d&&d.dom.nodeType==1?d.dom:null;let{selection:h}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||h instanceof le&&h.from<=u&&h.to>u)&&(this.mightDrag={node:o,pos:u,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Rn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),ii(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Sr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Kc(e))),this.updateAllowDefault(e),this.allowDefault||!t?ii(this.view,"pointer"):AM(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||zt&&this.mightDrag&&!this.mightDrag.node.isAtom||Rt&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Qs(this.view,xe.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):ii(this.view,"pointer")}move(e){this.updateAllowDefault(e),ii(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Lt.touchstart=n=>{n.input.lastTouch=Date.now(),ym(n),ii(n,"pointer")};Lt.touchmove=n=>{n.input.lastTouch=Date.now(),ii(n,"pointer")};Lt.contextmenu=n=>ym(n);function FS(n,e){return n.composing?!0:zt&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const jM=br?5e3:-1;Bt.compositionstart=Bt.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof he&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),Ju(n,!0),n.markCursor=null;else if(Ju(n,!e.selection.empty),Rn&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let s=r.focusNode,o=r.focusOffset;s&&s.nodeType==1&&o!=0;){let u=o<0?s.lastChild:s.childNodes[o-1];if(!u)break;if(u.nodeType==3){let c=n.domSelection();c&&c.collapse(u,u.nodeValue.length);break}else s=u,o=-1}}n.input.composing=!0}$S(n,jM)};Bt.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,$S(n,20))};function $S(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>Ju(n),e))}function GS(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=LM());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function zM(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=k2(e.focusNode,e.focusOffset),r=N2(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let s=r.pmViewDesc,o=n.domObserver.lastChangedTextNode;if(t==o||r==o)return o;if(!s||!s.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let u=t.pmViewDesc;if(!(!u||!u.isText(t.nodeValue)))return r}}return t||r}function LM(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function Ju(n,e=!1){if(!(br&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),GS(n),e||n.docView&&n.docView.dirty){let t=dm(n),r=n.state.selection;return t&&!t.eq(r)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function BM(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const Bo=Yt&&oi<15||el&&D2<604;Lt.copy=Bt.cut=(n,e)=>{let t=e,r=n.state.selection,s=t.type=="cut";if(r.empty)return;let o=Bo?null:t.clipboardData,u=r.content(),{dom:c,text:d}=pm(n,u);o?(t.preventDefault(),o.clearData(),o.setData("text/html",c.innerHTML),o.setData("text/plain",d)):BM(n,c),s&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function _M(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function HM(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?_o(n,r.value,null,s,e):_o(n,r.textContent,r.innerHTML,s,e)},50)}function _o(n,e,t,r,s){let o=_S(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",d=>d(n,s,o||W.empty)))return!0;if(!o)return!1;let u=_M(o),c=u?n.state.tr.replaceSelectionWith(u,r):n.state.tr.replaceSelection(o);return n.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function KS(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}Bt.paste=(n,e)=>{let t=e;if(n.composing&&!br)return;let r=Bo?null:t.clipboardData,s=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&_o(n,KS(r),r.getData("text/html"),s,t)?t.preventDefault():HM(n,t)};class YS{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const UM=Sn?"altKey":"ctrlKey";function JS(n,e){let t=n.someProp("dragCopies",r=>!r(e));return t??!e[UM]}Lt.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let s=n.state.selection,o=s.empty?null:n.posAtCoords(Kc(t)),u;if(!(o&&o.pos>=s.from&&o.pos<=(s instanceof le?s.to-1:s.to))){if(r&&r.mightDrag)u=le.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let y=n.docView.nearestDesc(t.target,!0);y&&y.node.type.spec.draggable&&y!=n.docView&&(u=le.create(n.state.doc,y.posBefore))}}let c=(u||n.state.selection).content(),{dom:d,text:h,slice:m}=pm(n,c);(!t.dataTransfer.files.length||!Rt||SS>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(Bo?"Text":"text/html",d.innerHTML),t.dataTransfer.effectAllowed="copyMove",Bo||t.dataTransfer.setData("text/plain",h),n.dragging=new YS(m,JS(n,t),u)};Lt.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};Bt.dragover=Bt.dragenter=(n,e)=>e.preventDefault();Bt.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let s=n.posAtCoords(Kc(t));if(!s)return;let o=n.state.doc.resolve(s.pos),u=r&&r.slice;u?n.someProp("transformPasted",x=>{u=x(u,n)}):u=_S(n,KS(t.dataTransfer),Bo?null:t.dataTransfer.getData("text/html"),!1,o);let c=!!(r&&JS(n,t));if(n.someProp("handleDrop",x=>x(n,t,u||W.empty,c))){t.preventDefault();return}if(!u)return;t.preventDefault();let d=u?dS(n.state.doc,o.pos,u):o.pos;d==null&&(d=o.pos);let h=n.state.tr;if(c){let{node:x}=r;x?x.replace(h):h.deleteSelection()}let m=h.mapping.map(d),y=u.openStart==0&&u.openEnd==0&&u.content.childCount==1,b=h.doc;if(y?h.replaceRangeWith(m,m,u.content.firstChild):h.replaceRange(m,m,u),h.doc.eq(b))return;let v=h.doc.resolve(m);if(y&&le.isSelectable(u.content.firstChild)&&v.nodeAfter&&v.nodeAfter.sameMarkup(u.content.firstChild))h.setSelection(new le(v));else{let x=h.mapping.map(d);h.mapping.maps[h.mapping.maps.length-1].forEach((E,w,k,A)=>x=A),h.setSelection(hm(n,v,h.doc.resolve(x)))}n.focus(),n.dispatch(h.setMeta("uiEvent","drop"))};Lt.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&Sr(n)},20))};Lt.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};Lt.beforeinput=(n,e)=>{if(Rt&&br&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",o=>o(n,zi(8,"Backspace")))))return;let{$cursor:s}=n.state.selection;s&&s.pos>0&&n.dispatch(n.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let n in Bt)Lt[n]=Bt[n];function Ho(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class Xu{constructor(e,t){this.toDOM=e,this.spec=t||$i,this.side=this.spec.side||0}map(e,t,r,s){let{pos:o,deleted:u}=e.mapResult(t.from+s,this.side<0?-1:1);return u?null:new Tn(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Xu&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Ho(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class ui{constructor(e,t){this.attrs=e,this.spec=t||$i}map(e,t,r,s){let o=e.map(t.from+s,this.spec.inclusiveStart?-1:1)-r,u=e.map(t.to+s,this.spec.inclusiveEnd?1:-1)-r;return o>=u?null:new Tn(o,u,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof ui&&Ho(this.attrs,e.attrs)&&Ho(this.spec,e.spec)}static is(e){return e.type instanceof ui}destroy(){}}class bm{constructor(e,t){this.attrs=e,this.spec=t||$i}map(e,t,r,s){let o=e.mapResult(t.from+s,1);if(o.deleted)return null;let u=e.mapResult(t.to+s,-1);return u.deleted||u.pos<=o.pos?null:new Tn(o.pos-r,u.pos-r,this)}valid(e,t){let{index:r,offset:s}=e.content.findIndex(t.from),o;return s==t.from&&!(o=e.child(r)).isText&&s+o.nodeSize==t.to}eq(e){return this==e||e instanceof bm&&Ho(this.attrs,e.attrs)&&Ho(this.spec,e.spec)}destroy(){}}class Tn{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new Tn(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new Tn(e,e,new Xu(t,r))}static inline(e,t,r,s){return new Tn(e,t,new ui(r,s))}static node(e,t,r,s){return new Tn(e,t,new bm(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof ui}get widget(){return this.type instanceof Xu}}const $s=[],$i={};class ot{constructor(e,t){this.local=e.length?e:$s,this.children=t.length?t:$s}static create(e,t){return t.length?Qu(t,e,0,$i):Ot}find(e,t,r){let s=[];return this.findInner(e??0,t??1e9,s,0,r),s}findInner(e,t,r,s,o){for(let u=0;u<this.local.length;u++){let c=this.local[u];c.from<=t&&c.to>=e&&(!o||o(c.spec))&&r.push(c.copy(c.from+s,c.to+s))}for(let u=0;u<this.children.length;u+=3)if(this.children[u]<t&&this.children[u+1]>e){let c=this.children[u]+1;this.children[u+2].findInner(e-c,t-c,r,s+c,o)}}map(e,t,r){return this==Ot||e.maps.length==0?this:this.mapInner(e,t,0,0,r||$i)}mapInner(e,t,r,s,o){let u;for(let c=0;c<this.local.length;c++){let d=this.local[c].map(e,r,s);d&&d.type.valid(t,d)?(u||(u=[])).push(d):o.onRemove&&o.onRemove(this.local[c].spec)}return this.children.length?PM(this.children,u||[],e,t,r,s,o):u?new ot(u.sort(Gi),$s):Ot}add(e,t){return t.length?this==Ot?ot.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let s,o=0;e.forEach((c,d)=>{let h=d+r,m;if(m=QS(t,c,h)){for(s||(s=this.children.slice());o<s.length&&s[o]<d;)o+=3;s[o]==d?s[o+2]=s[o+2].addInner(c,m,h+1):s.splice(o,0,d,d+c.nodeSize,Qu(m,c,h+1,$i)),o+=3}});let u=XS(o?ZS(t):t,-r);for(let c=0;c<u.length;c++)u[c].type.valid(e,u[c])||u.splice(c--,1);return new ot(u.length?this.local.concat(u).sort(Gi):this.local,s||this.children)}remove(e){return e.length==0||this==Ot?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,s=this.local;for(let o=0;o<r.length;o+=3){let u,c=r[o]+t,d=r[o+1]+t;for(let m=0,y;m<e.length;m++)(y=e[m])&&y.from>c&&y.to<d&&(e[m]=null,(u||(u=[])).push(y));if(!u)continue;r==this.children&&(r=this.children.slice());let h=r[o+2].removeInner(u,c+1);h!=Ot?r[o+2]=h:(r.splice(o,3),o-=3)}if(s.length){for(let o=0,u;o<e.length;o++)if(u=e[o])for(let c=0;c<s.length;c++)s[c].eq(u,t)&&(s==this.local&&(s=this.local.slice()),s.splice(c--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new ot(s,r):Ot}forChild(e,t){if(this==Ot)return this;if(t.isLeaf)return ot.empty;let r,s;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=e){this.children[c]==e&&(r=this.children[c+2]);break}let o=e+1,u=o+t.content.size;for(let c=0;c<this.local.length;c++){let d=this.local[c];if(d.from<u&&d.to>o&&d.type instanceof ui){let h=Math.max(o,d.from)-o,m=Math.min(u,d.to)-o;h<m&&(s||(s=[])).push(d.copy(h,m))}}if(s){let c=new ot(s.sort(Gi),$s);return r?new ei([c,r]):c}return r||Ot}eq(e){if(this==e)return!0;if(!(e instanceof ot)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return xm(this.localsInner(e))}localsInner(e){if(this==Ot)return $s;if(e.inlineContent||!this.local.some(ui.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof ui||t.push(this.local[r]);return t}forEachSet(e){e(this)}}ot.empty=new ot([],[]);ot.removeOverlap=xm;const Ot=ot.empty;class ei{constructor(e){this.members=e}map(e,t){const r=this.members.map(s=>s.map(e,t,$i));return ei.from(r)}forChild(e,t){if(t.isLeaf)return ot.empty;let r=[];for(let s=0;s<this.members.length;s++){let o=this.members[s].forChild(e,t);o!=Ot&&(o instanceof ei?r=r.concat(o.members):r.push(o))}return ei.from(r)}eq(e){if(!(e instanceof ei)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let s=0;s<this.members.length;s++){let o=this.members[s].localsInner(e);if(o.length)if(!t)t=o;else{r&&(t=t.slice(),r=!1);for(let u=0;u<o.length;u++)t.push(o[u])}}return t?xm(r?t:t.sort(Gi)):$s}static from(e){switch(e.length){case 0:return Ot;case 1:return e[0];default:return new ei(e.every(t=>t instanceof ot)?e:e.reduce((t,r)=>t.concat(r instanceof ot?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function PM(n,e,t,r,s,o,u){let c=n.slice();for(let h=0,m=o;h<t.maps.length;h++){let y=0;t.maps[h].forEach((b,v,x,E)=>{let w=E-x-(v-b);for(let k=0;k<c.length;k+=3){let A=c[k+1];if(A<0||b>A+m-y)continue;let j=c[k]+m-y;v>=j?c[k+1]=b<=j?-2:-1:b>=m&&w&&(c[k]+=w,c[k+1]+=w)}y+=w}),m=t.maps[h].map(m,-1)}let d=!1;for(let h=0;h<c.length;h+=3)if(c[h+1]<0){if(c[h+1]==-2){d=!0,c[h+1]=-1;continue}let m=t.map(n[h]+o),y=m-s;if(y<0||y>=r.content.size){d=!0;continue}let b=t.map(n[h+1]+o,-1),v=b-s,{index:x,offset:E}=r.content.findIndex(y),w=r.maybeChild(x);if(w&&E==y&&E+w.nodeSize==v){let k=c[h+2].mapInner(t,w,m+1,n[h]+o+1,u);k!=Ot?(c[h]=y,c[h+1]=v,c[h+2]=k):(c[h+1]=-2,d=!0)}else d=!0}if(d){let h=qM(c,n,e,t,s,o,u),m=Qu(h,r,0,u);e=m.local;for(let y=0;y<c.length;y+=3)c[y+1]<0&&(c.splice(y,3),y-=3);for(let y=0,b=0;y<m.children.length;y+=3){let v=m.children[y];for(;b<c.length&&c[b]<v;)b+=3;c.splice(b,0,m.children[y],m.children[y+1],m.children[y+2])}}return new ot(e.sort(Gi),c)}function XS(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let s=n[r];t.push(new Tn(s.from+e,s.to+e,s.type))}return t}function qM(n,e,t,r,s,o,u){function c(d,h){for(let m=0;m<d.local.length;m++){let y=d.local[m].map(r,s,h);y?t.push(y):u.onRemove&&u.onRemove(d.local[m].spec)}for(let m=0;m<d.children.length;m+=3)c(d.children[m+2],d.children[m]+h+1)}for(let d=0;d<n.length;d+=3)n[d+1]==-1&&c(n[d+2],e[d]+o+1);return t}function QS(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,s=null;for(let o=0,u;o<n.length;o++)(u=n[o])&&u.from>t&&u.to<r&&((s||(s=[])).push(u),n[o]=null);return s}function ZS(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function Qu(n,e,t,r){let s=[],o=!1;e.forEach((c,d)=>{let h=QS(n,c,d+t);if(h){o=!0;let m=Qu(h,c,t+d+1,r);m!=Ot&&s.push(d,d+c.nodeSize,m)}});let u=XS(o?ZS(n):n,-t).sort(Gi);for(let c=0;c<u.length;c++)u[c].type.valid(e,u[c])||(r.onRemove&&r.onRemove(u[c].spec),u.splice(c--,1));return u.length||s.length?new ot(u,s):Ot}function Gi(n,e){return n.from-e.from||n.to-e.to}function xm(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let s=t+1;s<e.length;s++){let o=e[s];if(o.from==r.from){o.to!=r.to&&(e==n&&(e=n.slice()),e[s]=o.copy(o.from,r.to),cx(e,s+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,o.from),cx(e,s,r.copy(o.from,r.to)));break}}}return e}function cx(n,e,t){for(;e<n.length&&Gi(t,n[e])>0;)e++;n.splice(e,0,t)}function Kh(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=Ot&&e.push(r)}),n.cursorWrapper&&e.push(ot.create(n.state.doc,[n.cursorWrapper.deco])),ei.from(e)}const IM={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},VM=Yt&&oi<=11;class FM{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class $M{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new FM,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);Yt&&oi<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),VM&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,IM)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(nx(this.view)){if(this.suppressingSelectionUpdates)return Sr(this.view);if(Yt&&oi<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Qi(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let o=e.focusNode;o;o=Ws(o))t.add(o);for(let o=e.anchorNode;o;o=Ws(o))if(t.has(o)){r=o;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&nx(e)&&!this.ignoreSelectionChange(r),o=-1,u=-1,c=!1,d=[];if(e.editable)for(let m=0;m<t.length;m++){let y=this.registerMutation(t[m],d);y&&(o=o<0?y.from:Math.min(y.from,o),u=u<0?y.to:Math.max(y.to,u),y.typeOver&&(c=!0))}if(Rn&&d.length){let m=d.filter(y=>y.nodeName=="BR");if(m.length==2){let[y,b]=m;y.parentNode&&y.parentNode.parentNode==b.parentNode?b.remove():y.remove()}else{let{focusNode:y}=this.currentSelection;for(let b of m){let v=b.parentNode;v&&v.nodeName=="LI"&&(!y||YM(e,y)!=v)&&b.remove()}}}let h=null;o<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&$c(r)&&(h=dm(e))&&h.eq(xe.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Sr(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||s)&&(o>-1&&(e.docView.markDirty(o,u),GM(e)),this.handleDOMChange(o,u,c,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Sr(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let m=0;m<e.addedNodes.length;m++){let y=e.addedNodes[m];t.push(y),y.nodeType==3&&(this.lastChangedTextNode=y)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,o=e.nextSibling;if(Yt&&oi<=11&&e.addedNodes.length)for(let m=0;m<e.addedNodes.length;m++){let{previousSibling:y,nextSibling:b}=e.addedNodes[m];(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(s=y),(!b||Array.prototype.indexOf.call(e.addedNodes,b)<0)&&(o=b)}let u=s&&s.parentNode==e.target?Et(s)+1:0,c=r.localPosFromDOM(e.target,u,-1),d=o&&o.parentNode==e.target?Et(o):e.target.childNodes.length,h=r.localPosFromDOM(e.target,d,1);return{from:c,to:h}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let fx=new WeakMap,dx=!1;function GM(n){if(!fx.has(n)&&(fx.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=Rn,dx)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),dx=!0}}function hx(n,e){let t=e.startContainer,r=e.startOffset,s=e.endContainer,o=e.endOffset,u=n.domAtPos(n.state.selection.anchor);return Qi(u.node,u.offset,s,o)&&([t,r,s,o]=[s,o,t,r]),{anchorNode:t,anchorOffset:r,focusNode:s,focusOffset:o}}function KM(n,e){if(e.getComposedRanges){let s=e.getComposedRanges(n.root)[0];if(s)return hx(n,s)}let t;function r(s){s.preventDefault(),s.stopImmediatePropagation(),t=s.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?hx(n,t):null}function YM(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function JM(n,e,t){let{node:r,fromOffset:s,toOffset:o,from:u,to:c}=n.docView.parseRange(e,t),d=n.domSelectionRange(),h,m=d.anchorNode;if(m&&n.dom.contains(m.nodeType==1?m:m.parentNode)&&(h=[{node:m,offset:d.anchorOffset}],$c(d)||h.push({node:d.focusNode,offset:d.focusOffset})),Rt&&n.input.lastKeyCode===8)for(let w=o;w>s;w--){let k=r.childNodes[w-1],A=k.pmViewDesc;if(k.nodeName=="BR"&&!A){o=w;break}if(!A||A.size)break}let y=n.state.doc,b=n.someProp("domParser")||li.fromSchema(n.state.schema),v=y.resolve(u),x=null,E=b.parse(r,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:s,to:o,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:XM,context:v});if(h&&h[0].pos!=null){let w=h[0].pos,k=h[1]&&h[1].pos;k==null&&(k=w),x={anchor:w+u,head:k+u}}return{doc:E,sel:x,from:u,to:c}}function XM(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(zt&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||zt&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const QM=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function ZM(n,e,t,r,s){let o=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let J=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,Ne=dm(n,J);if(Ne&&!n.state.selection.eq(Ne)){if(Rt&&br&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",ge=>ge(n,zi(13,"Enter"))))return;let ze=n.state.tr.setSelection(Ne);J=="pointer"?ze.setMeta("pointer",!0):J=="key"&&ze.scrollIntoView(),o&&ze.setMeta("composition",o),n.dispatch(ze)}return}let u=n.state.doc.resolve(e),c=u.sharedDepth(t);e=u.before(c+1),t=n.state.doc.resolve(t).after(c+1);let d=n.state.selection,h=JM(n,e,t),m=n.state.doc,y=m.slice(h.from,h.to),b,v;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(b=n.state.selection.to,v="end"):(b=n.state.selection.from,v="start"),n.input.lastKeyCode=null;let x=tR(y.content,h.doc.content,h.from,b,v);if(x&&n.input.domChangeCount++,(el&&n.input.lastIOSEnter>Date.now()-225||br)&&s.some(J=>J.nodeType==1&&!QM.test(J.nodeName))&&(!x||x.endA>=x.endB)&&n.someProp("handleKeyDown",J=>J(n,zi(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!x)if(r&&d instanceof he&&!d.empty&&d.$head.sameParent(d.$anchor)&&!n.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))x={start:d.from,endA:d.to,endB:d.to};else{if(h.sel){let J=px(n,n.state.doc,h.sel);if(J&&!J.eq(n.state.selection)){let Ne=n.state.tr.setSelection(J);o&&Ne.setMeta("composition",o),n.dispatch(Ne)}}return}n.state.selection.from<n.state.selection.to&&x.start==x.endB&&n.state.selection instanceof he&&(x.start>n.state.selection.from&&x.start<=n.state.selection.from+2&&n.state.selection.from>=h.from?x.start=n.state.selection.from:x.endA<n.state.selection.to&&x.endA>=n.state.selection.to-2&&n.state.selection.to<=h.to&&(x.endB+=n.state.selection.to-x.endA,x.endA=n.state.selection.to)),Yt&&oi<=11&&x.endB==x.start+1&&x.endA==x.start&&x.start>h.from&&h.doc.textBetween(x.start-h.from-1,x.start-h.from+1)=="  "&&(x.start--,x.endA--,x.endB--);let E=h.doc.resolveNoCache(x.start-h.from),w=h.doc.resolveNoCache(x.endB-h.from),k=m.resolve(x.start),A=E.sameParent(w)&&E.parent.inlineContent&&k.end()>=x.endA,j;if((el&&n.input.lastIOSEnter>Date.now()-225&&(!A||s.some(J=>J.nodeName=="DIV"||J.nodeName=="P"))||!A&&E.pos<h.doc.content.size&&(!E.sameParent(w)||!E.parent.inlineContent)&&!/\S/.test(h.doc.textBetween(E.pos,w.pos,"",""))&&(j=xe.findFrom(h.doc.resolve(E.pos+1),1,!0))&&j.head>E.pos)&&n.someProp("handleKeyDown",J=>J(n,zi(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>x.start&&eR(m,x.start,x.endA,E,w)&&n.someProp("handleKeyDown",J=>J(n,zi(8,"Backspace")))){br&&Rt&&n.domObserver.suppressSelectionUpdates();return}Rt&&x.endB==x.start&&(n.input.lastChromeDelete=Date.now()),br&&!A&&E.start()!=w.start()&&w.parentOffset==0&&E.depth==w.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==x.endA&&(x.endB-=2,w=h.doc.resolveNoCache(x.endB-h.from),setTimeout(()=>{n.someProp("handleKeyDown",function(J){return J(n,zi(13,"Enter"))})},20));let I=x.start,U=x.endA,X,Q,ie;if(A){if(E.pos==w.pos)Yt&&oi<=11&&E.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>Sr(n),20)),X=n.state.tr.delete(I,U),Q=m.resolve(x.start).marksAcross(m.resolve(x.endA));else if(x.endA==x.endB&&(ie=WM(E.parent.content.cut(E.parentOffset,w.parentOffset),k.parent.content.cut(k.parentOffset,x.endA-k.start()))))X=n.state.tr,ie.type=="add"?X.addMark(I,U,ie.mark):X.removeMark(I,U,ie.mark);else if(E.parent.child(E.index()).isText&&E.index()==w.index()-(w.textOffset?0:1)){let J=E.parent.textBetween(E.parentOffset,w.parentOffset);if(n.someProp("handleTextInput",Ne=>Ne(n,I,U,J)))return;X=n.state.tr.insertText(J,I,U)}}if(X||(X=n.state.tr.replace(I,U,h.doc.slice(x.start-h.from,x.endB-h.from))),h.sel){let J=px(n,X.doc,h.sel);J&&!(Rt&&n.composing&&J.empty&&(x.start!=x.endB||n.input.lastChromeDelete<Date.now()-100)&&(J.head==I||J.head==X.mapping.map(U)-1)||Yt&&J.empty&&J.head==I)&&X.setSelection(J)}Q&&X.ensureMarks(Q),o&&X.setMeta("composition",o),n.dispatch(X.scrollIntoView())}function px(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:hm(n,e.resolve(t.anchor),e.resolve(t.head))}function WM(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,s=t,o=r,u,c,d;for(let m=0;m<r.length;m++)s=r[m].removeFromSet(s);for(let m=0;m<t.length;m++)o=t[m].removeFromSet(o);if(s.length==1&&o.length==0)c=s[0],u="add",d=m=>m.mark(c.addToSet(m.marks));else if(s.length==0&&o.length==1)c=o[0],u="remove",d=m=>m.mark(c.removeFromSet(m.marks));else return null;let h=[];for(let m=0;m<e.childCount;m++)h.push(d(e.child(m)));if(K.from(h).eq(n))return{mark:c,type:u}}function eR(n,e,t,r,s){if(t-e<=s.pos-r.pos||Yh(r,!0,!1)<s.pos)return!1;let o=n.resolve(e);if(!r.parent.isTextblock){let c=o.nodeAfter;return c!=null&&t==e+c.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let u=n.resolve(Yh(o,!0,!0));return!u.parent.isTextblock||u.pos>t||Yh(u,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(u.parent.content)}function Yh(n,e,t){let r=n.depth,s=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,s++,e=!1;if(t){let o=n.node(r).maybeChild(n.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,s++}return s}function tR(n,e,t,r,s){let o=n.findDiffStart(e,t);if(o==null)return null;let{a:u,b:c}=n.findDiffEnd(e,t+n.size,t+e.size);if(s=="end"){let d=Math.max(0,o-Math.min(u,c));r-=u+d-o}if(u<o&&n.size<e.size){let d=r<=o&&r>=u?o-r:0;o-=d,o&&o<e.size&&mx(e.textBetween(o-1,o+1))&&(o+=d?1:-1),c=o+(c-u),u=o}else if(c<o){let d=r<=o&&r>=c?o-r:0;o-=d,o&&o<n.size&&mx(n.textBetween(o-1,o+1))&&(o+=d?1:-1),u=o+(u-c),c=o}return{start:o,endA:u,endB:c}}function mx(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class nR{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new vM,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(vx),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=bx(this),yx(this),this.nodeViews=xx(this),this.docView=X1(this.state.doc,gx(this),Kh(this),this.dom,this),this.domObserver=new $M(this,(r,s,o,u)=>ZM(this,r,s,o,u)),this.domObserver.start(),SM(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Up(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(vx),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let s=this.state,o=!1,u=!1;e.storedMarks&&this.composing&&(GS(this),u=!0),this.state=e;let c=s.plugins!=e.plugins||this._props.plugins!=t.plugins;if(c||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let v=xx(this);iR(v,this.nodeViews)&&(this.nodeViews=v,o=!0)}(c||t.handleDOMEvents!=this._props.handleDOMEvents)&&Up(this),this.editable=bx(this),yx(this);let d=Kh(this),h=gx(this),m=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",y=o||!this.docView.matchesNode(e.doc,h,d);(y||!e.selection.eq(s.selection))&&(u=!0);let b=m=="preserve"&&u&&this.dom.style.overflowAnchor==null&&L2(this);if(u){this.domObserver.stop();let v=y&&(Yt||Rt)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&rR(s.selection,e.selection);if(y){let x=Rt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=zM(this)),(o||!this.docView.update(e.doc,h,d,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=X1(e.doc,h,d,this.dom,this)),x&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&sM(this))?Sr(this,v):(zS(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),m=="reset"?this.dom.scrollTop=0:m=="to selection"?this.scrollToSelection():b&&B2(b)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof le){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&F1(this,t.getBoundingClientRect(),e)}else F1(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let o=r.from+(this.state.doc.content.size-t.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(s=o)}this.dragging=new YS(e.slice,e.move,s<0?void 0:le.create(this.state.doc,s))}someProp(e,t){let r=this._props&&this._props[e],s;if(r!=null&&(s=t?t(r):r))return s;for(let u=0;u<this.directPlugins.length;u++){let c=this.directPlugins[u].props[e];if(c!=null&&(s=t?t(c):c))return s}let o=this.state.plugins;if(o)for(let u=0;u<o.length;u++){let c=o[u].props[e];if(c!=null&&(s=t?t(c):c))return s}}hasFocus(){if(Yt){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&_2(this.dom),Sr(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return I2(this,e)}coordsAtPos(e,t=1){return kS(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let s=this.docView.posFromDOM(e,t,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,t){return K2(this,t||this.state,e)}pasteHTML(e,t){return _o(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return _o(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return pm(this,e)}destroy(){this.docView&&(EM(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Kh(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,w2())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return wM(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?zt&&this.root.nodeType===11&&O2(this.dom.ownerDocument)==this.dom&&KM(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function gx(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[Tn.node(0,n.state.doc.content.size,e)]}function yx(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:Tn.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function bx(n){return!n.someProp("editable",e=>e(n.state)===!1)}function rR(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function xx(n){let e=Object.create(null);function t(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function iR(n,e){let t=0,r=0;for(let s in n){if(n[s]!=e[s])return!0;t++}for(let s in e)r++;return t!=r}function vx(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ci={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Zu={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},sR=typeof navigator<"u"&&/Mac/.test(navigator.platform),lR=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Tt=0;Tt<10;Tt++)ci[48+Tt]=ci[96+Tt]=String(Tt);for(var Tt=1;Tt<=24;Tt++)ci[Tt+111]="F"+Tt;for(var Tt=65;Tt<=90;Tt++)ci[Tt]=String.fromCharCode(Tt+32),Zu[Tt]=String.fromCharCode(Tt);for(var Jh in ci)Zu.hasOwnProperty(Jh)||(Zu[Jh]=ci[Jh]);function oR(n){var e=sR&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||lR&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?Zu:ci)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const aR=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),uR=typeof navigator<"u"&&/Win/.test(navigator.platform);function cR(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,s,o,u;for(let c=0;c<e.length-1;c++){let d=e[c];if(/^(cmd|meta|m)$/i.test(d))u=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))o=!0;else if(/^mod$/i.test(d))aR?u=!0:s=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(t="Alt-"+t),s&&(t="Ctrl-"+t),u&&(t="Meta-"+t),o&&(t="Shift-"+t),t}function fR(n){let e=Object.create(null);for(let t in n)e[cR(t)]=n[t];return e}function Xh(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function dR(n){return new wt({props:{handleKeyDown:WS(n)}})}function WS(n){let e=fR(n);return function(t,r){let s=oR(r),o,u=e[Xh(s,r)];if(u&&u(t.state,t.dispatch,t))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let c=e[Xh(s,r,!1)];if(c&&c(t.state,t.dispatch,t))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(uR&&r.ctrlKey&&r.altKey)&&(o=ci[r.keyCode])&&o!=s){let c=e[Xh(o,r)];if(c&&c(t.state,t.dispatch,t))return!0}}return!1}}const vm=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function eE(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const tE=(n,e,t)=>{let r=eE(n,t);if(!r)return!1;let s=Sm(r);if(!s){let u=r.blockRange(),c=u&&al(u);return c==null?!1:(e&&e(n.tr.lift(u,c).scrollIntoView()),!0)}let o=s.nodeBefore;if(cE(n,s,e,-1))return!0;if(r.parent.content.size==0&&(tl(o,"end")||le.isSelectable(o)))for(let u=r.depth;;u--){let c=Vc(n.doc,r.before(u),r.after(u),W.empty);if(c&&c.slice.size<c.to-c.from){if(e){let d=n.tr.step(c);d.setSelection(tl(o,"end")?xe.findFrom(d.doc.resolve(d.mapping.map(s.pos,-1)),-1):le.create(d.doc,s.pos-o.nodeSize)),e(d.scrollIntoView())}return!0}if(u==1||r.node(u-1).childCount>1)break}return o.isAtom&&s.depth==r.depth-1?(e&&e(n.tr.delete(s.pos-o.nodeSize,s.pos).scrollIntoView()),!0):!1},hR=(n,e,t)=>{let r=eE(n,t);if(!r)return!1;let s=Sm(r);return s?nE(n,s,e):!1},pR=(n,e,t)=>{let r=iE(n,t);if(!r)return!1;let s=Em(r);return s?nE(n,s,e):!1};function nE(n,e,t){let r=e.nodeBefore,s=r,o=e.pos-1;for(;!s.isTextblock;o--){if(s.type.spec.isolating)return!1;let m=s.lastChild;if(!m)return!1;s=m}let u=e.nodeAfter,c=u,d=e.pos+1;for(;!c.isTextblock;d++){if(c.type.spec.isolating)return!1;let m=c.firstChild;if(!m)return!1;c=m}let h=Vc(n.doc,o,d,W.empty);if(!h||h.from!=o||h instanceof dt&&h.slice.size>=d-o)return!1;if(t){let m=n.tr.step(h);m.setSelection(he.create(m.doc,o)),t(m.scrollIntoView())}return!0}function tl(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const rE=(n,e,t)=>{let{$head:r,empty:s}=n.selection,o=r;if(!s)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;o=Sm(r)}let u=o&&o.nodeBefore;return!u||!le.isSelectable(u)?!1:(e&&e(n.tr.setSelection(le.create(n.doc,o.pos-u.nodeSize)).scrollIntoView()),!0)};function Sm(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function iE(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const sE=(n,e,t)=>{let r=iE(n,t);if(!r)return!1;let s=Em(r);if(!s)return!1;let o=s.nodeAfter;if(cE(n,s,e,1))return!0;if(r.parent.content.size==0&&(tl(o,"start")||le.isSelectable(o))){let u=Vc(n.doc,r.before(),r.after(),W.empty);if(u&&u.slice.size<u.to-u.from){if(e){let c=n.tr.step(u);c.setSelection(tl(o,"start")?xe.findFrom(c.doc.resolve(c.mapping.map(s.pos)),1):le.create(c.doc,c.mapping.map(s.pos))),e(c.scrollIntoView())}return!0}}return o.isAtom&&s.depth==r.depth-1?(e&&e(n.tr.delete(s.pos,s.pos+o.nodeSize).scrollIntoView()),!0):!1},lE=(n,e,t)=>{let{$head:r,empty:s}=n.selection,o=r;if(!s)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;o=Em(r)}let u=o&&o.nodeAfter;return!u||!le.isSelectable(u)?!1:(e&&e(n.tr.setSelection(le.create(n.doc,o.pos)).scrollIntoView()),!0)};function Em(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const mR=(n,e)=>{let t=n.selection,r=t instanceof le,s;if(r){if(t.node.isTextblock||!di(n.doc,t.from))return!1;s=t.from}else if(s=Ic(n.doc,t.from,-1),s==null)return!1;if(e){let o=n.tr.join(s);r&&o.setSelection(le.create(o.doc,s-n.doc.resolve(s).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},gR=(n,e)=>{let t=n.selection,r;if(t instanceof le){if(t.node.isTextblock||!di(n.doc,t.to))return!1;r=t.to}else if(r=Ic(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},yR=(n,e)=>{let{$from:t,$to:r}=n.selection,s=t.blockRange(r),o=s&&al(s);return o==null?!1:(e&&e(n.tr.lift(s,o).scrollIntoView()),!0)},oE=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function Tm(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const bR=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let s=t.node(-1),o=t.indexAfter(-1),u=Tm(s.contentMatchAt(o));if(!u||!s.canReplaceWith(o,o,u))return!1;if(e){let c=t.after(),d=n.tr.replaceWith(c,c,u.createAndFill());d.setSelection(xe.near(d.doc.resolve(c),1)),e(d.scrollIntoView())}return!0},aE=(n,e)=>{let t=n.selection,{$from:r,$to:s}=t;if(t instanceof an||r.parent.inlineContent||s.parent.inlineContent)return!1;let o=Tm(s.parent.contentMatchAt(s.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let u=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,c=n.tr.insert(u,o.createAndFill());c.setSelection(he.create(c.doc,u+1)),e(c.scrollIntoView())}return!0},uE=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let o=t.before();if(vr(n.doc,o))return e&&e(n.tr.split(o).scrollIntoView()),!0}let r=t.blockRange(),s=r&&al(r);return s==null?!1:(e&&e(n.tr.lift(r,s).scrollIntoView()),!0)};function xR(n){return(e,t)=>{let{$from:r,$to:s}=e.selection;if(e.selection instanceof le&&e.selection.node.isBlock)return!r.parentOffset||!vr(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let o=[],u,c,d=!1,h=!1;for(let v=r.depth;;v--)if(r.node(v).isBlock){d=r.end(v)==r.pos+(r.depth-v),h=r.start(v)==r.pos-(r.depth-v),c=Tm(r.node(v-1).contentMatchAt(r.indexAfter(v-1))),o.unshift(d&&c?{type:c}:null),u=v;break}else{if(v==1)return!1;o.unshift(null)}let m=e.tr;(e.selection instanceof he||e.selection instanceof an)&&m.deleteSelection();let y=m.mapping.map(r.pos),b=vr(m.doc,y,o.length,o);if(b||(o[0]=c?{type:c}:null,b=vr(m.doc,y,o.length,o)),!b)return!1;if(m.split(y,o.length,o),!d&&h&&r.node(u).type!=c){let v=m.mapping.map(r.before(u)),x=m.doc.resolve(v);c&&r.node(u-1).canReplaceWith(x.index(),x.index()+1,c)&&m.setNodeMarkup(m.mapping.map(r.before(u)),c)}return t&&t(m.scrollIntoView()),!0}}const vR=xR(),SR=(n,e)=>{let{$from:t,to:r}=n.selection,s,o=t.sharedDepth(r);return o==0?!1:(s=t.before(o),e&&e(n.tr.setSelection(le.create(n.doc,s))),!0)};function ER(n,e,t){let r=e.nodeBefore,s=e.nodeAfter,o=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(s.isTextblock||di(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function cE(n,e,t,r){let s=e.nodeBefore,o=e.nodeAfter,u,c,d=s.type.spec.isolating||o.type.spec.isolating;if(!d&&ER(n,e,t))return!0;let h=!d&&e.parent.canReplace(e.index(),e.index()+1);if(h&&(u=(c=s.contentMatchAt(s.childCount)).findWrapping(o.type))&&c.matchType(u[0]||o.type).validEnd){if(t){let v=e.pos+o.nodeSize,x=K.empty;for(let k=u.length-1;k>=0;k--)x=K.from(u[k].create(null,x));x=K.from(s.copy(x));let E=n.tr.step(new ht(e.pos-1,v,e.pos,v,new W(x,1,0),u.length,!0)),w=E.doc.resolve(v+2*u.length);w.nodeAfter&&w.nodeAfter.type==s.type&&di(E.doc,w.pos)&&E.join(w.pos),t(E.scrollIntoView())}return!0}let m=o.type.spec.isolating||r>0&&d?null:xe.findFrom(e,1),y=m&&m.$from.blockRange(m.$to),b=y&&al(y);if(b!=null&&b>=e.depth)return t&&t(n.tr.lift(y,b).scrollIntoView()),!0;if(h&&tl(o,"start",!0)&&tl(s,"end")){let v=s,x=[];for(;x.push(v),!v.isTextblock;)v=v.lastChild;let E=o,w=1;for(;!E.isTextblock;E=E.firstChild)w++;if(v.canReplace(v.childCount,v.childCount,E.content)){if(t){let k=K.empty;for(let j=x.length-1;j>=0;j--)k=K.from(x[j].copy(k));let A=n.tr.step(new ht(e.pos-x.length,e.pos+o.nodeSize,e.pos+w,e.pos+o.nodeSize-w,new W(k,x.length,0),0,!0));t(A.scrollIntoView())}return!0}}return!1}function fE(n){return function(e,t){let r=e.selection,s=n<0?r.$from:r.$to,o=s.depth;for(;s.node(o).isInline;){if(!o)return!1;o--}return s.node(o).isTextblock?(t&&t(e.tr.setSelection(he.create(e.doc,n<0?s.start(o):s.end(o)))),!0):!1}}const TR=fE(-1),wR=fE(1);function CR(n,e=null){return function(t,r){let{$from:s,$to:o}=t.selection,u=s.blockRange(o),c=u&&um(u,n,e);return c?(r&&r(t.tr.wrap(u,c).scrollIntoView()),!0):!1}}function Sx(n,e=null){return function(t,r){let s=!1;for(let o=0;o<t.selection.ranges.length&&!s;o++){let{$from:{pos:u},$to:{pos:c}}=t.selection.ranges[o];t.doc.nodesBetween(u,c,(d,h)=>{if(s)return!1;if(!(!d.isTextblock||d.hasMarkup(n,e)))if(d.type==n)s=!0;else{let m=t.doc.resolve(h),y=m.index();s=m.parent.canReplaceWith(y,y+1,n)}})}if(!s)return!1;if(r){let o=t.tr;for(let u=0;u<t.selection.ranges.length;u++){let{$from:{pos:c},$to:{pos:d}}=t.selection.ranges[u];o.setBlockType(c,d,n,e)}r(o.scrollIntoView())}return!0}}function wm(...n){return function(e,t,r){for(let s=0;s<n.length;s++)if(n[s](e,t,r))return!0;return!1}}wm(vm,tE,rE);wm(vm,sE,lE);wm(oE,aE,uE,vR);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function kR(n,e=null){return function(t,r){let{$from:s,$to:o}=t.selection,u=s.blockRange(o);if(!u)return!1;let c=r?t.tr:null;return NR(c,u,n,e)?(r&&r(c.scrollIntoView()),!0):!1}}function NR(n,e,t,r=null){let s=!1,o=e,u=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=u.resolve(e.start-2);o=new $u(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new $u(e.$from,u.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let c=um(o,t,r,e);return c?(n&&AR(n,e,c,s,t),!0):!1}function AR(n,e,t,r,s){let o=K.empty;for(let m=t.length-1;m>=0;m--)o=K.from(t[m].type.create(t[m].attrs,o));n.step(new ht(e.start-(r?2:0),e.end,e.start,e.end,new W(o,0,0),t.length,!0));let u=0;for(let m=0;m<t.length;m++)t[m].type==s&&(u=m+1);let c=t.length-u,d=e.start+t.length-(r?2:0),h=e.parent;for(let m=e.startIndex,y=e.endIndex,b=!0;m<y;m++,b=!1)!b&&vr(n.doc,d,c)&&(n.split(d,c),d+=2*c),d+=h.child(m).nodeSize;return n}function OR(n){return function(e,t){let{$from:r,$to:s}=e.selection,o=r.blockRange(s,u=>u.childCount>0&&u.firstChild.type==n);return o?t?r.node(o.depth-1).type==n?MR(e,t,n,o):RR(e,t,o):!0:!1}}function MR(n,e,t,r){let s=n.tr,o=r.end,u=r.$to.end(r.depth);o<u&&(s.step(new ht(o-1,u,o,u,new W(K.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new $u(s.doc.resolve(r.$from.pos),s.doc.resolve(u),r.depth));const c=al(r);if(c==null)return!1;s.lift(r,c);let d=s.doc.resolve(s.mapping.map(o,-1)-1);return di(s.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&s.join(d.pos),e(s.scrollIntoView()),!0}function RR(n,e,t){let r=n.tr,s=t.parent;for(let v=t.end,x=t.endIndex-1,E=t.startIndex;x>E;x--)v-=s.child(x).nodeSize,r.delete(v-1,v+1);let o=r.doc.resolve(t.start),u=o.nodeAfter;if(r.mapping.map(t.end)!=t.start+o.nodeAfter.nodeSize)return!1;let c=t.startIndex==0,d=t.endIndex==s.childCount,h=o.node(-1),m=o.index(-1);if(!h.canReplace(m+(c?0:1),m+1,u.content.append(d?K.empty:K.from(s))))return!1;let y=o.pos,b=y+u.nodeSize;return r.step(new ht(y-(c?1:0),b+(d?1:0),y+1,b-1,new W((c?K.empty:K.from(s.copy(K.empty))).append(d?K.empty:K.from(s.copy(K.empty))),c?0:1,d?0:1),c?0:1)),e(r.scrollIntoView()),!0}function DR(n){return function(e,t){let{$from:r,$to:s}=e.selection,o=r.blockRange(s,h=>h.childCount>0&&h.firstChild.type==n);if(!o)return!1;let u=o.startIndex;if(u==0)return!1;let c=o.parent,d=c.child(u-1);if(d.type!=n)return!1;if(t){let h=d.lastChild&&d.lastChild.type==c.type,m=K.from(h?n.create():null),y=new W(K.from(n.create(null,K.from(c.type.create(null,m)))),h?3:1,0),b=o.start,v=o.end;t(e.tr.step(new ht(b-(h?3:1),v,b,v,y,1,!0)).scrollIntoView())}return!0}}function Yc(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:s}=t,{storedMarks:o}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return s},get tr(){return r=t.selection,s=t.doc,o=t.storedMarks,t}}}class Jc{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:s}=t,{tr:o}=r,u=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([c,d])=>[c,(...m)=>{const y=d(...m)(u);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(o),y}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:s,state:o}=this,{view:u}=s,c=[],d=!!e,h=e||o.tr,m=()=>(!d&&t&&!h.getMeta("preventDispatch")&&!this.hasCustomState&&u.dispatch(h),c.every(b=>b===!0)),y={...Object.fromEntries(Object.entries(r).map(([b,v])=>[b,(...E)=>{const w=this.buildProps(h,t),k=v(...E)(w);return c.push(k),y}])),run:m};return y}createCan(e){const{rawCommands:t,state:r}=this,s=!1,o=e||r.tr,u=this.buildProps(o,s);return{...Object.fromEntries(Object.entries(t).map(([d,h])=>[d,(...m)=>h(...m)({...u,dispatch:void 0})])),chain:()=>this.createChain(o,s)}}buildProps(e,t=!0){const{rawCommands:r,editor:s,state:o}=this,{view:u}=s,c={tr:e,editor:s,view:u,state:Yc({state:o,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([d,h])=>[d,(...m)=>h(...m)(c)]))}};return c}}class jR{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(s=>s.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(s=>s!==t):delete this.callbacks[e]),this}once(e,t){const r=(...s)=>{this.off(e,r),t.apply(this,s)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function ne(n,e,t){return n.config[e]===void 0&&n.parent?ne(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?ne(n.parent,e,t):null}):n.config[e]}function Xc(n){const e=n.filter(s=>s.type==="extension"),t=n.filter(s=>s.type==="node"),r=n.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function dE(n){const e=[],{nodeExtensions:t,markExtensions:r}=Xc(n),s=[...t,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(u=>{const c={name:u.name,options:u.options,storage:u.storage,extensions:s},d=ne(u,"addGlobalAttributes",c);if(!d)return;d().forEach(m=>{m.types.forEach(y=>{Object.entries(m.attributes).forEach(([b,v])=>{e.push({type:y,name:b,attribute:{...o,...v}})})})})}),s.forEach(u=>{const c={name:u.name,options:u.options,storage:u.storage},d=ne(u,"addAttributes",c);if(!d)return;const h=d();Object.entries(h).forEach(([m,y])=>{const b={...o,...y};typeof(b==null?void 0:b.default)=="function"&&(b.default=b.default()),b!=null&&b.isRequired&&(b==null?void 0:b.default)===void 0&&delete b.default,e.push({type:u.name,name:m,attribute:b})})}),e}function mt(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function gt(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([s,o])=>{if(!r[s]){r[s]=o;return}if(s==="class"){const c=o?String(o).split(" "):[],d=r[s]?r[s].split(" "):[],h=c.filter(m=>!d.includes(m));r[s]=[...d,...h].join(" ")}else if(s==="style"){const c=o?o.split(";").map(m=>m.trim()).filter(Boolean):[],d=r[s]?r[s].split(";").map(m=>m.trim()).filter(Boolean):[],h=new Map;d.forEach(m=>{const[y,b]=m.split(":").map(v=>v.trim());h.set(y,b)}),c.forEach(m=>{const[y,b]=m.split(":").map(v=>v.trim());h.set(y,b)}),r[s]=Array.from(h.entries()).map(([m,y])=>`${m}: ${y}`).join("; ")}else r[s]=o}),r},{})}function Pp(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>gt(t,r),{})}function hE(n){return typeof n=="function"}function Ee(n,e=void 0,...t){return hE(n)?e?n.bind(e)(...t):n(...t):n}function zR(n={}){return Object.keys(n).length===0&&n.constructor===Object}function LR(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function Ex(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const s=e.reduce((o,u)=>{const c=u.attribute.parseHTML?u.attribute.parseHTML(t):LR(t.getAttribute(u.name));return c==null?o:{...o,[u.name]:c}},{});return{...r,...s}}}}function Tx(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&zR(t)?!1:t!=null))}function BR(n,e){var t;const r=dE(n),{nodeExtensions:s,markExtensions:o}=Xc(n),u=(t=s.find(h=>ne(h,"topNode")))===null||t===void 0?void 0:t.name,c=Object.fromEntries(s.map(h=>{const m=r.filter(k=>k.type===h.name),y={name:h.name,options:h.options,storage:h.storage,editor:e},b=n.reduce((k,A)=>{const j=ne(A,"extendNodeSchema",y);return{...k,...j?j(h):{}}},{}),v=Tx({...b,content:Ee(ne(h,"content",y)),marks:Ee(ne(h,"marks",y)),group:Ee(ne(h,"group",y)),inline:Ee(ne(h,"inline",y)),atom:Ee(ne(h,"atom",y)),selectable:Ee(ne(h,"selectable",y)),draggable:Ee(ne(h,"draggable",y)),code:Ee(ne(h,"code",y)),whitespace:Ee(ne(h,"whitespace",y)),linebreakReplacement:Ee(ne(h,"linebreakReplacement",y)),defining:Ee(ne(h,"defining",y)),isolating:Ee(ne(h,"isolating",y)),attrs:Object.fromEntries(m.map(k=>{var A;return[k.name,{default:(A=k==null?void 0:k.attribute)===null||A===void 0?void 0:A.default}]}))}),x=Ee(ne(h,"parseHTML",y));x&&(v.parseDOM=x.map(k=>Ex(k,m)));const E=ne(h,"renderHTML",y);E&&(v.toDOM=k=>E({node:k,HTMLAttributes:Pp(k,m)}));const w=ne(h,"renderText",y);return w&&(v.toText=w),[h.name,v]})),d=Object.fromEntries(o.map(h=>{const m=r.filter(w=>w.type===h.name),y={name:h.name,options:h.options,storage:h.storage,editor:e},b=n.reduce((w,k)=>{const A=ne(k,"extendMarkSchema",y);return{...w,...A?A(h):{}}},{}),v=Tx({...b,inclusive:Ee(ne(h,"inclusive",y)),excludes:Ee(ne(h,"excludes",y)),group:Ee(ne(h,"group",y)),spanning:Ee(ne(h,"spanning",y)),code:Ee(ne(h,"code",y)),attrs:Object.fromEntries(m.map(w=>{var k;return[w.name,{default:(k=w==null?void 0:w.attribute)===null||k===void 0?void 0:k.default}]}))}),x=Ee(ne(h,"parseHTML",y));x&&(v.parseDOM=x.map(w=>Ex(w,m)));const E=ne(h,"renderHTML",y);return E&&(v.toDOM=w=>E({mark:w,HTMLAttributes:Pp(w,m)})),[h.name,v]}));return new tS({topNode:u,nodes:c,marks:d})}function Qh(n,e){return e.nodes[n]||e.marks[n]||null}function wx(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function Cm(n,e){const t=es.fromSchema(e).serializeFragment(n),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(t),s.innerHTML}const _R=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(s,o,u,c)=>{var d,h;const m=((h=(d=s.type.spec).toText)===null||h===void 0?void 0:h.call(d,{node:s,pos:o,parent:u,index:c}))||s.textContent||"%leaf%";t+=s.isAtom&&!s.isText?m:m.slice(0,Math.max(0,r-o))}),t};function km(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class Qc{constructor(e){this.find=e.find,this.handler=e.handler}}const HR=(n,e)=>{if(km(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function mu(n){var e;const{editor:t,from:r,to:s,text:o,rules:u,plugin:c}=n,{view:d}=t;if(d.composing)return!1;const h=d.state.doc.resolve(r);if(h.parent.type.spec.code||!((e=h.nodeBefore||h.nodeAfter)===null||e===void 0)&&e.marks.find(b=>b.type.spec.code))return!1;let m=!1;const y=_R(h)+o;return u.forEach(b=>{if(m)return;const v=HR(y,b.find);if(!v)return;const x=d.state.tr,E=Yc({state:d.state,transaction:x}),w={from:r-(v[0].length-o.length),to:s},{commands:k,chain:A,can:j}=new Jc({editor:t,state:E});b.handler({state:E,range:w,match:v,commands:k,chain:A,can:j})===null||!x.steps.length||(x.setMeta(c,{transform:x,from:r,to:s,text:o}),d.dispatch(x),m=!0)}),m}function UR(n){const{editor:e,rules:t}=n,r=new wt({state:{init(){return null},apply(s,o,u){const c=s.getMeta(r);if(c)return c;const d=s.getMeta("applyInputRules");return!!d&&setTimeout(()=>{let{text:m}=d;typeof m=="string"?m=m:m=Cm(K.from(m),u.schema);const{from:y}=d,b=y+m.length;mu({editor:e,from:y,to:b,text:m,rules:t,plugin:r})}),s.selectionSet||s.docChanged?null:o}},props:{handleTextInput(s,o,u,c){return mu({editor:e,from:o,to:u,text:c,rules:t,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:o}=s.state.selection;o&&mu({editor:e,from:o.pos,to:o.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(s,o){if(o.key!=="Enter")return!1;const{$cursor:u}=s.state.selection;return u?mu({editor:e,from:u.pos,to:u.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function PR(n){return Object.prototype.toString.call(n).slice(8,-1)}function gu(n){return PR(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function Zc(n,e){const t={...n};return gu(n)&&gu(e)&&Object.keys(e).forEach(r=>{gu(e[r])&&gu(n[r])?t[r]=Zc(n[r],e[r]):t[r]=e[r]}),t}class Yn{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ee(ne(this,"addOptions",{name:this.name}))),this.storage=Ee(ne(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Yn(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Zc(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Yn(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Ee(ne(t,"addOptions",{name:t.name})),t.storage=Ee(ne(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const u=s.marks();if(!!!u.find(h=>(h==null?void 0:h.type.name)===t.name))return!1;const d=u.find(h=>(h==null?void 0:h.type.name)===t.name);return d&&r.removeStoredMark(d),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}}function qR(n){return typeof n=="number"}class IR{constructor(e){this.find=e.find,this.handler=e.handler}}const VR=(n,e,t)=>{if(km(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(s=>{const o=[s.text];return o.index=s.index,o.input=n,o.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(s.replaceWith)),o}):[]};function FR(n){const{editor:e,state:t,from:r,to:s,rule:o,pasteEvent:u,dropEvent:c}=n,{commands:d,chain:h,can:m}=new Jc({editor:e,state:t}),y=[];return t.doc.nodesBetween(r,s,(v,x)=>{if(!v.isTextblock||v.type.spec.code)return;const E=Math.max(r,x),w=Math.min(s,x+v.content.size),k=v.textBetween(E-x,w-x,void 0,"￼");VR(k,o.find,u).forEach(j=>{if(j.index===void 0)return;const I=E+j.index+1,U=I+j[0].length,X={from:t.tr.mapping.map(I),to:t.tr.mapping.map(U)},Q=o.handler({state:t,range:X,match:j,commands:d,chain:h,can:m,pasteEvent:u,dropEvent:c});y.push(Q)})}),y.every(v=>v!==null)}let yu=null;const $R=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",n),t};function GR(n){const{editor:e,rules:t}=n;let r=null,s=!1,o=!1,u=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,c;try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}const d=({state:m,from:y,to:b,rule:v,pasteEvt:x})=>{const E=m.tr,w=Yc({state:m,transaction:E});if(!(!FR({editor:e,state:w,from:Math.max(y-1,0),to:b.b-1,rule:v,pasteEvent:x,dropEvent:c})||!E.steps.length)){try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}return u=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,E}};return t.map(m=>new wt({view(y){const b=x=>{var E;r=!((E=y.dom.parentElement)===null||E===void 0)&&E.contains(x.target)?y.dom.parentElement:null,r&&(yu=e)},v=()=>{yu&&(yu=null)};return window.addEventListener("dragstart",b),window.addEventListener("dragend",v),{destroy(){window.removeEventListener("dragstart",b),window.removeEventListener("dragend",v)}}},props:{handleDOMEvents:{drop:(y,b)=>{if(o=r===y.dom.parentElement,c=b,!o){const v=yu;v&&setTimeout(()=>{const x=v.state.selection;x&&v.commands.deleteRange({from:x.from,to:x.to})},10)}return!1},paste:(y,b)=>{var v;const x=(v=b.clipboardData)===null||v===void 0?void 0:v.getData("text/html");return u=b,s=!!(x!=null&&x.includes("data-pm-slice")),!1}}},appendTransaction:(y,b,v)=>{const x=y[0],E=x.getMeta("uiEvent")==="paste"&&!s,w=x.getMeta("uiEvent")==="drop"&&!o,k=x.getMeta("applyPasteRules"),A=!!k;if(!E&&!w&&!A)return;if(A){let{text:U}=k;typeof U=="string"?U=U:U=Cm(K.from(U),v.schema);const{from:X}=k,Q=X+U.length,ie=$R(U);return d({rule:m,state:v,from:X,to:{b:Q},pasteEvt:ie})}const j=b.doc.content.findDiffStart(v.doc.content),I=b.doc.content.findDiffEnd(v.doc.content);if(!(!qR(j)||!I||j===I.b))return d({rule:m,state:v,from:j,to:I,pasteEvt:u})}}))}function KR(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}class Ys{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=Ys.resolve(e),this.schema=BR(this.extensions,t),this.setupExtensions()}static resolve(e){const t=Ys.sort(Ys.flatten(e)),r=KR(t.map(s=>s.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},s=ne(t,"addExtensions",r);return s?[t,...this.flatten(s())]:t}).flat(10)}static sort(e){return e.sort((r,s)=>{const o=ne(r,"priority")||100,u=ne(s,"priority")||100;return o>u?-1:o<u?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:Qh(t.name,this.schema)},s=ne(t,"addCommands",r);return s?{...e,...s()}:e},{})}get plugins(){const{editor:e}=this,t=Ys.sort([...this.extensions].reverse()),r=[],s=[],o=t.map(u=>{const c={name:u.name,options:u.options,storage:u.storage,editor:e,type:Qh(u.name,this.schema)},d=[],h=ne(u,"addKeyboardShortcuts",c);let m={};if(u.type==="mark"&&ne(u,"exitable",c)&&(m.ArrowRight=()=>Yn.handleExit({editor:e,mark:u})),h){const E=Object.fromEntries(Object.entries(h()).map(([w,k])=>[w,()=>k({editor:e})]));m={...m,...E}}const y=dR(m);d.push(y);const b=ne(u,"addInputRules",c);wx(u,e.options.enableInputRules)&&b&&r.push(...b());const v=ne(u,"addPasteRules",c);wx(u,e.options.enablePasteRules)&&v&&s.push(...v());const x=ne(u,"addProseMirrorPlugins",c);if(x){const E=x();d.push(...E)}return d}).flat();return[UR({editor:e,rules:r}),...GR({editor:e,rules:s}),...o]}get attributes(){return dE(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Xc(this.extensions);return Object.fromEntries(t.filter(r=>!!ne(r,"addNodeView")).map(r=>{const s=this.attributes.filter(d=>d.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:e,type:mt(r.name,this.schema)},u=ne(r,"addNodeView",o);if(!u)return[];const c=(d,h,m,y,b)=>{const v=Pp(d,s);return u()({node:d,view:h,getPos:m,decorations:y,innerDecorations:b,editor:e,extension:r,HTMLAttributes:v})};return[r.name,c]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Qh(e.name,this.schema)};e.type==="mark"&&(!((t=Ee(ne(e,"keepOnSplit",r)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const s=ne(e,"onBeforeCreate",r),o=ne(e,"onCreate",r),u=ne(e,"onUpdate",r),c=ne(e,"onSelectionUpdate",r),d=ne(e,"onTransaction",r),h=ne(e,"onFocus",r),m=ne(e,"onBlur",r),y=ne(e,"onDestroy",r);s&&this.editor.on("beforeCreate",s),o&&this.editor.on("create",o),u&&this.editor.on("update",u),c&&this.editor.on("selectionUpdate",c),d&&this.editor.on("transaction",d),h&&this.editor.on("focus",h),m&&this.editor.on("blur",m),y&&this.editor.on("destroy",y)})}}class _t{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ee(ne(this,"addOptions",{name:this.name}))),this.storage=Ee(ne(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new _t(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Zc(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new _t({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Ee(ne(t,"addOptions",{name:t.name})),t.storage=Ee(ne(t,"addStorage",{name:t.name,options:t.options})),t}}function pE(n,e,t){const{from:r,to:s}=e,{blockSeparator:o=`

`,textSerializers:u={}}=t||{};let c="";return n.nodesBetween(r,s,(d,h,m,y)=>{var b;d.isBlock&&h>r&&(c+=o);const v=u==null?void 0:u[d.type.name];if(v)return m&&(c+=v({node:d,pos:h,parent:m,index:y,range:e})),!1;d.isText&&(c+=(b=d==null?void 0:d.text)===null||b===void 0?void 0:b.slice(Math.max(r,h)-h,s-h))}),c}function mE(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const YR=_t.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new wt({key:new un("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:s}=e,{ranges:o}=s,u=Math.min(...o.map(m=>m.$from.pos)),c=Math.max(...o.map(m=>m.$to.pos)),d=mE(t);return pE(r,{from:u,to:c},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),JR=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),XR=(n=!1)=>({commands:e})=>e.setContent("",n),QR=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:s}=r;return t&&s.forEach(({$from:o,$to:u})=>{n.doc.nodesBetween(o.pos,u.pos,(c,d)=>{if(c.type.isText)return;const{doc:h,mapping:m}=e,y=h.resolve(m.map(d)),b=h.resolve(m.map(d+c.nodeSize)),v=y.blockRange(b);if(!v)return;const x=al(v);if(c.type.isTextblock){const{defaultType:E}=y.parent.contentMatchAt(y.index());e.setNodeMarkup(v.start,E)}(x||x===0)&&e.lift(v,x)})}),!0},ZR=n=>e=>n(e),WR=()=>({state:n,dispatch:e})=>aE(n,e),eD=(n,e)=>({editor:t,tr:r})=>{const{state:s}=t,o=s.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const u=r.mapping.map(e);return r.insert(u,o.content),r.setSelection(new he(r.doc.resolve(u-1))),!0},tD=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const s=n.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===r.type){if(e){const c=s.before(o),d=s.after(o);n.delete(c,d).scrollIntoView()}return!0}return!1},nD=n=>({tr:e,state:t,dispatch:r})=>{const s=mt(n,t.schema),o=e.selection.$anchor;for(let u=o.depth;u>0;u-=1)if(o.node(u).type===s){if(r){const d=o.before(u),h=o.after(u);e.delete(d,h).scrollIntoView()}return!0}return!1},rD=n=>({tr:e,dispatch:t})=>{const{from:r,to:s}=n;return t&&e.delete(r,s),!0},iD=()=>({state:n,dispatch:e})=>vm(n,e),sD=()=>({commands:n})=>n.keyboardShortcut("Enter"),lD=()=>({state:n,dispatch:e})=>bR(n,e);function Wu(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>t.strict?e[s]===n[s]:km(e[s])?e[s].test(n[s]):e[s]===n[s]):!0}function gE(n,e,t={}){return n.find(r=>r.type===e&&Wu(Object.fromEntries(Object.keys(t).map(s=>[s,r.attrs[s]])),t))}function Cx(n,e,t={}){return!!gE(n,e,t)}function Nm(n,e,t){var r;if(!n||!e)return;let s=n.parent.childAfter(n.parentOffset);if((!s.node||!s.node.marks.some(m=>m.type===e))&&(s=n.parent.childBefore(n.parentOffset)),!s.node||!s.node.marks.some(m=>m.type===e)||(t=t||((r=s.node.marks[0])===null||r===void 0?void 0:r.attrs),!gE([...s.node.marks],e,t)))return;let u=s.index,c=n.start()+s.offset,d=u+1,h=c+s.node.nodeSize;for(;u>0&&Cx([...n.parent.child(u-1).marks],e,t);)u-=1,c-=n.parent.child(u).nodeSize;for(;d<n.parent.childCount&&Cx([...n.parent.child(d).marks],e,t);)h+=n.parent.child(d).nodeSize,d+=1;return{from:c,to:h}}function pi(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const oD=(n,e={})=>({tr:t,state:r,dispatch:s})=>{const o=pi(n,r.schema),{doc:u,selection:c}=t,{$from:d,from:h,to:m}=c;if(s){const y=Nm(d,o,e);if(y&&y.from<=h&&y.to>=m){const b=he.create(u,y.from,y.to);t.setSelection(b)}}return!0},aD=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function yE(n){return n instanceof he}function Ui(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function bE(n,e=null){if(!e)return null;const t=xe.atStart(n),r=xe.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const s=t.from,o=r.to;return e==="all"?he.create(n,Ui(0,s,o),Ui(n.content.size,s,o)):he.create(n,Ui(e,s,o),Ui(e,s,o))}function uD(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Am(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const cD=(n=null,e={})=>({editor:t,view:r,tr:s,dispatch:o})=>{e={scrollIntoView:!0,...e};const u=()=>{(Am()||uD())&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(o&&n===null&&!yE(t.state.selection))return u(),!0;const c=bE(s.doc,n)||t.state.selection,d=t.state.selection.eq(c);return o&&(d||s.setSelection(c),d&&s.storedMarks&&s.setStoredMarks(s.storedMarks),u()),!0},fD=(n,e)=>t=>n.every((r,s)=>e(r,{...t,index:s})),dD=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),xE=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&xE(r)}return n};function bu(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return xE(t)}function ec(n,e,t){if(n instanceof si||n instanceof K)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,s=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return K.fromArray(n.map(c=>e.nodeFromJSON(c)));const u=e.nodeFromJSON(n);return t.errorOnInvalidContent&&u.check(),u}catch(o){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",o),ec("",e,t)}if(s){if(t.errorOnInvalidContent){let u=!1,c="";const d=new tS({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(u=!0,c=typeof h=="string"?h:h.outerHTML,null)}]}})});if(t.slice?li.fromSchema(d).parseSlice(bu(n),t.parseOptions):li.fromSchema(d).parse(bu(n),t.parseOptions),t.errorOnInvalidContent&&u)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${c}`)})}const o=li.fromSchema(e);return t.slice?o.parseSlice(bu(n),t.parseOptions).content:o.parse(bu(n),t.parseOptions)}return ec("",e,t)}function hD(n,e,t){const r=n.steps.length-1;if(r<e)return;const s=n.steps[r];if(!(s instanceof dt||s instanceof ht))return;const o=n.mapping.maps[r];let u=0;o.forEach((c,d,h,m)=>{u===0&&(u=m)}),n.setSelection(xe.near(n.doc.resolve(u),t))}const pD=n=>!("type"in n),mD=(n,e,t)=>({tr:r,dispatch:s,editor:o})=>{var u;if(s){t={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let c;try{c=ec(e,o.schema,{parseOptions:{preserveWhitespace:"full",...t.parseOptions},errorOnInvalidContent:(u=t.errorOnInvalidContent)!==null&&u!==void 0?u:o.options.enableContentCheck})}catch(x){return o.emit("contentError",{editor:o,error:x,disableCollaboration:()=>{o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}}),!1}let{from:d,to:h}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},m=!0,y=!0;if((pD(c)?c:[c]).forEach(x=>{x.check(),m=m?x.isText&&x.marks.length===0:!1,y=y?x.isBlock:!1}),d===h&&y){const{parent:x}=r.doc.resolve(d);x.isTextblock&&!x.type.spec.code&&!x.childCount&&(d-=1,h+=1)}let v;if(m){if(Array.isArray(e))v=e.map(x=>x.text||"").join("");else if(e instanceof K){let x="";e.forEach(E=>{E.text&&(x+=E.text)}),v=x}else typeof e=="object"&&e&&e.text?v=e.text:v=e;r.insertText(v,d,h)}else v=c,r.replaceWith(d,h,v);t.updateSelection&&hD(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:d,text:v}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:d,text:v})}return!0},gD=()=>({state:n,dispatch:e})=>mR(n,e),yD=()=>({state:n,dispatch:e})=>gR(n,e),bD=()=>({state:n,dispatch:e})=>tE(n,e),xD=()=>({state:n,dispatch:e})=>sE(n,e),vD=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Ic(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},SD=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Ic(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},ED=()=>({state:n,dispatch:e})=>hR(n,e),TD=()=>({state:n,dispatch:e})=>pR(n,e);function vE(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function wD(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,s,o,u;for(let c=0;c<e.length-1;c+=1){const d=e[c];if(/^(cmd|meta|m)$/i.test(d))u=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))o=!0;else if(/^mod$/i.test(d))Am()||vE()?u=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return r&&(t=`Alt-${t}`),s&&(t=`Ctrl-${t}`),u&&(t=`Meta-${t}`),o&&(t=`Shift-${t}`),t}const CD=n=>({editor:e,view:t,tr:r,dispatch:s})=>{const o=wD(n).split(/-(?!$)/),u=o.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),c=new KeyboardEvent("keydown",{key:u==="Space"?" ":u,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{t.someProp("handleKeyDown",h=>h(t,c))});return d==null||d.steps.forEach(h=>{const m=h.map(r.mapping);m&&s&&r.maybeStep(m)}),!0};function Uo(n,e,t={}){const{from:r,to:s,empty:o}=n.selection,u=e?mt(e,n.schema):null,c=[];n.doc.nodesBetween(r,s,(y,b)=>{if(y.isText)return;const v=Math.max(r,b),x=Math.min(s,b+y.nodeSize);c.push({node:y,from:v,to:x})});const d=s-r,h=c.filter(y=>u?u.name===y.node.type.name:!0).filter(y=>Wu(y.node.attrs,t,{strict:!1}));return o?!!h.length:h.reduce((y,b)=>y+b.to-b.from,0)>=d}const kD=(n,e={})=>({state:t,dispatch:r})=>{const s=mt(n,t.schema);return Uo(t,s,e)?yR(t,r):!1},ND=()=>({state:n,dispatch:e})=>uE(n,e),AD=n=>({state:e,dispatch:t})=>{const r=mt(n,e.schema);return OR(r)(e,t)},OD=()=>({state:n,dispatch:e})=>oE(n,e);function Wc(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function kx(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,s)=>(t.includes(s)||(r[s]=n[s]),r),{})}const MD=(n,e)=>({tr:t,state:r,dispatch:s})=>{let o=null,u=null;const c=Wc(typeof n=="string"?n:n.name,r.schema);return c?(c==="node"&&(o=mt(n,r.schema)),c==="mark"&&(u=pi(n,r.schema)),s&&t.selection.ranges.forEach(d=>{r.doc.nodesBetween(d.$from.pos,d.$to.pos,(h,m)=>{o&&o===h.type&&t.setNodeMarkup(m,void 0,kx(h.attrs,e)),u&&h.marks.length&&h.marks.forEach(y=>{u===y.type&&t.addMark(m,m+h.nodeSize,u.create(kx(y.attrs,e)))})})}),!0):!1},RD=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),DD=()=>({tr:n,dispatch:e})=>{if(e){const t=new an(n.doc);n.setSelection(t)}return!0},jD=()=>({state:n,dispatch:e})=>rE(n,e),zD=()=>({state:n,dispatch:e})=>lE(n,e),LD=()=>({state:n,dispatch:e})=>SR(n,e),BD=()=>({state:n,dispatch:e})=>wR(n,e),_D=()=>({state:n,dispatch:e})=>TR(n,e);function qp(n,e,t={},r={}){return ec(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}const HD=(n,e=!1,t={},r={})=>({editor:s,tr:o,dispatch:u,commands:c})=>{var d,h;const{doc:m}=o;if(t.preserveWhitespace!=="full"){const y=qp(n,s.schema,t,{errorOnInvalidContent:(d=r.errorOnInvalidContent)!==null&&d!==void 0?d:s.options.enableContentCheck});return u&&o.replaceWith(0,m.content.size,y).setMeta("preventUpdate",!e),!0}return u&&o.setMeta("preventUpdate",!e),c.insertContentAt({from:0,to:m.content.size},n,{parseOptions:t,errorOnInvalidContent:(h=r.errorOnInvalidContent)!==null&&h!==void 0?h:s.options.enableContentCheck})};function SE(n,e){const t=pi(e,n.schema),{from:r,to:s,empty:o}=n.selection,u=[];o?(n.storedMarks&&u.push(...n.storedMarks),u.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,s,d=>{u.push(...d.marks)});const c=u.find(d=>d.type.name===t.name);return c?{...c.attrs}:{}}function UD(n,e){const t=new yS(n);return e.forEach(r=>{r.steps.forEach(s=>{t.step(s)})}),t}function PD(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function qD(n,e,t){const r=[];return n.nodesBetween(e.from,e.to,(s,o)=>{t(s)&&r.push({node:s,pos:o})}),r}function ID(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function Om(n){return e=>ID(e.$from,n)}function VD(n,e){const t={from:0,to:n.content.size};return pE(n,t,e)}function FD(n,e){const t=mt(e,n.schema),{from:r,to:s}=n.selection,o=[];n.doc.nodesBetween(r,s,c=>{o.push(c)});const u=o.reverse().find(c=>c.type.name===t.name);return u?{...u.attrs}:{}}function EE(n,e){const t=Wc(typeof e=="string"?e:e.name,n.schema);return t==="node"?FD(n,e):t==="mark"?SE(n,e):{}}function $D(n,e=JSON.stringify){const t={};return n.filter(r=>{const s=e(r);return Object.prototype.hasOwnProperty.call(t,s)?!1:t[s]=!0})}function GD(n){const e=$D(n);return e.length===1?e:e.filter((t,r)=>!e.filter((o,u)=>u!==r).some(o=>t.oldRange.from>=o.oldRange.from&&t.oldRange.to<=o.oldRange.to&&t.newRange.from>=o.newRange.from&&t.newRange.to<=o.newRange.to))}function KD(n){const{mapping:e,steps:t}=n,r=[];return e.maps.forEach((s,o)=>{const u=[];if(s.ranges.length)s.forEach((c,d)=>{u.push({from:c,to:d})});else{const{from:c,to:d}=t[o];if(c===void 0||d===void 0)return;u.push({from:c,to:d})}u.forEach(({from:c,to:d})=>{const h=e.slice(o).map(c,-1),m=e.slice(o).map(d),y=e.invert().map(h,-1),b=e.invert().map(m);r.push({oldRange:{from:y,to:b},newRange:{from:h,to:m}})})}),GD(r)}function Mm(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(s=>{const o=t.resolve(n),u=Nm(o,s.type);u&&r.push({mark:s,...u})}):t.nodesBetween(n,e,(s,o)=>{!s||(s==null?void 0:s.nodeSize)===void 0||r.push(...s.marks.map(u=>({from:o,to:o+s.nodeSize,mark:u})))}),r}function Du(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const s=n.find(o=>o.type===e&&o.name===r);return s?s.attribute.keepOnSplit:!1}))}function Ip(n,e,t={}){const{empty:r,ranges:s}=n.selection,o=e?pi(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(y=>o?o.name===y.type.name:!0).find(y=>Wu(y.attrs,t,{strict:!1}));let u=0;const c=[];if(s.forEach(({$from:y,$to:b})=>{const v=y.pos,x=b.pos;n.doc.nodesBetween(v,x,(E,w)=>{if(!E.isText&&!E.marks.length)return;const k=Math.max(v,w),A=Math.min(x,w+E.nodeSize),j=A-k;u+=j,c.push(...E.marks.map(I=>({mark:I,from:k,to:A})))})}),u===0)return!1;const d=c.filter(y=>o?o.name===y.mark.type.name:!0).filter(y=>Wu(y.mark.attrs,t,{strict:!1})).reduce((y,b)=>y+b.to-b.from,0),h=c.filter(y=>o?y.mark.type!==o&&y.mark.type.excludes(o):!0).reduce((y,b)=>y+b.to-b.from,0);return(d>0?d+h:d)>=u}function YD(n,e,t={}){if(!e)return Uo(n,null,t)||Ip(n,null,t);const r=Wc(e,n.schema);return r==="node"?Uo(n,e,t):r==="mark"?Ip(n,e,t):!1}function Nx(n,e){const{nodeExtensions:t}=Xc(e),r=t.find(u=>u.name===n);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},o=Ee(ne(r,"group",s));return typeof o!="string"?!1:o.split(" ").includes("list")}function Rm(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!==null&&r!==void 0?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let s=!0;return n.content.forEach(o=>{s!==!1&&(Rm(o,{ignoreWhitespace:t,checkChildren:e})||(s=!1))}),s}return!1}function JD(n){return n instanceof le}function XD(n,e,t){var r;const{selection:s}=e;let o=null;if(yE(s)&&(o=s.$cursor),o){const c=(r=n.storedMarks)!==null&&r!==void 0?r:o.marks();return!!t.isInSet(c)||!c.some(d=>d.type.excludes(t))}const{ranges:u}=s;return u.some(({$from:c,$to:d})=>{let h=c.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(c.pos,d.pos,(m,y,b)=>{if(h)return!1;if(m.isInline){const v=!b||b.type.allowsMarkType(t),x=!!t.isInSet(m.marks)||!m.marks.some(E=>E.type.excludes(t));h=v&&x}return!h}),h})}const QD=(n,e={})=>({tr:t,state:r,dispatch:s})=>{const{selection:o}=t,{empty:u,ranges:c}=o,d=pi(n,r.schema);if(s)if(u){const h=SE(r,d);t.addStoredMark(d.create({...h,...e}))}else c.forEach(h=>{const m=h.$from.pos,y=h.$to.pos;r.doc.nodesBetween(m,y,(b,v)=>{const x=Math.max(v,m),E=Math.min(v+b.nodeSize,y);b.marks.find(k=>k.type===d)?b.marks.forEach(k=>{d===k.type&&t.addMark(x,E,d.create({...k.attrs,...e}))}):t.addMark(x,E,d.create(e))})});return XD(r,t,d)},ZD=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),WD=(n,e={})=>({state:t,dispatch:r,chain:s})=>{const o=mt(n,t.schema);let u;return t.selection.$anchor.sameParent(t.selection.$head)&&(u=t.selection.$anchor.parent.attrs),o.isTextblock?s().command(({commands:c})=>Sx(o,{...u,...e})(t)?!0:c.clearNodes()).command(({state:c})=>Sx(o,{...u,...e})(c,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},ej=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,s=Ui(n,0,r.content.size),o=le.create(r,s);e.setSelection(o)}return!0},tj=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:s,to:o}=typeof n=="number"?{from:n,to:n}:n,u=he.atStart(r).from,c=he.atEnd(r).to,d=Ui(s,u,c),h=Ui(o,u,c),m=he.create(r,d,h);e.setSelection(m)}return!0},nj=n=>({state:e,dispatch:t})=>{const r=mt(n,e.schema);return DR(r)(e,t)};function Ax(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(s=>e==null?void 0:e.includes(s.type.name));n.tr.ensureMarks(r)}}const rj=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:s})=>{const{selection:o,doc:u}=e,{$from:c,$to:d}=o,h=s.extensionManager.attributes,m=Du(h,c.node().type.name,c.node().attrs);if(o instanceof le&&o.node.isBlock)return!c.parentOffset||!vr(u,c.pos)?!1:(r&&(n&&Ax(t,s.extensionManager.splittableMarks),e.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;const y=d.parentOffset===d.parent.content.size,b=c.depth===0?void 0:PD(c.node(-1).contentMatchAt(c.indexAfter(-1)));let v=y&&b?[{type:b,attrs:m}]:void 0,x=vr(e.doc,e.mapping.map(c.pos),1,v);if(!v&&!x&&vr(e.doc,e.mapping.map(c.pos),1,b?[{type:b}]:void 0)&&(x=!0,v=b?[{type:b,attrs:m}]:void 0),r){if(x&&(o instanceof he&&e.deleteSelection(),e.split(e.mapping.map(c.pos),1,v),b&&!y&&!c.parentOffset&&c.parent.type!==b)){const E=e.mapping.map(c.before()),w=e.doc.resolve(E);c.node(-1).canReplaceWith(w.index(),w.index()+1,b)&&e.setNodeMarkup(e.mapping.map(c.before()),b)}n&&Ax(t,s.extensionManager.splittableMarks),e.scrollIntoView()}return x},ij=(n,e={})=>({tr:t,state:r,dispatch:s,editor:o})=>{var u;const c=mt(n,r.schema),{$from:d,$to:h}=r.selection,m=r.selection.node;if(m&&m.isBlock||d.depth<2||!d.sameParent(h))return!1;const y=d.node(-1);if(y.type!==c)return!1;const b=o.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==c||d.index(-2)!==d.node(-2).childCount-1)return!1;if(s){let k=K.empty;const A=d.index(-1)?1:d.index(-2)?2:3;for(let ie=d.depth-A;ie>=d.depth-3;ie-=1)k=K.from(d.node(ie).copy(k));const j=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,I={...Du(b,d.node().type.name,d.node().attrs),...e},U=((u=c.contentMatch.defaultType)===null||u===void 0?void 0:u.createAndFill(I))||void 0;k=k.append(K.from(c.createAndFill(null,U)||void 0));const X=d.before(d.depth-(A-1));t.replace(X,d.after(-j),new W(k,4-A,0));let Q=-1;t.doc.nodesBetween(X,t.doc.content.size,(ie,J)=>{if(Q>-1)return!1;ie.isTextblock&&ie.content.size===0&&(Q=J+1)}),Q>-1&&t.setSelection(he.near(t.doc.resolve(Q))),t.scrollIntoView()}return!0}const v=h.pos===d.end()?y.contentMatchAt(0).defaultType:null,x={...Du(b,y.type.name,y.attrs),...e},E={...Du(b,d.node().type.name,d.node().attrs),...e};t.delete(d.pos,h.pos);const w=v?[{type:c,attrs:x},{type:v,attrs:E}]:[{type:c,attrs:x}];if(!vr(t.doc,d.pos,2))return!1;if(s){const{selection:k,storedMarks:A}=r,{splittableMarks:j}=o.extensionManager,I=A||k.$to.parentOffset&&k.$from.marks();if(t.split(d.pos,2,w).scrollIntoView(),!I||!s)return!0;const U=I.filter(X=>j.includes(X.type.name));t.ensureMarks(U)}return!0},Zh=(n,e)=>{const t=Om(u=>u.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const s=n.doc.nodeAt(r);return t.node.type===(s==null?void 0:s.type)&&di(n.doc,t.pos)&&n.join(t.pos),!0},Wh=(n,e)=>{const t=Om(u=>u.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const s=n.doc.nodeAt(r);return t.node.type===(s==null?void 0:s.type)&&di(n.doc,r)&&n.join(r),!0},sj=(n,e,t,r={})=>({editor:s,tr:o,state:u,dispatch:c,chain:d,commands:h,can:m})=>{const{extensions:y,splittableMarks:b}=s.extensionManager,v=mt(n,u.schema),x=mt(e,u.schema),{selection:E,storedMarks:w}=u,{$from:k,$to:A}=E,j=k.blockRange(A),I=w||E.$to.parentOffset&&E.$from.marks();if(!j)return!1;const U=Om(X=>Nx(X.type.name,y))(E);if(j.depth>=1&&U&&j.depth-U.depth<=1){if(U.node.type===v)return h.liftListItem(x);if(Nx(U.node.type.name,y)&&v.validContent(U.node.content)&&c)return d().command(()=>(o.setNodeMarkup(U.pos,v),!0)).command(()=>Zh(o,v)).command(()=>Wh(o,v)).run()}return!t||!I||!c?d().command(()=>m().wrapInList(v,r)?!0:h.clearNodes()).wrapInList(v,r).command(()=>Zh(o,v)).command(()=>Wh(o,v)).run():d().command(()=>{const X=m().wrapInList(v,r),Q=I.filter(ie=>b.includes(ie.type.name));return o.ensureMarks(Q),X?!0:h.clearNodes()}).wrapInList(v,r).command(()=>Zh(o,v)).command(()=>Wh(o,v)).run()},lj=(n,e={},t={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:o=!1}=t,u=pi(n,r.schema);return Ip(r,u,e)?s.unsetMark(u,{extendEmptyMarkRange:o}):s.setMark(u,e)},oj=(n,e,t={})=>({state:r,commands:s})=>{const o=mt(n,r.schema),u=mt(e,r.schema),c=Uo(r,o,t);let d;return r.selection.$anchor.sameParent(r.selection.$head)&&(d=r.selection.$anchor.parent.attrs),c?s.setNode(u,d):s.setNode(o,{...d,...t})},aj=(n,e={})=>({state:t,commands:r})=>{const s=mt(n,t.schema);return Uo(t,s,e)?r.lift(s):r.wrapIn(s,e)},uj=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const s=t[r];let o;if(s.spec.isInputRules&&(o=s.getState(n))){if(e){const u=n.tr,c=o.transform;for(let d=c.steps.length-1;d>=0;d-=1)u.step(c.steps[d].invert(c.docs[d]));if(o.text){const d=u.doc.resolve(o.from).marks();u.replaceWith(o.from,o.to,n.schema.text(o.text,d))}else u.delete(o.from,o.to)}return!0}}return!1},cj=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:s}=t;return r||e&&s.forEach(o=>{n.removeMark(o.$from.pos,o.$to.pos)}),!0},fj=(n,e={})=>({tr:t,state:r,dispatch:s})=>{var o;const{extendEmptyMarkRange:u=!1}=e,{selection:c}=t,d=pi(n,r.schema),{$from:h,empty:m,ranges:y}=c;if(!s)return!0;if(m&&u){let{from:b,to:v}=c;const x=(o=h.marks().find(w=>w.type===d))===null||o===void 0?void 0:o.attrs,E=Nm(h,d,x);E&&(b=E.from,v=E.to),t.removeMark(b,v,d)}else y.forEach(b=>{t.removeMark(b.$from.pos,b.$to.pos,d)});return t.removeStoredMark(d),!0},dj=(n,e={})=>({tr:t,state:r,dispatch:s})=>{let o=null,u=null;const c=Wc(typeof n=="string"?n:n.name,r.schema);return c?(c==="node"&&(o=mt(n,r.schema)),c==="mark"&&(u=pi(n,r.schema)),s&&t.selection.ranges.forEach(d=>{const h=d.$from.pos,m=d.$to.pos;let y,b,v,x;t.selection.empty?r.doc.nodesBetween(h,m,(E,w)=>{o&&o===E.type&&(v=Math.max(w,h),x=Math.min(w+E.nodeSize,m),y=w,b=E)}):r.doc.nodesBetween(h,m,(E,w)=>{w<h&&o&&o===E.type&&(v=Math.max(w,h),x=Math.min(w+E.nodeSize,m),y=w,b=E),w>=h&&w<=m&&(o&&o===E.type&&t.setNodeMarkup(w,void 0,{...E.attrs,...e}),u&&E.marks.length&&E.marks.forEach(k=>{if(u===k.type){const A=Math.max(w,h),j=Math.min(w+E.nodeSize,m);t.addMark(A,j,u.create({...k.attrs,...e}))}}))}),b&&(y!==void 0&&t.setNodeMarkup(y,void 0,{...b.attrs,...e}),u&&b.marks.length&&b.marks.forEach(E=>{u===E.type&&t.addMark(v,x,u.create({...E.attrs,...e}))}))}),!0):!1},hj=(n,e={})=>({state:t,dispatch:r})=>{const s=mt(n,t.schema);return CR(s,e)(t,r)},pj=(n,e={})=>({state:t,dispatch:r})=>{const s=mt(n,t.schema);return kR(s,e)(t,r)};var mj=Object.freeze({__proto__:null,blur:JR,clearContent:XR,clearNodes:QR,command:ZR,createParagraphNear:WR,cut:eD,deleteCurrentNode:tD,deleteNode:nD,deleteRange:rD,deleteSelection:iD,enter:sD,exitCode:lD,extendMarkRange:oD,first:aD,focus:cD,forEach:fD,insertContent:dD,insertContentAt:mD,joinBackward:bD,joinDown:yD,joinForward:xD,joinItemBackward:vD,joinItemForward:SD,joinTextblockBackward:ED,joinTextblockForward:TD,joinUp:gD,keyboardShortcut:CD,lift:kD,liftEmptyBlock:ND,liftListItem:AD,newlineInCode:OD,resetAttributes:MD,scrollIntoView:RD,selectAll:DD,selectNodeBackward:jD,selectNodeForward:zD,selectParentNode:LD,selectTextblockEnd:BD,selectTextblockStart:_D,setContent:HD,setMark:QD,setMeta:ZD,setNode:WD,setNodeSelection:ej,setTextSelection:tj,sinkListItem:nj,splitBlock:rj,splitListItem:ij,toggleList:sj,toggleMark:lj,toggleNode:oj,toggleWrap:aj,undoInputRule:uj,unsetAllMarks:cj,unsetMark:fj,updateAttributes:dj,wrapIn:hj,wrapInList:pj});const gj=_t.create({name:"commands",addCommands(){return{...mj}}}),yj=_t.create({name:"drop",addProseMirrorPlugins(){return[new wt({key:new un("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),bj=_t.create({name:"editable",addProseMirrorPlugins(){return[new wt({key:new un("editable"),props:{editable:()=>this.editor.options.editable}})]}}),xj=new un("focusEvents"),vj=_t.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new wt({key:xj,props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),Sj=_t.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:u})=>[()=>u.undoInputRule(),()=>u.command(({tr:c})=>{const{selection:d,doc:h}=c,{empty:m,$anchor:y}=d,{pos:b,parent:v}=y,x=y.parent.isTextblock&&b>0?c.doc.resolve(b-1):y,E=x.parent.type.spec.isolating,w=y.pos-y.parentOffset,k=E&&x.parent.childCount===1?w===y.pos:xe.atStart(h).from===b;return!m||!v.type.isTextblock||v.textContent.length||!k||k&&y.parent.type.name==="paragraph"?!1:u.clearNodes()}),()=>u.deleteSelection(),()=>u.joinBackward(),()=>u.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:u})=>[()=>u.deleteSelection(),()=>u.deleteCurrentNode(),()=>u.joinForward(),()=>u.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:u})=>[()=>u.newlineInCode(),()=>u.createParagraphNear(),()=>u.liftEmptyBlock(),()=>u.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},o={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Am()||vE()?o:s},addProseMirrorPlugins(){return[new wt({key:new un("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(E=>E.getMeta("composition")))return;const r=n.some(E=>E.docChanged)&&!e.doc.eq(t.doc),s=n.some(E=>E.getMeta("preventClearDocument"));if(!r||s)return;const{empty:o,from:u,to:c}=e.selection,d=xe.atStart(e.doc).from,h=xe.atEnd(e.doc).to;if(o||!(u===d&&c===h)||!Rm(t.doc))return;const b=t.tr,v=Yc({state:t,transaction:b}),{commands:x}=new Jc({editor:this.editor,state:v});if(x.clearNodes(),!!b.steps.length)return b}})]}}),Ej=_t.create({name:"paste",addProseMirrorPlugins(){return[new wt({key:new un("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),Tj=_t.create({name:"tabindex",addProseMirrorPlugins(){return[new wt({key:new un("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Li{get name(){return this.node.type.name}constructor(e,t,r=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=s}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new Li(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Li(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Li(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const s=t.isBlock&&!t.isTextblock,o=t.isAtom&&!t.isText,u=this.pos+r+(o?0:1),c=this.resolvedPos.doc.resolve(u);if(!s&&c.depth<=this.depth)return;const d=new Li(c,this.editor,s,s?t:null);s&&(d.actualDepth=this.depth+1),e.push(new Li(c,this.editor,s,s?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,s=this.parent;for(;s&&!r;){if(s.node.type.name===e)if(Object.keys(t).length>0){const o=s.node.attrs,u=Object.keys(t);for(let c=0;c<u.length;c+=1){const d=u[c];if(o[d]!==t[d])break}}else r=s;s=s.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let s=[];if(!this.children||this.children.length===0)return s;const o=Object.keys(t);return this.children.forEach(u=>{r&&s.length>0||(u.node.type.name===e&&o.every(d=>t[d]===u.node.attrs[d])&&s.push(u),!(r&&s.length>0)&&(s=s.concat(u.querySelectorAll(e,t,r))))}),s}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const wj=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function Cj(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(s),s}class kj extends jR{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:r,moved:s})=>this.options.onDrop(t,r,s)),this.on("paste",({event:t,slice:r})=>this.options.onPaste(t,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=Cj(wj,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=hE(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],s=this.state.reconfigure({plugins:r});return this.view.updateState(s),s}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(o=>{const u=typeof o=="string"?`${o}$`:o.key;r=r.filter(c=>!c.key.startsWith(u))}),t.length===r.length)return;const s=this.state.reconfigure({plugins:r});return this.view.updateState(s),s}createExtensionManager(){var e,t;const s=[...this.options.enableCoreExtensions?[bj,YR.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),gj,vj,Sj,Tj,yj,Ej].filter(o=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[o.name]!==!1:!0):[],...this.options.extensions].filter(o=>["extension","node","mark"].includes(o==null?void 0:o.type));this.extensionManager=new Ys(s,this)}createCommandManager(){this.commandManager=new Jc({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=qp(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(u){if(!(u instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(u.message))throw u;this.emit("contentError",{editor:this,error:u,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(c=>c.name!=="collaboration"),this.createExtensionManager()}}),t=qp(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=bE(t,this.options.autofocus);this.view=new nR(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:Ks.create({doc:t,selection:r||void 0})});const s=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(s),this.createNodeViews(),this.prependClass();const o=this.view.dom;o.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(u=>{var c;return(c=this.capturedTransaction)===null||c===void 0?void 0:c.step(u)});return}const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const s=e.getMeta("focus"),o=e.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return EE(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,s=typeof e=="string"?t:e;return YD(this.state,r,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Cm(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return VD(this.state.doc,{blockSeparator:t,textSerializers:{...mE(this.schema),...r}})}get isEmpty(){return Rm(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new Li(t,this)}get $doc(){return this.$pos(0)}}function nl(n){return new Qc({find:n.find,handler:({state:e,range:t,match:r})=>{const s=Ee(n.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:o}=e,u=r[r.length-1],c=r[0];if(u){const d=c.search(/\S/),h=t.from+c.indexOf(u),m=h+u.length;if(Mm(t.from,t.to,e.doc).filter(v=>v.mark.type.excluded.find(E=>E===n.type&&E!==v.mark.type)).filter(v=>v.to>h).length)return null;m<t.to&&o.delete(m,t.to),h>t.from&&o.delete(t.from+d,h);const b=t.from+d+u.length;o.addMark(t.from+d,b,n.type.create(s||{})),o.removeStoredMark(n.type)}}})}function Nj(n){return new Qc({find:n.find,handler:({state:e,range:t,match:r})=>{const s=Ee(n.getAttributes,void 0,r)||{},{tr:o}=e,u=t.from;let c=t.to;const d=n.type.create(s);if(r[1]){const h=r[0].lastIndexOf(r[1]);let m=u+h;m>c?m=c:c=m+r[1].length;const y=r[0][r[0].length-1];o.insertText(y,u+r[0].length-1),o.replaceWith(m,c,d)}else if(r[0]){const h=n.type.isInline?u:u-1;o.insert(h,n.type.create(s)).delete(o.mapping.map(u),o.mapping.map(c))}o.scrollIntoView()}})}function Vp(n){return new Qc({find:n.find,handler:({state:e,range:t,match:r})=>{const s=e.doc.resolve(t.from),o=Ee(n.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,o)}})}function Po(n){return new Qc({find:n.find,handler:({state:e,range:t,match:r,chain:s})=>{const o=Ee(n.getAttributes,void 0,r)||{},u=e.tr.delete(t.from,t.to),d=u.doc.resolve(t.from).blockRange(),h=d&&um(d,n.type,o);if(!h)return null;if(u.wrap(d,h),n.keepMarks&&n.editor){const{selection:y,storedMarks:b}=e,{splittableMarks:v}=n.editor.extensionManager,x=b||y.$to.parentOffset&&y.$from.marks();if(x){const E=x.filter(w=>v.includes(w.type.name));u.ensureMarks(E)}}if(n.keepAttributes){const y=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(y,o).run()}const m=u.doc.resolve(t.from-1).nodeBefore;m&&m.type===n.type&&di(u.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,m))&&u.join(t.from-1)}})}class Jt{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ee(ne(this,"addOptions",{name:this.name}))),this.storage=Ee(ne(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Jt(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Zc(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Jt(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Ee(ne(t,"addOptions",{name:t.name})),t.storage=Ee(ne(t,"addStorage",{name:t.name,options:t.options})),t}}function Wi(n){return new IR({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:s})=>{const o=Ee(n.getAttributes,void 0,r,s);if(o===!1||o===null)return null;const{tr:u}=e,c=r[r.length-1],d=r[0];let h=t.to;if(c){const m=d.search(/\S/),y=t.from+d.indexOf(c),b=y+c.length;if(Mm(t.from,t.to,e.doc).filter(x=>x.mark.type.excluded.find(w=>w===n.type&&w!==x.mark.type)).filter(x=>x.to>y).length)return null;b<t.to&&u.delete(b,t.to),y>t.from&&u.delete(t.from+m,y),h=t.from+m+c.length,u.addMark(t.from+m,h,n.type.create(o||{})),u.removeStoredMark(n.type)}}})}function Aj(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var TE={exports:{}},ep={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ox;function Oj(){if(Ox)return ep;Ox=1;var n=Ue;function e(y,b){return y===b&&(y!==0||1/y===1/b)||y!==y&&b!==b}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,s=n.useEffect,o=n.useLayoutEffect,u=n.useDebugValue;function c(y,b){var v=b(),x=r({inst:{value:v,getSnapshot:b}}),E=x[0].inst,w=x[1];return o(function(){E.value=v,E.getSnapshot=b,d(E)&&w({inst:E})},[y,v,b]),s(function(){return d(E)&&w({inst:E}),y(function(){d(E)&&w({inst:E})})},[y]),u(v),v}function d(y){var b=y.getSnapshot;y=y.value;try{var v=b();return!t(y,v)}catch{return!0}}function h(y,b){return b()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return ep.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,ep}TE.exports=Oj();var Dm=TE.exports;const Mj=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},Rj=({contentComponent:n})=>{const e=Dm.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return Ue.createElement(Ue.Fragment,null,Object.values(e))};function Dj(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:$k.createPortal(r.reactElement,r.element,t)},n.forEach(s=>s())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(s=>s())}}}class jj extends Ue.Component{constructor(e){var t;super(e),this.editorContentRef=Ue.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=Dj(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...r}=this.props;return Ue.createElement(Ue.Fragment,null,Ue.createElement("div",{ref:Mj(t,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&Ue.createElement(Rj,{contentComponent:e.contentComponent}))}}const zj=R.forwardRef((n,e)=>{const t=Ue.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return Ue.createElement(jj,{key:t,innerRef:e,...n})}),Lj=Ue.memo(zj);var Bj=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,s,o;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(s=r;s--!==0;)if(!n(e[s],t[s]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s of e.entries())if(!t.has(s[0]))return!1;for(s of e.entries())if(!n(s[1],t.get(s[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s of e.entries())if(!t.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(s=r;s--!==0;)if(e[s]!==t[s])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[s]))return!1;for(s=r;s--!==0;){var u=o[s];if(!(u==="_owner"&&e.$$typeof)&&!n(e[u],t[u]))return!1}return!0}return e!==e&&t!==t},_j=Aj(Bj),wE={exports:{}},tp={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mx;function Hj(){if(Mx)return tp;Mx=1;var n=Ue,e=Dm;function t(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,o=n.useRef,u=n.useEffect,c=n.useMemo,d=n.useDebugValue;return tp.useSyncExternalStoreWithSelector=function(h,m,y,b,v){var x=o(null);if(x.current===null){var E={hasValue:!1,value:null};x.current=E}else E=x.current;x=c(function(){function k(X){if(!A){if(A=!0,j=X,X=b(X),v!==void 0&&E.hasValue){var Q=E.value;if(v(Q,X))return I=Q}return I=X}if(Q=I,r(j,X))return Q;var ie=b(X);return v!==void 0&&v(Q,ie)?Q:(j=X,I=ie)}var A=!1,j,I,U=y===void 0?null:y;return[function(){return k(m())},U===null?void 0:function(){return k(U())}]},[m,y,b,v]);var w=s(h,x[0],x[1]);return u(function(){E.hasValue=!0,E.value=w},[w]),d(w),w},tp}wE.exports=Hj();var Uj=wE.exports;const Pj=typeof window<"u"?R.useLayoutEffect:R.useEffect;class qj{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(s=>s())},r=this.editor;return r.on("transaction",t),()=>{r.off("transaction",t)}}}}function Ij(n){var e;const[t]=R.useState(()=>new qj(n.editor)),r=Uj.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!==null&&e!==void 0?e:_j);return Pj(()=>t.watch(n.editor),[n.editor,t]),R.useDebugValue(r),r}const Vj=!1,Fp=typeof window>"u",Fj=Fp||!!(typeof window<"u"&&window.next);class jm{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Fp||Fj?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var s,o;return(o=(s=this.options.current).onBeforeCreate)===null||o===void 0?void 0:o.call(s,...r)},onBlur:(...r)=>{var s,o;return(o=(s=this.options.current).onBlur)===null||o===void 0?void 0:o.call(s,...r)},onCreate:(...r)=>{var s,o;return(o=(s=this.options.current).onCreate)===null||o===void 0?void 0:o.call(s,...r)},onDestroy:(...r)=>{var s,o;return(o=(s=this.options.current).onDestroy)===null||o===void 0?void 0:o.call(s,...r)},onFocus:(...r)=>{var s,o;return(o=(s=this.options.current).onFocus)===null||o===void 0?void 0:o.call(s,...r)},onSelectionUpdate:(...r)=>{var s,o;return(o=(s=this.options.current).onSelectionUpdate)===null||o===void 0?void 0:o.call(s,...r)},onTransaction:(...r)=>{var s,o;return(o=(s=this.options.current).onTransaction)===null||o===void 0?void 0:o.call(s,...r)},onUpdate:(...r)=>{var s,o;return(o=(s=this.options.current).onUpdate)===null||o===void 0?void 0:o.call(s,...r)},onContentError:(...r)=>{var s,o;return(o=(s=this.options.current).onContentError)===null||o===void 0?void 0:o.call(s,...r)},onDrop:(...r)=>{var s,o;return(o=(s=this.options.current).onDrop)===null||o===void 0?void 0:o.call(s,...r)},onPaste:(...r)=>{var s,o;return(o=(s=this.options.current).onPaste)===null||o===void 0?void 0:o.call(s,...r)}};return new kj(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((s,o)=>{var u;return s===((u=t.extensions)===null||u===void 0?void 0:u[o])}):e[r]===t[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?jm.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,s)=>r===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function $j(n={},e=[]){const t=R.useRef(n);t.current=n;const[r]=R.useState(()=>new jm(t)),s=Dm.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return R.useDebugValue(s),R.useEffect(r.onRender(e)),Ij({editor:s,selector:({transactionNumber:o})=>n.shouldRerenderOnTransaction===!1?null:n.immediatelyRender&&o===0?0:o+1}),s}const Gj=R.createContext({editor:null});Gj.Consumer;const Kj=R.createContext({onDragStart:void 0}),Yj=()=>R.useContext(Kj);Ue.forwardRef((n,e)=>{const{onDragStart:t}=Yj(),r=n.as||"div";return Ue.createElement(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});const Jj=/^\s*>\s$/,Xj=Jt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",gt(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Po({find:Jj,type:this.type})]}}),Qj=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Zj=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Wj=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,e3=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,t3=Yn.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",gt(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[nl({find:Qj,type:this.type}),nl({find:Wj,type:this.type})]},addPasteRules(){return[Wi({find:Zj,type:this.type}),Wi({find:e3,type:this.type})]}}),n3="listItem",Rx="textStyle",Dx=/^\s*([-+*])\s$/,CE=Jt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",gt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(n3,this.editor.getAttributes(Rx)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=Po({find:Dx,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Po({find:Dx,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Rx),editor:this.editor})),[n]}}),r3=/(^|[^`])`([^`]+)`(?!`)/,i3=/(^|[^`])`([^`]+)`(?!`)/g,s3=Yn.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",gt(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[nl({find:r3,type:this.type})]},addPasteRules(){return[Wi({find:i3,type:this.type})]}}),l3=/^```([a-z]+)?[\s\n]$/,o3=/^~~~([a-z]+)?[\s\n]$/,a3=Jt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,o=[...((e=n.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(u=>u.startsWith(t)).map(u=>u.replace(t,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",gt(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:s}=t;if(!s||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,u=r.parent.textContent.endsWith(`

`);return!o||!u?!1:n.chain().command(({tr:c})=>(c.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:s,empty:o}=t;if(!o||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const c=s.after();return c===void 0?!1:r.nodeAt(c)?n.commands.command(({tr:h})=>(h.setSelection(xe.near(r.resolve(c))),!0)):n.commands.exitCode()}}},addInputRules(){return[Vp({find:l3,type:this.type,getAttributes:n=>({language:n[1]})}),Vp({find:o3,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new wt({key:new un("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,o=s==null?void 0:s.mode;if(!t||!o)return!1;const{tr:u,schema:c}=n.state,d=c.text(t.replace(/\r\n?/g,`
`));return u.replaceSelectionWith(this.type.create({language:o},d)),u.selection.$from.parent.type!==this.type&&u.setSelection(he.near(u.doc.resolve(Math.max(0,u.selection.from-2)))),u.setMeta("paste",!0),n.dispatch(u),!0}}})]}}),u3=Jt.create({name:"doc",topNode:!0,content:"block+"});function c3(n={}){return new wt({view(e){return new f3(e,n)}})}class f3{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let o=u=>{this[s](u)};return e.dom.addEventListener(s,o),{name:s,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r,s=this.editorView.dom,o=s.getBoundingClientRect(),u=o.width/s.offsetWidth,c=o.height/s.offsetHeight;if(t){let y=e.nodeBefore,b=e.nodeAfter;if(y||b){let v=this.editorView.nodeDOM(this.cursorPos-(y?y.nodeSize:0));if(v){let x=v.getBoundingClientRect(),E=y?x.bottom:x.top;y&&b&&(E=(E+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let w=this.width/2*c;r={left:x.left,right:x.right,top:E-w,bottom:E+w}}}}if(!r){let y=this.editorView.coordsAtPos(this.cursorPos),b=this.width/2*u;r={left:y.left-b,right:y.left+b,top:y.top,bottom:y.bottom}}let d=this.editorView.dom.offsetParent;this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let h,m;if(!d||d==document.body&&getComputedStyle(d).position=="static")h=-pageXOffset,m=-pageYOffset;else{let y=d.getBoundingClientRect(),b=y.width/d.offsetWidth,v=y.height/d.offsetHeight;h=y.left-d.scrollLeft*b,m=y.top-d.scrollTop*v}this.element.style.left=(r.left-h)/u+"px",this.element.style.top=(r.top-m)/c+"px",this.element.style.width=(r.right-r.left)/u+"px",this.element.style.height=(r.bottom-r.top)/c+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),s=r&&r.type.spec.disableDropCursor,o=typeof s=="function"?s(this.editorView,t,e):s;if(t&&!o){let u=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let c=dS(this.editorView.state.doc,u,this.editorView.dragging.slice);c!=null&&(u=c)}this.setCursor(u),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const d3=_t.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[c3(this.options)]}});class We extends xe{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return We.valid(r)?new We(r):xe.near(r)}content(){return W.empty}eq(e){return e instanceof We&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new We(e.resolve(t.pos))}getBookmark(){return new zm(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!h3(e)||!p3(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let s=t.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&We.valid(e))return e;let s=e.pos,o=null;for(let u=e.depth;;u--){let c=e.node(u);if(t>0?e.indexAfter(u)<c.childCount:e.index(u)>0){o=c.child(t>0?e.indexAfter(u):e.index(u)-1);break}else if(u==0)return null;s+=t;let d=e.doc.resolve(s);if(We.valid(d))return d}for(;;){let u=t>0?o.firstChild:o.lastChild;if(!u){if(o.isAtom&&!o.isText&&!le.isSelectable(o)){e=e.doc.resolve(s+o.nodeSize*t),r=!1;continue e}break}o=u,s+=t;let c=e.doc.resolve(s);if(We.valid(c))return c}return null}}}We.prototype.visible=!1;We.findFrom=We.findGapCursorFrom;xe.jsonID("gapcursor",We);class zm{constructor(e){this.pos=e}map(e){return new zm(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return We.valid(t)?new We(t):xe.near(t)}}function h3(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(t-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function p3(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(t);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function m3(){return new wt({props:{decorations:x3,createSelectionBetween(n,e,t){return e.pos==t.pos&&We.valid(t)?new We(t):null},handleClick:y3,handleKeyDown:g3,handleDOMEvents:{beforeinput:b3}}})}const g3=WS({ArrowLeft:xu("horiz",-1),ArrowRight:xu("horiz",1),ArrowUp:xu("vert",-1),ArrowDown:xu("vert",1)});function xu(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,o){let u=r.selection,c=e>0?u.$to:u.$from,d=u.empty;if(u instanceof he){if(!o.endOfTextblock(t)||c.depth==0)return!1;d=!1,c=r.doc.resolve(e>0?c.after():c.before())}let h=We.findGapCursorFrom(c,e,d);return h?(s&&s(r.tr.setSelection(new We(h))),!0):!1}}function y3(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!We.valid(r))return!1;let s=n.posAtCoords({left:t.clientX,top:t.clientY});return s&&s.inside>-1&&le.isSelectable(n.state.doc.nodeAt(s.inside))?!1:(n.dispatch(n.state.tr.setSelection(new We(r))),!0)}function b3(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof We))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let s=K.empty;for(let u=r.length-1;u>=0;u--)s=K.from(r[u].createAndFill(null,s));let o=n.state.tr.replace(t.pos,t.pos,new W(s,0,0));return o.setSelection(he.near(o.doc.resolve(t.pos+1))),n.dispatch(o),!1}function x3(n){if(!(n.selection instanceof We))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",ot.create(n.doc,[Tn.widget(n.selection.head,e,{key:"gapcursor"})])}const v3=_t.create({name:"gapCursor",addProseMirrorPlugins(){return[m3()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=Ee(ne(n,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),S3=Jt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",gt(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:s,storedMarks:o}=t;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:u}=this.options,{splittableMarks:c}=r.extensionManager,d=o||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:h,dispatch:m})=>{if(m&&d&&u){const y=d.filter(b=>c.includes(b.type.name));h.ensureMarks(y)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),E3=Jt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,gt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>Vp({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var tc=200,pt=function(){};pt.prototype.append=function(e){return e.length?(e=pt.from(e),!this.length&&e||e.length<tc&&this.leafAppend(e)||this.length<tc&&e.leafPrepend(this)||this.appendInner(e)):this};pt.prototype.prepend=function(e){return e.length?pt.from(e).append(this):this};pt.prototype.appendInner=function(e){return new T3(this,e)};pt.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?pt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};pt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};pt.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};pt.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(o,u){return s.push(e(o,u))},t,r),s};pt.from=function(e){return e instanceof pt?e:e&&e.length?new kE(e):pt.empty};var kE=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,o){return s==0&&o==this.length?this:new e(this.values.slice(s,o))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,o,u,c){for(var d=o;d<u;d++)if(s(this.values[d],c+d)===!1)return!1},e.prototype.forEachInvertedInner=function(s,o,u,c){for(var d=o-1;d>=u;d--)if(s(this.values[d],c+d)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=tc)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=tc)return new e(s.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(pt);pt.empty=new kE([]);var T3=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,o,u){var c=this.left.length;if(s<c&&this.left.forEachInner(r,s,Math.min(o,c),u)===!1||o>c&&this.right.forEachInner(r,Math.max(s-c,0),Math.min(this.length,o)-c,u+c)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,o,u){var c=this.left.length;if(s>c&&this.right.forEachInvertedInner(r,s-c,Math.max(o,c)-c,u+c)===!1||o<c&&this.left.forEachInvertedInner(r,Math.min(s,c),o,u)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var o=this.left.length;return s<=o?this.left.slice(r,s):r>=o?this.right.slice(r-o,s-o):this.left.slice(r,o).append(this.right.slice(0,s-o))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(pt);const w3=500;class On{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,o;t&&(s=this.remapping(r,this.items.length),o=s.maps.length);let u=e.tr,c,d,h=[],m=[];return this.items.forEach((y,b)=>{if(!y.step){s||(s=this.remapping(r,b+1),o=s.maps.length),o--,m.push(y);return}if(s){m.push(new qn(y.map));let v=y.step.map(s.slice(o)),x;v&&u.maybeStep(v).doc&&(x=u.mapping.maps[u.mapping.maps.length-1],h.push(new qn(x,void 0,void 0,h.length+m.length))),o--,x&&s.appendMap(x,o)}else u.maybeStep(y.step);if(y.selection)return c=s?y.selection.map(s.slice(o)):y.selection,d=new On(this.items.slice(0,r).append(m.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:u,selection:c}}addTransform(e,t,r,s){let o=[],u=this.eventCount,c=this.items,d=!s&&c.length?c.get(c.length-1):null;for(let m=0;m<e.steps.length;m++){let y=e.steps[m].invert(e.docs[m]),b=new qn(e.mapping.maps[m],y,t),v;(v=d&&d.merge(b))&&(b=v,m?o.pop():c=c.slice(0,c.length-1)),o.push(b),t&&(u++,t=void 0),s||(d=b)}let h=u-r.depth;return h>k3&&(c=C3(c,h),u-=h),new On(c.append(o),u)}remapping(e,t){let r=new zo;return this.items.forEach((s,o)=>{let u=s.mirrorOffset!=null&&o-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,u)},e,t),r}addMaps(e){return this.eventCount==0?this:new On(this.items.append(e.map(t=>new qn(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-t),o=e.mapping,u=e.steps.length,c=this.eventCount;this.items.forEach(b=>{b.selection&&c--},s);let d=t;this.items.forEach(b=>{let v=o.getMirror(--d);if(v==null)return;u=Math.min(u,v);let x=o.maps[v];if(b.step){let E=e.steps[v].invert(e.docs[v]),w=b.selection&&b.selection.map(o.slice(d+1,v));w&&c++,r.push(new qn(x,E,w))}else r.push(new qn(x))},s);let h=[];for(let b=t;b<u;b++)h.push(new qn(o.maps[b]));let m=this.items.slice(0,s).append(h).append(r),y=new On(m,c);return y.emptyItemCount()>w3&&(y=y.compress(this.items.length-r.length)),y}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,s=[],o=0;return this.items.forEach((u,c)=>{if(c>=e)s.push(u),u.selection&&o++;else if(u.step){let d=u.step.map(t.slice(r)),h=d&&d.getMap();if(r--,h&&t.appendMap(h,r),d){let m=u.selection&&u.selection.map(t.slice(r));m&&o++;let y=new qn(h.invert(),d,m),b,v=s.length-1;(b=s.length&&s[v].merge(y))?s[v]=b:s.push(y)}}else u.map&&r--},this.items.length,0),new On(pt.from(s.reverse()),o)}}On.empty=new On(pt.empty,0);function C3(n,e){let t;return n.forEach((r,s)=>{if(r.selection&&e--==0)return t=s,!1}),n.slice(t)}class qn{constructor(e,t,r,s){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new qn(t.getMap().invert(),t,this.selection)}}}class Zr{constructor(e,t,r,s,o){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=s,this.prevComposition=o}}const k3=20;function N3(n,e,t,r){let s=t.getMeta(Ki),o;if(s)return s.historyState;t.getMeta(M3)&&(n=new Zr(n.done,n.undone,null,0,-1));let u=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(u&&u.getMeta(Ki))return u.getMeta(Ki).redo?new Zr(n.done.addTransform(t,void 0,r,ju(e)),n.undone,jx(t.mapping.maps),n.prevTime,n.prevComposition):new Zr(n.done,n.undone.addTransform(t,void 0,r,ju(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(u&&u.getMeta("addToHistory")===!1)){let c=t.getMeta("composition"),d=n.prevTime==0||!u&&n.prevComposition!=c&&(n.prevTime<(t.time||0)-r.newGroupDelay||!A3(t,n.prevRanges)),h=u?np(n.prevRanges,t.mapping):jx(t.mapping.maps);return new Zr(n.done.addTransform(t,d?e.selection.getBookmark():void 0,r,ju(e)),On.empty,h,t.time,c??n.prevComposition)}else return(o=t.getMeta("rebased"))?new Zr(n.done.rebased(t,o),n.undone.rebased(t,o),np(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new Zr(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),np(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function A3(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,s)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&s>=e[o]&&(t=!0)}),t}function jx(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,s,o,u)=>e.push(o,u));return e}function np(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let s=e.map(n[r],1),o=e.map(n[r+1],-1);s<=o&&t.push(s,o)}return t}function O3(n,e,t){let r=ju(e),s=Ki.get(e).spec.config,o=(t?n.undone:n.done).popEvent(e,r);if(!o)return null;let u=o.selection.resolve(o.transform.doc),c=(t?n.done:n.undone).addTransform(o.transform,e.selection.getBookmark(),s,r),d=new Zr(t?c:o.remaining,t?o.remaining:c,null,0,-1);return o.transform.setSelection(u).setMeta(Ki,{redo:t,historyState:d})}let rp=!1,zx=null;function ju(n){let e=n.plugins;if(zx!=e){rp=!1,zx=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){rp=!0;break}}return rp}const Ki=new un("history"),M3=new un("closeHistory");function R3(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new wt({key:Ki,state:{init(){return new Zr(On.empty,On.empty,null,0,-1)},apply(e,t,r){return N3(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,s=r=="historyUndo"?AE:r=="historyRedo"?OE:null;return s?(t.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function NE(n,e){return(t,r)=>{let s=Ki.getState(t);if(!s||(n?s.undone:s.done).eventCount==0)return!1;if(r){let o=O3(s,t,n);o&&r(e?o.scrollIntoView():o)}return!0}}const AE=NE(!1,!0),OE=NE(!0,!0),D3=_t.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>AE(n,e),redo:()=>({state:n,dispatch:e})=>OE(n,e)}},addProseMirrorPlugins(){return[R3(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),j3=Jt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",gt(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{const{selection:t}=e,{$from:r,$to:s}=t,o=n();return r.parentOffset===0?o.insertContentAt({from:Math.max(r.pos-1,0),to:s.pos},{type:this.name}):JD(t)?o.insertContentAt(s.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({tr:u,dispatch:c})=>{var d;if(c){const{$to:h}=u.selection,m=h.end();if(h.nodeAfter)h.nodeAfter.isTextblock?u.setSelection(he.create(u.doc,h.pos+1)):h.nodeAfter.isBlock?u.setSelection(le.create(u.doc,h.pos)):u.setSelection(he.create(u.doc,h.pos));else{const y=(d=h.parent.type.contentMatch.defaultType)===null||d===void 0?void 0:d.create();y&&(u.insert(m,y),u.setSelection(he.create(u.doc,m+1)))}u.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Nj({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),z3=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,L3=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,B3=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,_3=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,H3=Yn.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",gt(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[nl({find:z3,type:this.type}),nl({find:B3,type:this.type})]},addPasteRules(){return[Wi({find:L3,type:this.type}),Wi({find:_3,type:this.type})]}}),ME=Jt.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",gt(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),U3="listItem",Lx="textStyle",Bx=/^(\d+)\.\s$/,RE=Jt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:null,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",gt(this.options.HTMLAttributes,t),0]:["ol",gt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(U3,this.editor.getAttributes(Lx)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=Po({find:Bx,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Po({find:Bx,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Lx)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),P3=Jt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",gt(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),q3=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,I3=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,V3=Yn.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",gt(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[nl({find:q3,type:this.type})]},addPasteRules(){return[Wi({find:I3,type:this.type})]}}),F3=Jt.create({name:"text",group:"inline"}),$3=_t.create({name:"starterKit",addExtensions(){const n=[];return this.options.bold!==!1&&n.push(t3.configure(this.options.bold)),this.options.blockquote!==!1&&n.push(Xj.configure(this.options.blockquote)),this.options.bulletList!==!1&&n.push(CE.configure(this.options.bulletList)),this.options.code!==!1&&n.push(s3.configure(this.options.code)),this.options.codeBlock!==!1&&n.push(a3.configure(this.options.codeBlock)),this.options.document!==!1&&n.push(u3.configure(this.options.document)),this.options.dropcursor!==!1&&n.push(d3.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&n.push(v3.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&n.push(S3.configure(this.options.hardBreak)),this.options.heading!==!1&&n.push(E3.configure(this.options.heading)),this.options.history!==!1&&n.push(D3.configure(this.options.history)),this.options.horizontalRule!==!1&&n.push(j3.configure(this.options.horizontalRule)),this.options.italic!==!1&&n.push(H3.configure(this.options.italic)),this.options.listItem!==!1&&n.push(ME.configure(this.options.listItem)),this.options.orderedList!==!1&&n.push(RE.configure(this.options.orderedList)),this.options.paragraph!==!1&&n.push(P3.configure(this.options.paragraph)),this.options.strike!==!1&&n.push(V3.configure(this.options.strike)),this.options.text!==!1&&n.push(F3.configure(this.options.text)),n}}),G3=Yn.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",gt(this.options.HTMLAttributes,n),0]},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),K3="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Y3="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",rl=(n,e)=>{for(const t in e)n[t]=e[t];return n},$p="numeric",Gp="ascii",Kp="alpha",To="asciinumeric",xo="alphanumeric",Yp="domain",DE="emoji",J3="scheme",X3="slashscheme",ip="whitespace";function Q3(n,e){return n in e||(e[n]=[]),e[n]}function Pi(n,e,t){e[$p]&&(e[To]=!0,e[xo]=!0),e[Gp]&&(e[To]=!0,e[Kp]=!0),e[To]&&(e[xo]=!0),e[Kp]&&(e[xo]=!0),e[xo]&&(e[Yp]=!0),e[DE]&&(e[Yp]=!0);for(const r in e){const s=Q3(r,t);s.indexOf(n)<0&&s.push(n)}}function Z3(n,e){const t={};for(const r in e)e[r].indexOf(n)>=0&&(t[r]=!0);return t}function $t(n=null){this.j={},this.jr=[],this.jd=null,this.t=n}$t.groups={};$t.prototype={accepts(){return!!this.t},go(n){const e=this,t=e.j[n];if(t)return t;for(let r=0;r<e.jr.length;r++){const s=e.jr[r][0],o=e.jr[r][1];if(o&&s.test(n))return o}return e.jd},has(n,e=!1){return e?n in this.j:!!this.go(n)},ta(n,e,t,r){for(let s=0;s<n.length;s++)this.tt(n[s],e,t,r)},tr(n,e,t,r){r=r||$t.groups;let s;return e&&e.j?s=e:(s=new $t(e),t&&r&&Pi(e,t,r)),this.jr.push([n,s]),s},ts(n,e,t,r){let s=this;const o=n.length;if(!o)return s;for(let u=0;u<o-1;u++)s=s.tt(n[u]);return s.tt(n[o-1],e,t,r)},tt(n,e,t,r){r=r||$t.groups;const s=this;if(e&&e.j)return s.j[n]=e,e;const o=e;let u,c=s.go(n);if(c?(u=new $t,rl(u.j,c.j),u.jr.push.apply(u.jr,c.jr),u.jd=c.jd,u.t=c.t):u=new $t,o){if(r)if(u.t&&typeof u.t=="string"){const d=rl(Z3(u.t,r),t);Pi(o,d,r)}else t&&Pi(o,t,r);u.t=o}return s.j[n]=u,u}};const ve=(n,e,t,r,s)=>n.ta(e,t,r,s),Ze=(n,e,t,r,s)=>n.tr(e,t,r,s),_x=(n,e,t,r,s)=>n.ts(e,t,r,s),Y=(n,e,t,r,s)=>n.tt(e,t,r,s),gr="WORD",Jp="UWORD",jE="ASCIINUMERICAL",zE="ALPHANUMERICAL",qo="LOCALHOST",Xp="TLD",Qp="UTLD",zu="SCHEME",Gs="SLASH_SCHEME",Lm="NUM",Zp="WS",Bm="NL",wo="OPENBRACE",Co="CLOSEBRACE",nc="OPENBRACKET",rc="CLOSEBRACKET",ic="OPENPAREN",sc="CLOSEPAREN",lc="OPENANGLEBRACKET",oc="CLOSEANGLEBRACKET",ac="FULLWIDTHLEFTPAREN",uc="FULLWIDTHRIGHTPAREN",cc="LEFTCORNERBRACKET",fc="RIGHTCORNERBRACKET",dc="LEFTWHITECORNERBRACKET",hc="RIGHTWHITECORNERBRACKET",pc="FULLWIDTHLESSTHAN",mc="FULLWIDTHGREATERTHAN",gc="AMPERSAND",yc="APOSTROPHE",bc="ASTERISK",Wr="AT",xc="BACKSLASH",vc="BACKTICK",Sc="CARET",ti="COLON",_m="COMMA",Ec="DOLLAR",In="DOT",Tc="EQUALS",Hm="EXCLAMATION",vn="HYPHEN",ko="PERCENT",wc="PIPE",Cc="PLUS",kc="POUND",No="QUERY",Um="QUOTE",LE="FULLWIDTHMIDDLEDOT",Pm="SEMI",Vn="SLASH",Ao="TILDE",Nc="UNDERSCORE",BE="EMOJI",Ac="SYM";var _E=Object.freeze({__proto__:null,ALPHANUMERICAL:zE,AMPERSAND:gc,APOSTROPHE:yc,ASCIINUMERICAL:jE,ASTERISK:bc,AT:Wr,BACKSLASH:xc,BACKTICK:vc,CARET:Sc,CLOSEANGLEBRACKET:oc,CLOSEBRACE:Co,CLOSEBRACKET:rc,CLOSEPAREN:sc,COLON:ti,COMMA:_m,DOLLAR:Ec,DOT:In,EMOJI:BE,EQUALS:Tc,EXCLAMATION:Hm,FULLWIDTHGREATERTHAN:mc,FULLWIDTHLEFTPAREN:ac,FULLWIDTHLESSTHAN:pc,FULLWIDTHMIDDLEDOT:LE,FULLWIDTHRIGHTPAREN:uc,HYPHEN:vn,LEFTCORNERBRACKET:cc,LEFTWHITECORNERBRACKET:dc,LOCALHOST:qo,NL:Bm,NUM:Lm,OPENANGLEBRACKET:lc,OPENBRACE:wo,OPENBRACKET:nc,OPENPAREN:ic,PERCENT:ko,PIPE:wc,PLUS:Cc,POUND:kc,QUERY:No,QUOTE:Um,RIGHTCORNERBRACKET:fc,RIGHTWHITECORNERBRACKET:hc,SCHEME:zu,SEMI:Pm,SLASH:Vn,SLASH_SCHEME:Gs,SYM:Ac,TILDE:Ao,TLD:Xp,UNDERSCORE:Nc,UTLD:Qp,UWORD:Jp,WORD:gr,WS:Zp});const pr=/[a-z]/,mo=new RegExp("\\p{L}","u"),sp=new RegExp("\\p{Emoji}","u"),mr=/\d/,lp=/\s/,Hx="\r",op=`
`,W3="️",e4="‍",ap="￼";let vu=null,Su=null;function t4(n=[]){const e={};$t.groups=e;const t=new $t;vu==null&&(vu=Ux(K3)),Su==null&&(Su=Ux(Y3)),Y(t,"'",yc),Y(t,"{",wo),Y(t,"}",Co),Y(t,"[",nc),Y(t,"]",rc),Y(t,"(",ic),Y(t,")",sc),Y(t,"<",lc),Y(t,">",oc),Y(t,"（",ac),Y(t,"）",uc),Y(t,"「",cc),Y(t,"」",fc),Y(t,"『",dc),Y(t,"』",hc),Y(t,"＜",pc),Y(t,"＞",mc),Y(t,"&",gc),Y(t,"*",bc),Y(t,"@",Wr),Y(t,"`",vc),Y(t,"^",Sc),Y(t,":",ti),Y(t,",",_m),Y(t,"$",Ec),Y(t,".",In),Y(t,"=",Tc),Y(t,"!",Hm),Y(t,"-",vn),Y(t,"%",ko),Y(t,"|",wc),Y(t,"+",Cc),Y(t,"#",kc),Y(t,"?",No),Y(t,'"',Um),Y(t,"/",Vn),Y(t,";",Pm),Y(t,"~",Ao),Y(t,"_",Nc),Y(t,"\\",xc),Y(t,"・",LE);const r=Ze(t,mr,Lm,{[$p]:!0});Ze(r,mr,r);const s=Ze(r,pr,jE,{[To]:!0}),o=Ze(r,mo,zE,{[xo]:!0}),u=Ze(t,pr,gr,{[Gp]:!0});Ze(u,mr,s),Ze(u,pr,u),Ze(s,mr,s),Ze(s,pr,s);const c=Ze(t,mo,Jp,{[Kp]:!0});Ze(c,pr),Ze(c,mr,o),Ze(c,mo,c),Ze(o,mr,o),Ze(o,pr),Ze(o,mo,o);const d=Y(t,op,Bm,{[ip]:!0}),h=Y(t,Hx,Zp,{[ip]:!0}),m=Ze(t,lp,Zp,{[ip]:!0});Y(t,ap,m),Y(h,op,d),Y(h,ap,m),Ze(h,lp,m),Y(m,Hx),Y(m,op),Ze(m,lp,m),Y(m,ap,m);const y=Ze(t,sp,BE,{[DE]:!0});Y(y,"#"),Ze(y,sp,y),Y(y,W3,y);const b=Y(y,e4);Y(b,"#"),Ze(b,sp,y);const v=[[pr,u],[mr,s]],x=[[pr,null],[mo,c],[mr,o]];for(let E=0;E<vu.length;E++)Jr(t,vu[E],Xp,gr,v);for(let E=0;E<Su.length;E++)Jr(t,Su[E],Qp,Jp,x);Pi(Xp,{tld:!0,ascii:!0},e),Pi(Qp,{utld:!0,alpha:!0},e),Jr(t,"file",zu,gr,v),Jr(t,"mailto",zu,gr,v),Jr(t,"http",Gs,gr,v),Jr(t,"https",Gs,gr,v),Jr(t,"ftp",Gs,gr,v),Jr(t,"ftps",Gs,gr,v),Pi(zu,{scheme:!0,ascii:!0},e),Pi(Gs,{slashscheme:!0,ascii:!0},e),n=n.sort((E,w)=>E[0]>w[0]?1:-1);for(let E=0;E<n.length;E++){const w=n[E][0],A=n[E][1]?{[J3]:!0}:{[X3]:!0};w.indexOf("-")>=0?A[Yp]=!0:pr.test(w)?mr.test(w)?A[To]=!0:A[Gp]=!0:A[$p]=!0,_x(t,w,w,A)}return _x(t,"localhost",qo,{ascii:!0}),t.jd=new $t(Ac),{start:t,tokens:rl({groups:e},_E)}}function HE(n,e){const t=n4(e.replace(/[A-Z]/g,c=>c.toLowerCase())),r=t.length,s=[];let o=0,u=0;for(;u<r;){let c=n,d=null,h=0,m=null,y=-1,b=-1;for(;u<r&&(d=c.go(t[u]));)c=d,c.accepts()?(y=0,b=0,m=c):y>=0&&(y+=t[u].length,b++),h+=t[u].length,o+=t[u].length,u++;o-=y,u-=b,h-=y,s.push({t:m.t,v:e.slice(o-h,o),s:o-h,e:o})}return s}function n4(n){const e=[],t=n.length;let r=0;for(;r<t;){let s=n.charCodeAt(r),o,u=s<55296||s>56319||r+1===t||(o=n.charCodeAt(r+1))<56320||o>57343?n[r]:n.slice(r,r+2);e.push(u),r+=u.length}return e}function Jr(n,e,t,r,s){let o;const u=e.length;for(let c=0;c<u-1;c++){const d=e[c];n.j[d]?o=n.j[d]:(o=new $t(r),o.jr=s.slice(),n.j[d]=o),n=o}return o=new $t(t),o.jr=s.slice(),n.j[e[u-1]]=o,o}function Ux(n){const e=[],t=[];let r=0,s="0123456789";for(;r<n.length;){let o=0;for(;s.indexOf(n[r+o])>=0;)o++;if(o>0){e.push(t.join(""));for(let u=parseInt(n.substring(r,r+o),10);u>0;u--)t.pop();r+=o}else t.push(n[r]),r++}return e}const Io={defaultProtocol:"http",events:null,format:Px,formatHref:Px,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function qm(n,e=null){let t=rl({},Io);n&&(t=rl(t,n instanceof qm?n.o:n));const r=t.ignoreTags,s=[];for(let o=0;o<r.length;o++)s.push(r[o].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=s}qm.prototype={o:Io,ignoreTags:[],defaultRender(n){return n},check(n){return this.get("validate",n.toString(),n)},get(n,e,t){const r=e!=null;let s=this.o[n];return s&&(typeof s=="object"?(s=t.t in s?s[t.t]:Io[n],typeof s=="function"&&r&&(s=s(e,t))):typeof s=="function"&&r&&(s=s(e,t.t,t)),s)},getObj(n,e,t){let r=this.o[n];return typeof r=="function"&&e!=null&&(r=r(e,t.t,t)),r},render(n){const e=n.render(this);return(this.get("render",null,n)||this.defaultRender)(e,n.t,n)}};function Px(n){return n}function UE(n,e){this.t="token",this.v=n,this.tk=e}UE.prototype={isLink:!1,toString(){return this.v},toHref(n){return this.toString()},toFormattedString(n){const e=this.toString(),t=n.get("truncate",e,this),r=n.get("format",e,this);return t&&r.length>t?r.substring(0,t)+"…":r},toFormattedHref(n){return n.get("formatHref",this.toHref(n.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(n=Io.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(n),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(n){return{type:this.t,value:this.toFormattedString(n),isLink:this.isLink,href:this.toFormattedHref(n),start:this.startIndex(),end:this.endIndex()}},validate(n){return n.get("validate",this.toString(),this)},render(n){const e=this,t=this.toHref(n.get("defaultProtocol")),r=n.get("formatHref",t,this),s=n.get("tagName",t,e),o=this.toFormattedString(n),u={},c=n.get("className",t,e),d=n.get("target",t,e),h=n.get("rel",t,e),m=n.getObj("attributes",t,e),y=n.getObj("events",t,e);return u.href=r,c&&(u.class=c),d&&(u.target=d),h&&(u.rel=h),m&&rl(u,m),{tagName:s,attributes:u,content:o,eventListeners:y}}};function ef(n,e){class t extends UE{constructor(s,o){super(s,o),this.t=n}}for(const r in e)t.prototype[r]=e[r];return t.t=n,t}const qx=ef("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Ix=ef("text"),r4=ef("nl"),Eu=ef("url",{isLink:!0,toHref(n=Io.defaultProtocol){return this.hasProtocol()?this.v:`${n}://${this.v}`},hasProtocol(){const n=this.tk;return n.length>=2&&n[0].t!==qo&&n[1].t===ti}}),xn=n=>new $t(n);function i4({groups:n}){const e=n.domain.concat([gc,bc,Wr,xc,vc,Sc,Ec,Tc,vn,Lm,ko,wc,Cc,kc,Vn,Ac,Ao,Nc]),t=[yc,ti,_m,In,Hm,ko,No,Um,Pm,lc,oc,wo,Co,rc,nc,ic,sc,ac,uc,cc,fc,dc,hc,pc,mc],r=[gc,yc,bc,xc,vc,Sc,Ec,Tc,vn,wo,Co,ko,wc,Cc,kc,No,Vn,Ac,Ao,Nc],s=xn(),o=Y(s,Ao);ve(o,r,o),ve(o,n.domain,o);const u=xn(),c=xn(),d=xn();ve(s,n.domain,u),ve(s,n.scheme,c),ve(s,n.slashscheme,d),ve(u,r,o),ve(u,n.domain,u);const h=Y(u,Wr);Y(o,Wr,h),Y(c,Wr,h),Y(d,Wr,h);const m=Y(o,In);ve(m,r,o),ve(m,n.domain,o);const y=xn();ve(h,n.domain,y),ve(y,n.domain,y);const b=Y(y,In);ve(b,n.domain,y);const v=xn(qx);ve(b,n.tld,v),ve(b,n.utld,v),Y(h,qo,v);const x=Y(y,vn);Y(x,vn,x),ve(x,n.domain,y),ve(v,n.domain,y),Y(v,In,b),Y(v,vn,x);const E=Y(v,ti);ve(E,n.numeric,qx);const w=Y(u,vn),k=Y(u,In);Y(w,vn,w),ve(w,n.domain,u),ve(k,r,o),ve(k,n.domain,u);const A=xn(Eu);ve(k,n.tld,A),ve(k,n.utld,A),ve(A,n.domain,u),ve(A,r,o),Y(A,In,k),Y(A,vn,w),Y(A,Wr,h);const j=Y(A,ti),I=xn(Eu);ve(j,n.numeric,I);const U=xn(Eu),X=xn();ve(U,e,U),ve(U,t,X),ve(X,e,U),ve(X,t,X),Y(A,Vn,U),Y(I,Vn,U);const Q=Y(c,ti),ie=Y(d,ti),J=Y(ie,Vn),Ne=Y(J,Vn);ve(c,n.domain,u),Y(c,In,k),Y(c,vn,w),ve(d,n.domain,u),Y(d,In,k),Y(d,vn,w),ve(Q,n.domain,U),Y(Q,Vn,U),Y(Q,No,U),ve(Ne,n.domain,U),ve(Ne,e,U),Y(Ne,Vn,U);const ze=[[wo,Co],[nc,rc],[ic,sc],[lc,oc],[ac,uc],[cc,fc],[dc,hc],[pc,mc]];for(let ge=0;ge<ze.length;ge++){const[Ct,Ht]=ze[ge],ue=Y(U,Ct);Y(X,Ct,ue),Y(ue,Ht,U);const B=xn(Eu);ve(ue,e,B);const G=xn();ve(ue,t),ve(B,e,B),ve(B,t,G),ve(G,e,B),ve(G,t,G),Y(B,Ht,U),Y(G,Ht,U)}return Y(s,qo,A),Y(s,Bm,r4),{start:s,tokens:_E}}function s4(n,e,t){let r=t.length,s=0,o=[],u=[];for(;s<r;){let c=n,d=null,h=null,m=0,y=null,b=-1;for(;s<r&&!(d=c.go(t[s].t));)u.push(t[s++]);for(;s<r&&(h=d||c.go(t[s].t));)d=null,c=h,c.accepts()?(b=0,y=c):b>=0&&b++,s++,m++;if(b<0)s-=m,s<r&&(u.push(t[s]),s++);else{u.length>0&&(o.push(up(Ix,e,u)),u=[]),s-=b,m-=b;const v=y.t,x=t.slice(s-m,s);o.push(up(v,e,x))}}return u.length>0&&o.push(up(Ix,e,u)),o}function up(n,e,t){const r=t[0].s,s=t[t.length-1].e,o=e.slice(r,s);return new n(o,t)}const l4=typeof console<"u"&&console&&console.warn||(()=>{}),o4="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Ve={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function a4(){return $t.groups={},Ve.scanner=null,Ve.parser=null,Ve.tokenQueue=[],Ve.pluginQueue=[],Ve.customSchemes=[],Ve.initialized=!1,Ve}function Vx(n,e=!1){if(Ve.initialized&&l4(`linkifyjs: already initialized - will not register custom scheme "${n}" ${o4}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(n))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Ve.customSchemes.push([n,e])}function u4(){Ve.scanner=t4(Ve.customSchemes);for(let n=0;n<Ve.tokenQueue.length;n++)Ve.tokenQueue[n][1]({scanner:Ve.scanner});Ve.parser=i4(Ve.scanner.tokens);for(let n=0;n<Ve.pluginQueue.length;n++)Ve.pluginQueue[n][1]({scanner:Ve.scanner,parser:Ve.parser});return Ve.initialized=!0,Ve}function Im(n){return Ve.initialized||u4(),s4(Ve.parser.start,n,HE(Ve.scanner.start,n))}Im.scan=HE;function PE(n,e=null,t=null){if(e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const r=new qm(t),s=Im(n),o=[];for(let u=0;u<s.length;u++){const c=s[u];c.isLink&&(!e||c.t===e)&&r.check(c)&&o.push(c.toFormattedObject(r))}return o}function c4(n){return n.length===1?n[0].isLink:n.length===3&&n[1].isLink?["()","[]"].includes(n[0].value+n[2].value):!1}function f4(n){return new wt({key:new un("autolink"),appendTransaction:(e,t,r)=>{const s=e.some(h=>h.docChanged)&&!t.doc.eq(r.doc),o=e.some(h=>h.getMeta("preventAutolink"));if(!s||o)return;const{tr:u}=r,c=UD(t.doc,[...e]);if(KD(c).forEach(({newRange:h})=>{const m=qD(r.doc,h,v=>v.isTextblock);let y,b;if(m.length>1?(y=m[0],b=r.doc.textBetween(y.pos,y.pos+y.node.nodeSize,void 0," ")):m.length&&r.doc.textBetween(h.from,h.to," "," ").endsWith(" ")&&(y=m[0],b=r.doc.textBetween(y.pos,h.to,void 0," ")),y&&b){const v=b.split(" ").filter(k=>k!=="");if(v.length<=0)return!1;const x=v[v.length-1],E=y.pos+b.lastIndexOf(x);if(!x)return!1;const w=Im(x).map(k=>k.toObject(n.defaultProtocol));if(!c4(w))return!1;w.filter(k=>k.isLink).map(k=>({...k,from:E+k.start+1,to:E+k.end+1})).filter(k=>r.schema.marks.code?!r.doc.rangeHasMark(k.from,k.to,r.schema.marks.code):!0).filter(k=>n.validate(k.value)).filter(k=>n.shouldAutoLink(k.value)).forEach(k=>{Mm(k.from,k.to,r.doc).some(A=>A.mark.type===n.type)||u.addMark(k.from,k.to,n.type.create({href:k.href}))})}}),!!u.steps.length)return u}})}function d4(n){return new wt({key:new un("handleClickLink"),props:{handleClick:(e,t,r)=>{var s,o;if(r.button!==0||!e.editable)return!1;let u=r.target;const c=[];for(;u.nodeName!=="DIV";)c.push(u),u=u.parentNode;if(!c.find(b=>b.nodeName==="A"))return!1;const d=EE(e.state,n.type.name),h=r.target,m=(s=h==null?void 0:h.href)!==null&&s!==void 0?s:d.href,y=(o=h==null?void 0:h.target)!==null&&o!==void 0?o:d.target;return h&&m?(window.open(m,y),!0):!1}}})}function h4(n){return new wt({key:new un("handlePasteLink"),props:{handlePaste:(e,t,r)=>{const{state:s}=e,{selection:o}=s,{empty:u}=o;if(u)return!1;let c="";r.content.forEach(h=>{c+=h.textContent});const d=PE(c,{defaultProtocol:n.defaultProtocol}).find(h=>h.isLink&&h.value===c);return!c||!d?!1:n.editor.commands.setMark(n.type,{href:d.href})}}})}const p4=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function ji(n,e){const t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const s=typeof r=="string"?r:r.scheme;s&&t.push(s)}),!n||n.replace(p4,"").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const m4=Yn.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(n=>{if(typeof n=="string"){Vx(n);return}Vx(n.scheme,n.optionalSlashes)})},onDestroy(){a4()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(n,e)=>!!ji(n,e.protocols),validate:n=>!!n,shouldAutoLink:n=>!!n}},addAttributes(){return{href:{default:null,parseHTML(n){return n.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:n=>{const e=n.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:t=>!!ji(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:n}){return this.options.isAllowedUri(n.href,{defaultValidate:e=>!!ji(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",gt(this.options.HTMLAttributes,n),0]:["a",gt(this.options.HTMLAttributes,{...n,href:""}),0]},addCommands(){return{setLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!ji(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,n).setMeta("preventAutolink",!0).run():!1},toggleLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!ji(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,n,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:n})=>n().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Wi({find:n=>{const e=[];if(n){const{protocols:t,defaultProtocol:r}=this.options,s=PE(n).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:u=>!!ji(u,t),protocols:t,defaultProtocol:r}));s.length&&s.forEach(o=>e.push({text:o.value,data:{href:o.href},index:o.start}))}return e},type:this.type,getAttributes:n=>{var e;return{href:(e=n.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const n=[],{protocols:e,defaultProtocol:t}=this.options;return this.options.autolink&&n.push(f4({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:s=>!!ji(s,e),protocols:e,defaultProtocol:t}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&n.push(d4({type:this.type})),this.options.linkOnPaste&&n.push(h4({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),n}});function qE({content:n,setContent:e}){const t=$j({extensions:[$3,G3,m4.configure({openOnClick:!1}),CE,RE,ME],content:n,onUpdate:({editor:s})=>{e(s.getHTML())}});if(!t)return null;const r=()=>{const s=window.prompt("Enter the link URL");s&&t.chain().focus().extendMarkRange("link").setLink({href:s}).run()};return T.jsxs("div",{className:"border rounded bg-white p-2",children:[T.jsxs("div",{className:"flex gap-2 mb-2 border-b pb-2 flex-wrap",children:[T.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBold().run(),className:t.isActive("bold")?"font-bold text-red-700":"",children:"Bold"}),T.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleItalic().run(),className:t.isActive("italic")?"italic text-red-700":"",children:"Italic"}),T.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleUnderline().run(),className:t.isActive("underline")?"underline text-red-700":"",children:"Underline"}),T.jsx("button",{type:"button",onClick:r,className:"text-blue-700 underline",children:"Link"}),T.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBulletList().run(),className:t.isActive("bulletList")?"text-red-700 font-semibold":"",children:"Bullet"}),T.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleOrderedList().run(),className:t.isActive("orderedList")?"text-red-700 font-semibold":"",children:"Numbered"})]}),T.jsx(Lj,{editor:t,className:"[&>p]:mb-4"})]})}function g4(){const{user:n,token:e}=Dn(),t=Cn(),[r,s]=R.useState(""),[o,u]=R.useState(""),[c,d]=R.useState([]),[h,m]=R.useState(""),[y,b]=R.useState([""]),[v,x]=R.useState(""),[E,w]=R.useState(""),[k,A]=R.useState(!1),j=["teologji","filozofi","kulturë","politikë","histori"],I="unsigned_preset",U="da6mutfiu",X=async Q=>{var Ne,ze;Q.preventDefault(),w("");const ie=[...c,...h.split(",").map(ge=>ge.trim().toLowerCase()).filter(ge=>ge!=="")];let J=y;if(y[0]instanceof File)try{A(!0);const ge=new FormData;ge.append("file",y[0]),ge.append("upload_preset",I),ge.append("folder","posts"),J=[(await de.post(`https://api.cloudinary.com/v1_1/${U}/image/upload`,ge)).data.secure_url],A(!1)}catch(ge){console.error(ge),w("Failed to upload media."),A(!1);return}try{const ge={title:r,content:v,tags:ie,media:J};(n==null?void 0:n.role)==="admin"&&o.trim()&&(ge.authorName=o.trim());const Ct=await de.post("https://udhekryqi.com/api/posts",ge,{headers:{Authorization:`Bearer ${e}`}});w("Post created!"),t(`/posts/${Ct.data._id}`)}catch(ge){console.error(ge),w(((ze=(Ne=ge.response)==null?void 0:Ne.data)==null?void 0:ze.message)||"Failed to create post")}};return!n||n.role!=="admin"?T.jsx("p",{className:"text-center mt-10 text-red-600",children:"Hyrja e ndaluar."}):T.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[T.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Shkruaj një Artikull"}),T.jsxs("form",{onSubmit:X,className:"space-y-6",children:[T.jsx("input",{type:"text",placeholder:"Titulli",value:r,onChange:Q=>s(Q.target.value),className:"w-full border px-3 py-2 rounded",required:!0}),(n==null?void 0:n.role)==="admin"&&T.jsx("input",{type:"text",placeholder:"Emri i autorit",value:o,onChange:Q=>u(Q.target.value),className:"w-full border px-3 py-2 rounded"}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium",children:"Tags"}),T.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:j.map(Q=>T.jsxs("label",{className:"flex items-center gap-1",children:[T.jsx("input",{type:"checkbox",value:Q,checked:c.includes(Q),onChange:ie=>d(ie.target.checked?[...c,Q]:c.filter(J=>J!==Q))}),Q]},Q))}),T.jsx("input",{type:"text",placeholder:"Shto tjera tags, të ndarë me presje",value:h,onChange:Q=>m(Q.target.value),className:"w-full border px-3 py-2 rounded"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium",children:"Foto"}),T.jsxs("div",{className:"flex gap-4 mb-3",children:[T.jsxs("label",{className:"flex items-center gap-2",children:[T.jsx("input",{type:"radio",name:"mediaMethod",value:"url",checked:typeof y[0]=="string",onChange:()=>b([""])}),"URL"]}),T.jsxs("label",{className:"flex items-center gap-2",children:[T.jsx("input",{type:"radio",name:"mediaMethod",value:"upload",checked:y[0]instanceof File||y[0]===null,onChange:()=>b([null])}),"Ngarko Foto"]})]}),typeof y[0]=="string"&&T.jsx("input",{type:"text",placeholder:"URL",value:y[0],onChange:Q=>b([Q.target.value]),className:"w-full border px-3 py-2 rounded"}),(y[0]===null||y[0]instanceof File)&&T.jsxs("div",{children:[T.jsx("label",{htmlFor:"file-upload",className:"inline-block cursor-pointer bg-gray-800 text-white px-4 py-2 rounded hover:bg-black",children:y[0]instanceof File?y[0].name:"Choose File"}),T.jsx("input",{id:"file-upload",type:"file",accept:"image/*",onChange:Q=>b([Q.target.files[0]]),className:"hidden"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium",children:"Përmbajtja"}),T.jsx(qE,{content:v,setContent:x})]}),T.jsx("button",{type:"submit",disabled:k,className:"bg-black text-white px-6 py-2 rounded hover:bg-gray-900 disabled:opacity-50",children:k?"Uploading...":"Publiko"}),E&&T.jsx("p",{className:"mt-4 text-sm text-center text-red-600",children:E})]})]})}const cp=12;function y4(){const{user:n}=Dn(),[e,t]=R.useState([]),[r,s]=R.useState(1),o=Cn();R.useEffect(()=>{n&&(async()=>{try{const v=(await de.get("https://udhekryqi.com/api/posts")).data.filter(x=>{var E;return((E=x.author)==null?void 0:E._id)===n.id});t(v)}catch(b){console.error("Failed to fetch posts:",b)}})()},[n]);const u=async()=>{if(window.confirm("Are you sure you want to delete your account? This cannot be undone."))try{const b=localStorage.getItem("token");await de.delete(`https://udhekryqi.com/api/auth/user/${n.id}?deletePosts=true`,{headers:{Authorization:`Bearer ${b}`}}),localStorage.removeItem("token"),localStorage.removeItem("user"),o("/"),window.location.reload()}catch(b){console.error("Failed to delete account:",b),alert("Account deletion failed. Please try again.")}},c=async y=>{if(confirm("Delete this post?"))try{await de.delete(`https://udhekryqi.com/api/posts/${y}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),t(v=>v.filter(x=>x._id!==y))}catch(v){alert("Error deleting post."),console.error(v)}},d=(y,b=90)=>{const v=y.replace(/<[^>]+>/g,"").replace(/\s+/g," ").trim();return v.length>b?v.slice(0,b)+"...":v},h=Math.ceil(e.length/cp),m=e.slice((r-1)*cp,r*cp);return!n||n.role!=="admin"?T.jsx("p",{className:"text-center mt-10 text-red-600",children:"Access denied."}):T.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[T.jsxs("div",{className:"mb-6",children:[T.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Mirësevjen, ",n.name]}),T.jsxs("p",{className:"text-gray-700 mb-4",children:["Artikuj të publikuar: ",e.length]}),T.jsxs("div",{className:"flex gap-4 flex-wrap",children:[T.jsx(Te,{to:"/admin/new-post",className:"bg-black text-white px-4 py-2 rounded hover:bg-gray-800",children:"Krijo artikull"}),T.jsx(Te,{to:"/admin/edit-account",className:"border px-4 py-2 rounded hover:bg-gray-100",children:"Ndrysho të dhënat e llogarisë"}),T.jsx("button",{onClick:u,className:"border border-red-600 text-red-600 px-4 py-2 rounded hover:bg-red-50",children:"Fshij llogarinë"})]})]}),T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:m.map(y=>{var b,v;return T.jsxs("div",{className:"group border rounded overflow-hidden bg-white shadow-sm hover:shadow-md transition relative",children:[T.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 z-10",children:[T.jsx(Te,{to:`/edit-post/${y._id}`,className:"text-xs",children:"✏️"}),T.jsx("button",{onClick:()=>c(y._id),className:"text-xs",children:"❌"})]}),T.jsxs(Te,{to:`/posts/${y._id}`,children:[((b=y.media)==null?void 0:b[0])&&T.jsx("img",{src:y.media[0],alt:y.title,className:"h-48 w-full object-cover"}),T.jsxs("div",{className:"p-4 space-y-2",children:[T.jsx("h3",{className:"text-lg font-bold group-hover:underline",children:y.title}),T.jsx("p",{className:"text-xs uppercase text-gray-500 font-semibold",children:((v=y.author)==null?void 0:v.name)||y.authorName}),T.jsx("p",{className:"text-sm text-gray-600 break-words",children:d(y.content)})]})]})]},y._id)})}),h>1&&T.jsx("div",{className:"flex justify-center mt-8 space-x-2",children:Array.from({length:h},(y,b)=>T.jsx("button",{onClick:()=>s(b+1),className:`px-3 py-1 rounded ${r===b+1?"bg-black text-white":"bg-gray-200 text-gray-800"}`,children:b+1},b+1))})]})}function Fx(){const{user:n,login:e}=Dn(),[t,r]=R.useState((n==null?void 0:n.name)||""),[s,o]=R.useState(""),[u,c]=R.useState(""),[d,h]=R.useState(null),[m,y]=R.useState(""),[b,v]=R.useState(!1),x=()=>{h(null),o(""),c(""),r((n==null?void 0:n.name)||""),y(""),v(!1)},E=async()=>{var A,j;if(y(""),v(!1),d==="password"){if(!s){y("Password cannot be empty.");return}if(s!==u){y("Passwords do not match.");return}}const w=localStorage.getItem("token"),k={};d==="name"&&(k.name=t),d==="password"&&s&&(k.password=s);try{const I=await de.put(`https://udhekryqi.com/api/auth/user/${n.id}`,k,{headers:{Authorization:`Bearer ${w}`}});e(I.data.user,w),v(!0),h(null),o(""),c("")}catch(I){console.error(I),y(((j=(A=I.response)==null?void 0:A.data)==null?void 0:j.message)||"Update failed.")}};return n?T.jsxs("div",{className:"max-w-lg mx-auto mt-10 p-6 border rounded shadow-sm space-y-6",children:[T.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Ndrysho Llogarinë"}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium",children:"Emri"}),d==="name"?T.jsxs("div",{className:"flex gap-2",children:[T.jsx("input",{type:"text",value:t,onChange:w=>r(w.target.value),className:"flex-1 border px-3 py-2 rounded"}),T.jsx("button",{className:"bg-green-600 text-white px-3 py-1 rounded",onClick:E,children:"Ruaj"}),T.jsx("button",{className:"bg-gray-400 text-white px-3 py-1 rounded",onClick:x,children:"Anullo"})]}):T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("p",{children:n.name}),T.jsx("button",{className:"text-blue-600 hover:underline",onClick:()=>h("name"),children:"Ndrysho"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium",children:"Email"}),T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("p",{children:n.email}),T.jsx("span",{className:"text-gray-500 text-sm italic",children:"I pandryshueshëm"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium",children:"Password"}),d==="password"?T.jsxs("div",{className:"space-y-2",children:[T.jsx("input",{type:"password",value:s,onChange:w=>o(w.target.value),className:"w-full border px-3 py-2 rounded",placeholder:"Passwordi i ri"}),T.jsx("input",{type:"password",value:u,onChange:w=>c(w.target.value),className:"w-full border px-3 py-2 rounded",placeholder:"Konfirmo passwordin"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{className:"bg-green-600 text-white px-3 py-1 rounded",onClick:E,children:"Ruaj"}),T.jsx("button",{className:"bg-gray-400 text-white px-3 py-1 rounded",onClick:x,children:"Anullo"})]})]}):T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("p",{className:"italic text-gray-500",children:"••••••••"}),T.jsx("button",{className:"text-blue-600 hover:underline",onClick:()=>h("password"),children:"Ndrysho"})]})]}),m&&T.jsx("p",{className:"text-red-600 mt-2 text-sm text-center",children:m}),b&&T.jsx("p",{className:"text-green-600 mt-2 text-sm text-center",children:"Llogaria u ndryshua me sukses."})]}):T.jsx("p",{className:"text-center mt-10 text-red-600",children:"Unauthorized."})}function b4(){const{id:n}=Rc(),{user:e}=Dn(),t=Cn(),[r,s]=R.useState({title:"",content:"",tags:[],media:[""],authorName:""}),[o,u]=R.useState(""),[c,d]=R.useState(""),[h,m]=R.useState(!1),y=["teologji","filozofi","kulturë","politikë","histori"];R.useEffect(()=>{de.get(`https://udhekryqi.com/api/posts/${n}`).then(x=>{const E=x.data.tags||[],w=E.filter(A=>y.includes(A)),k=E.filter(A=>!y.includes(A));s({title:x.data.title,content:x.data.content,tags:w,media:x.data.media.length?x.data.media:[""],authorName:x.data.authorName||""}),u(k.join(", "))}).catch(()=>d("Failed to load post."))},[n]);const b=x=>{s(E=>({...E,tags:E.tags.includes(x)?E.tags.filter(w=>w!==x):[...E.tags,x]}))},v=async x=>{x.preventDefault(),d("");const E=[...r.tags,...o.split(",").map(k=>k.trim().toLowerCase()).filter(k=>k)];let w=r.media;if(r.media[0]instanceof File)try{m(!0);const k=new FormData;k.append("file",r.media[0]),k.append("upload_preset","unsigned_preset"),w=[(await de.post("https://api.cloudinary.com/v1_1/da6mutfiu/image/upload",k)).data.secure_url],m(!1)}catch(k){console.error(k),d("Failed to upload media."),m(!1);return}try{const k=localStorage.getItem("token");await de.put(`https://udhekryqi.com/api/posts/${n}`,{...r,tags:E,media:w,authorName:r.authorName},{headers:{Authorization:`Bearer ${k}`}}),t(`/posts/${n}`)}catch(k){console.error(k),d("Failed to update post.")}};return!e||e.role!=="admin"?T.jsx("p",{className:"text-center mt-10 text-red-600",children:"Unauthorized."}):T.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsx("h1",{className:"text-2xl font-bold",children:"Ndrysho Artikullin"}),T.jsx(Te,{to:`/posts/${n}`,className:"text-sm text-red-700 hover:underline",children:"Shih Artikullin"})]}),T.jsxs("form",{onSubmit:v,className:"space-y-6",children:[T.jsx("input",{type:"text",placeholder:"Titulli",value:r.title,onChange:x=>s(E=>({...E,title:x.target.value})),className:"w-full border px-3 py-2 rounded",required:!0}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium",children:"Emri i Autorit (opsionale)"}),T.jsx("input",{type:"text",placeholder:"Shkruani emrin që do shfaqet",value:r.authorName,onChange:x=>s(E=>({...E,authorName:x.target.value})),className:"w-full border px-3 py-2 rounded"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium",children:"Foto"}),T.jsxs("div",{className:"flex gap-4 mb-2",children:[T.jsxs("label",{className:"flex items-center gap-2",children:[T.jsx("input",{type:"radio",name:"mediaType",checked:typeof r.media[0]=="string",onChange:()=>s(x=>({...x,media:[""]}))}),"URL"]}),T.jsxs("label",{className:"flex items-center gap-2",children:[T.jsx("input",{type:"radio",name:"mediaType",checked:r.media[0]instanceof File||r.media[0]===null,onChange:()=>s(x=>({...x,media:[null]}))}),"Ngarko Foton"]})]}),typeof r.media[0]=="string"&&T.jsx("input",{type:"text",placeholder:"Media URL",value:r.media[0],onChange:x=>s(E=>({...E,media:[x.target.value]})),className:"w-full border px-3 py-2 rounded"}),(r.media[0]===null||r.media[0]instanceof File)&&T.jsxs("div",{children:[T.jsx("label",{htmlFor:"file-upload",className:"inline-block cursor-pointer bg-gray-800 text-white px-4 py-2 rounded hover:bg-black",children:r.media[0]instanceof File?r.media[0].name:"Zgjidh Foto"}),T.jsx("input",{id:"file-upload",type:"file",accept:"image/*",onChange:x=>s(E=>({...E,media:[x.target.files[0]]})),className:"hidden"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium",children:"Tags"}),T.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:y.map(x=>T.jsxs("label",{className:"flex items-center gap-1",children:[T.jsx("input",{type:"checkbox",checked:r.tags.includes(x),onChange:()=>b(x)}),x]},x))}),T.jsx("input",{type:"text",placeholder:"Shto tjera tags, të ndarë me presje",value:o,onChange:x=>u(x.target.value),className:"w-full border px-3 py-2 rounded"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium",children:"Përmbajtja"}),T.jsx(qE,{content:r.content,setContent:x=>s(E=>({...E,content:x}))},r.content)]}),T.jsx("button",{type:"submit",className:"bg-black text-white px-6 py-2 rounded hover:bg-gray-900",disabled:h,children:h?"Duke ngarkuar...":"Ndrysho Artikullin"}),c&&T.jsx("p",{className:"text-red-600",children:c})]})]})}const fp=12;function x4(){const[n,e]=R.useState([]),[t,r]=R.useState([]),[s,o]=R.useState(1),[u,c]=R.useState(""),[d,h]=R.useState(""),{user:m}=Dn(),y=(m==null?void 0:m.role)==="admin",b=Tr();R.useEffect(()=>{const A=new URLSearchParams(b.search).get("search");A&&c(A)},[b.search]),R.useEffect(()=>{(async()=>{try{const j=await de.get("https://udhekryqi.com/api/posts");e(j.data),r(j.data)}catch(j){console.error("Failed to load posts:",j)}})()},[]),R.useEffect(()=>{const A=I=>(I||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase();let j=[...n];if(u.trim()){const I=A(u);j=j.filter(U=>{var Ne;const X=A(U.title).includes(I),Q=A(Hu(U.content)).includes(I),ie=(U.tags||[]).some(ze=>A(ze).includes(I)),J=A(((Ne=U.author)==null?void 0:Ne.name)||U.authorName||"").includes(I);return X||Q||ie||J})}d&&(j=j.filter(I=>I.tags.some(U=>U.toLowerCase()===d.toLowerCase()))),r(j),o(1)},[u,d,n]);const v=[...new Set(n.flatMap(A=>A.tags||[]))],x=Math.ceil(t.length/fp),E=t.slice((s-1)*fp,s*fp),w=(A,j=90)=>{const I=Hu(A||"").replace(/\s+/g," ").trim();return I.length>j?I.slice(0,j)+"...":I},k=async A=>{if(confirm("Delete this post?"))try{await de.delete(`https://udhekryqi.com/api/posts/${A}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),e(j=>j.filter(I=>I._id!==A))}catch(j){alert("Error deleting post."),console.error(j)}};return T.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[T.jsx("h1",{className:"text-3xl font-bold mb-6",children:"All Articles"}),T.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-6",children:[T.jsx("input",{type:"text",value:u,onChange:A=>c(A.target.value),placeholder:"Search articles...",className:"border p-2 rounded w-full sm:w-1/2"}),T.jsxs("select",{value:d,onChange:A=>h(A.target.value),className:"border p-2 rounded",children:[T.jsx("option",{value:"",children:"All Tags"}),v.map((A,j)=>T.jsx("option",{value:A,children:A},j))]})]}),T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:E.map(A=>{var j,I;return T.jsxs("div",{className:"group border rounded overflow-hidden bg-white shadow-sm hover:shadow-md transition relative",children:[y&&T.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 z-10",children:[T.jsx(Te,{to:`/edit-post/${A._id}`,className:"text-xs",children:"✏️"}),T.jsx("button",{onClick:()=>k(A._id),className:"text-xs",children:"❌"})]}),T.jsxs(Te,{to:`/posts/${A._id}`,children:[((j=A.media)==null?void 0:j[0])&&T.jsx("img",{src:A.media[0],alt:A.title,className:"h-48 w-full object-cover"}),T.jsxs("div",{className:"p-4 space-y-2",children:[T.jsx("h3",{className:"text-lg font-bold group-hover:underline",children:A.title}),T.jsx("p",{className:"text-xs uppercase text-gray-500 font-semibold",children:((I=A.author)==null?void 0:I.name)||A.authorName}),T.jsx("p",{className:"text-sm text-gray-600 break-words",children:w(A.content)})]})]})]},A._id)})}),x>1&&T.jsx("div",{className:"flex justify-center mt-8 space-x-2",children:Array.from({length:x},(A,j)=>T.jsx("button",{onClick:()=>o(j+1),className:`px-3 py-1 rounded ${s===j+1?"bg-black text-white":"bg-gray-200 text-gray-800"}`,children:j+1},j+1))})]})}function v4(){const{user:n,token:e}=Dn(),t=Cn(),[r,s]=R.useState([]),[o,u]=R.useState([]),[c,d]=R.useState("");R.useEffect(()=>{(async()=>{try{const b=(await de.get("https://udhekryqi.com/api/posts")).data,v=b.filter(E=>E.likes.includes(n.id)),x=[];b.forEach(E=>{E.comments.forEach(w=>{w.user===n.id&&x.push({postId:E._id,postTitle:E.title,content:w.content,createdAt:w.createdAt})})}),s(v),u(x)}catch(y){console.error(y),d("Failed to load activity.")}})()},[n]);const h=async()=>{if(window.confirm("Are you sure you want to delete your account? This cannot be undone."))try{await de.delete(`https://udhekryqi.com/api/auth/user/${n.id}`,{headers:{Authorization:`Bearer ${e}`}}),localStorage.removeItem("token"),localStorage.removeItem("user"),t("/"),window.location.reload()}catch(y){console.error("Failed to delete account:",y),alert("Account deletion failed. Please try again.")}};return T.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-10",children:[T.jsxs("h1",{className:"text-3xl font-bold mb-6",children:["Mirësevjen, ",n.name]}),T.jsxs("div",{className:"mb-10 flex flex-wrap gap-4",children:[T.jsx(Te,{to:"/edit-account",className:"border px-4 py-2 rounded hover:bg-gray-100",children:"Ndrysho llogarinë"}),T.jsx("button",{onClick:h,className:"border border-red-600 text-red-600 px-4 py-2 rounded hover:bg-red-50",children:"Fshij llogarinë"})]}),c&&T.jsx("p",{className:"text-red-600 mb-6",children:c}),T.jsxs("section",{className:"mb-12",children:[T.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Artikujt e pëlqyer"}),r.length===0?T.jsx("p",{className:"text-gray-600",children:"Nuk keni pëlqyer asnjë artikull akoma."}):T.jsx("ul",{className:"list-disc list-inside space-y-2",children:r.map(m=>T.jsx("li",{children:T.jsx(Te,{to:`/posts/${m._id}`,className:"text-red-700 hover:underline",children:m.title})},m._id))})]}),T.jsxs("section",{children:[T.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Komentet tuaja"}),o.length===0?T.jsx("p",{className:"text-gray-600",children:"Nuk keni komentuar akoma."}):T.jsx("ul",{className:"space-y-4",children:o.map((m,y)=>T.jsxs("li",{className:"border rounded p-4 bg-white shadow-sm",children:[T.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["On:"," ",T.jsx(Te,{to:`/posts/${m.postId}`,className:"text-red-700 hover:underline",children:m.postTitle})," ","— ",new Date(m.createdAt).toLocaleDateString()]}),T.jsx("p",{children:m.content})]},y))})]})]})}function S4(){return T.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-14 text-gray-800 space-y-16",children:[T.jsxs("section",{className:"text-center space-y-4",children:[T.jsx("h1",{style:{fontFamily:"Georgia, serif"},className:"text-4xl font-bold uppercase tracking-wide",children:"RRETH NESH"}),T.jsx("p",{className:"text-lg italic text-gray-600",children:"Një udhëkryq mendimi, reflektimi dhe besimi."})]}),T.jsx("img",{src:"../../public/kryqi.jpg",alt:"Our Vision",className:"w-full h-full object-cover rounded-xl"}),T.jsxs("section",{className:"space-y-4",children:[T.jsx("h2",{className:"text-2xl font-semibold uppercase tracking-wide",children:"Qëllimi Ynë"}),T.jsxs("p",{children:[T.jsx("b",{children:"Udhëkryqi"})," është një përpjekje për të krijuar një hapësirë reflektimi mbi vlerat dhe besimet që na kanë formuar si qytetërim. Ne besojmë se themeli i një shoqërie të shëndoshë është besimi në të vërtetën dhe moralin objektiv. Këto të dyja i shohim të përsosura në trashëgiminë shpirtërore, filozofike dhe kulturore të Katolicizmit. Nuk pretendojmë të ofrojmë gjithmonë përgjigje përfundimtare, por dëshirojmë të vërtetojmë se ky besim dhe këto parime janë të besueshme, të arsyeshme dhe të nevojshme."]})]}),T.jsxs("section",{className:"space-y-4",children:[T.jsx("h2",{className:"text-2xl font-semibold uppercase tracking-wide",children:"Parimet Tona"}),T.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[T.jsx("li",{children:"Dinjiteti i njeriut si imazh i Zotit"}),T.jsx("li",{children:"Pajtimi i fesë me arsyen"}),T.jsx("li",{children:"Trashëgimia e përhershme dhe e vazhdueshme sekulare dhe fetare"}),T.jsx("li",{children:"Kultura si shprehje e së bukurës dhe së mirës"}),T.jsx("li",{children:"Rendi moral dhe ligji natyror"}),T.jsx("li",{children:"Jeta e pasosur"})]})]}),T.jsxs("section",{className:"space-y-4",children:[T.jsx("h2",{className:"text-2xl font-semibold uppercase tracking-wide",children:"Puna JonË"}),T.jsx("p",{children:"Udhëkryqi boton artikuj që pasqyrojnë një përkushtim ndaj traditës dhe mendimit kritik:"}),T.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[T.jsx("li",{children:"Ese mbi teologjinë, filozofinë dhe jetën morale"}),T.jsx("li",{children:"Reflektime kulturore dhe shoqërore"}),T.jsx("li",{children:"Komente politike me përqasje parimore"}),T.jsx("li",{children:"Shkrime origjinale dhe përkthime në gjuhën shqipe"})]})]}),T.jsxs("section",{className:"space-y-4",children:[T.jsx("h2",{className:"text-2xl font-semibold uppercase tracking-wide",children:"Rreth nesh"}),T.jsxs("p",{children:["Jemi lexues dhe shkrues të zakonshëm nga troje të ndryshme që duam të ruajmë atë që është e vyer dhe themelore për shoqërinë, dhe të ndihmojmë të tjerët të bëjnë të njëjtën gjë. Ky projekt nuk përfaqëson një institucion apo autoritet; është një ftesë për ",T.jsx("b",{children:"bashkëudhëtim"}),"."]})]}),T.jsxs("section",{className:"space-y-4",children:[T.jsx("h2",{className:"text-2xl font-semibold uppercase tracking-wide",children:"Pse ËshtË e nevojshme"}),T.jsxs("p",{children:["Në një botë që shpesh ndjen mungesën e kuptimit, e kaluara nuk është barrë, por dritë.",T.jsx("i",{children:" “Përparimi duhet të nënkuptojë që gjithmonë do të ndryshojmë botën për t’iu përshtatur vizionit; në vend të kësaj, ne vazhdimisht po ndryshojmë vetë vizionin.”"})," Këto janë fjalët e mendimtarit të madh britanik G. K. Chesterton, të cilat shpjegojnë edhe qasjen tonë ndaj këtij aspekti. Një përpjekje për të ndërtuar një të ardhme me themel të fortë duhet të bazohet në një vizion të vërtetë, të mirë dhe të bukur. Udhëkryqi është një hap modest në këtë drejtim."]})]}),T.jsxs("section",{className:"text-center space-y-2",children:[T.jsx("p",{className:"text-lg font-medium",children:"Nëse ndiheni të thirrur nga këto vlera, ju mirëpresim të lexoni, të ndani, apo edhe të kontribuoni me mendimet tuaja."}),T.jsx(Te,{to:"/contact",className:"text-red-700 font-semibold hover:text-black",children:"Na kontaktoni →"})]})]})}function E4(){const[n,e]=R.useState({name:"",email:"",message:""}),[t,r]=R.useState("idle"),s=u=>{e(c=>({...c,[u.target.name]:u.target.value}))},o=async u=>{u.preventDefault();const{name:c,email:d,message:h}=n;if(!c.trim()||!d.trim()||!h.trim()){alert("Ju lutemi plotësoni të gjitha fushat.");return}r("sending");try{await de.post("https://udhekryqi.com/api/auth/contact",{name:c,email:d,message:h}),r("success"),e({name:"",email:"",message:""})}catch(m){console.error("Dërgimi dështoi:",m),r("error")}};return T.jsxs("div",{className:"max-w-3xl mx-auto p-8 space-y-6 text-gray-800",children:[T.jsx("h1",{style:{fontFamily:"Georgia, serif"},className:"text-3xl font-bold uppercase text-center",children:"Na Kontaktoni"}),T.jsxs("form",{onSubmit:o,className:"space-y-4",children:[T.jsx("input",{type:"text",name:"name",placeholder:"Emri juaj",value:n.name,onChange:s,required:!0,className:"w-full border border-gray-300 p-3 rounded focus:outline-none focus:ring-2 focus:ring-red-700"}),T.jsx("input",{type:"email",name:"email",placeholder:"Email",value:n.email,onChange:s,required:!0,className:"w-full border border-gray-300 p-3 rounded focus:outline-none focus:ring-2 focus:ring-red-700"}),T.jsx("textarea",{name:"message",placeholder:"Mesazhi juaj",rows:"6",value:n.message,onChange:s,required:!0,className:"w-full border border-gray-300 p-3 rounded focus:outline-none focus:ring-2 focus:ring-red-700"}),T.jsx("button",{type:"submit",className:"bg-red-700 text-white px-6 py-2 rounded hover:bg-red-800 transition",disabled:t==="sending",children:t==="sending"?"Duke dërguar...":"Dërgo Mesazhin"})]}),t==="success"&&T.jsx("p",{className:"text-green-700 font-medium",children:"Mesazhi u dërgua me sukses. Faleminderit!"}),t==="error"&&T.jsx("p",{className:"text-red-600 font-medium",children:"Dërgimi dështoi. Ju lutemi provoni sërish."})]})}function T4(){const[n,e]=R.useState(""),[t,r]=R.useState(""),[s,o]=R.useState(!1),u=async c=>{var d,h;c.preventDefault(),r(""),o(!0);try{const m=await de.post("https://udhekryqi.com/api/auth/forgot-password",{email:n});r(m.data.message)}catch(m){r(((h=(d=m.response)==null?void 0:d.data)==null?void 0:h.message)||"Request failed")}finally{o(!1)}};return T.jsxs("div",{className:"max-w-md mx-auto mt-10 p-6 border rounded shadow-sm",children:[T.jsx("h2",{className:"text-2xl mb-4 font-semibold",children:"Rivendos Fjalëkalimin"}),T.jsxs("form",{onSubmit:u,className:"space-y-4",children:[T.jsx("input",{type:"email",name:"email",placeholder:"Shkruaj emailin",value:n,onChange:c=>e(c.target.value),className:"w-full border px-3 py-2 rounded",required:!0}),T.jsx("button",{type:"submit",disabled:s,className:"w-full bg-red-700 text-white py-2 rounded hover:bg-red-800",children:s?"Duke dërguar...":"Dërgo emailin e rivendosjes"})]}),t&&T.jsx("p",{className:"mt-4 text-sm text-center text-gray-700",children:t})]})}function w4(){const{token:n}=Rc(),e=Cn(),[t,r]=R.useState(""),[s,o]=R.useState(""),[u,c]=R.useState(!1),d=async h=>{var m,y;h.preventDefault(),o(""),c(!0);try{const b=await de.post(`https://udhekryqi.com/api/auth/reset-password/${n}`,{newPassword:t});o(b.data.message),setTimeout(()=>e("/login"),3e3)}catch(b){o(((y=(m=b.response)==null?void 0:m.data)==null?void 0:y.message)||"Reset failed")}finally{c(!1)}};return T.jsxs("div",{className:"max-w-md mx-auto mt-10 p-6 border rounded shadow-sm",children:[T.jsx("h2",{className:"text-2xl mb-4 font-semibold",children:"Vendos Fjalëkalim të Ri"}),T.jsxs("form",{onSubmit:d,className:"space-y-4",children:[T.jsx("input",{type:"password",name:"newPassword",placeholder:"Fjalëkalimi i ri",value:t,onChange:h=>r(h.target.value),className:"w-full border px-3 py-2 rounded",required:!0}),T.jsx("button",{type:"submit",disabled:u,className:"w-full bg-red-700 text-white py-2 rounded hover:bg-red-800",children:u?"Duke ruajtur...":"Rivendos Fjalëkalimin"})]}),s&&T.jsx("p",{className:"mt-4 text-sm text-center text-gray-700",children:s})]})}function C4(){return T.jsxs("div",{className:"flex flex-col min-h-screen",children:[T.jsx(Kk,{}),T.jsx("main",{className:"flex-grow",children:T.jsxs(ck,{children:[T.jsx(vt,{path:"/register",element:T.jsx(wA,{})}),T.jsx(vt,{path:"/login",element:T.jsx(CA,{})}),T.jsx(vt,{path:"/",element:T.jsx(MA,{})}),T.jsx(vt,{path:"/category/:name",element:T.jsx(FA,{})}),T.jsx(vt,{path:"/posts/:id",element:T.jsx(AO,{})}),T.jsx(vt,{path:"/admin/new-post",element:T.jsx(g4,{})}),T.jsx(vt,{path:"/admin",element:T.jsx(y4,{})}),T.jsx(vt,{path:"/admin/edit-account",element:T.jsx(Fx,{})}),T.jsx(vt,{path:"/edit-account",element:T.jsx(Fx,{})}),T.jsx(vt,{path:"/edit-post/:id",element:T.jsx(b4,{})}),T.jsx(vt,{path:"/all",element:T.jsx(x4,{})}),T.jsx(vt,{path:"/dashboard",element:T.jsx(v4,{})}),T.jsx(vt,{path:"/rreth-nesh",element:T.jsx(S4,{})}),T.jsx(vt,{path:"/contact",element:T.jsx(E4,{})}),T.jsx(vt,{path:"/forgot-password",element:T.jsx(T4,{})}),T.jsx(vt,{path:"/reset-password/:token",element:T.jsx(w4,{})})]})}),T.jsx(VA,{})]})}xC.createRoot(document.getElementById("root")).render(T.jsx(Ue.StrictMode,{children:T.jsx(zk,{children:T.jsx(Gk,{children:T.jsx(C4,{})})})}));
