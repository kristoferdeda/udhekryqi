(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function Qi(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ap={exports:{}},ea={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x1;function Fw(){if(x1)return ea;x1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:u,ref:s!==void 0?s:null,props:o}}return ea.Fragment=e,ea.jsx=t,ea.jsxs=t,ea}var S1;function $w(){return S1||(S1=1,ap.exports=Fw()),ap.exports}var T=$w(),up={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v1;function Gw(){if(v1)return Ae;v1=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function b(k){return k===null||typeof k!="object"?null:(k=y&&k[y]||k["@@iterator"],typeof k=="function"?k:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,v={};function A(k,V,ne){this.props=k,this.context=V,this.refs=v,this.updater=ne||S}A.prototype.isReactComponent={},A.prototype.setState=function(k,V){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,V,"setState")},A.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function C(){}C.prototype=A.prototype;function O(k,V,ne){this.props=k,this.context=V,this.refs=v,this.updater=ne||S}var _=O.prototype=new C;_.constructor=O,x(_,A.prototype),_.isPureReactComponent=!0;var q=Array.isArray,P={H:null,A:null,T:null,S:null,V:null},W=Object.prototype.hasOwnProperty;function ee(k,V,ne,Q,ce,fe){return ne=fe.ref,{$$typeof:n,type:k,key:V,ref:ne!==void 0?ne:null,props:fe}}function oe(k,V){return ee(k.type,V,void 0,void 0,void 0,k.props)}function Z(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function Me(k){var V={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ne){return V[ne]})}var ve=/\/+/g;function xe(k,V){return typeof k=="object"&&k!==null&&k.key!=null?Me(""+k.key):V.toString(36)}function ct(){}function vt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(ct,ct):(k.status="pending",k.then(function(V){k.status==="pending"&&(k.status="fulfilled",k.value=V)},function(V){k.status==="pending"&&(k.status="rejected",k.reason=V)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function he(k,V,ne,Q,ce){var fe=typeof k;(fe==="undefined"||fe==="boolean")&&(k=null);var me=!1;if(k===null)me=!0;else switch(fe){case"bigint":case"string":case"number":me=!0;break;case"object":switch(k.$$typeof){case n:case e:me=!0;break;case m:return me=k._init,he(me(k._payload),V,ne,Q,ce)}}if(me)return ce=ce(k),me=Q===""?"."+xe(k,0):Q,q(ce)?(ne="",me!=null&&(ne=me.replace(ve,"$&/")+"/"),he(ce,V,ne,"",function(Rn){return Rn})):ce!=null&&(Z(ce)&&(ce=oe(ce,ne+(ce.key==null||k&&k.key===ce.key?"":(""+ce.key).replace(ve,"$&/")+"/")+me)),V.push(ce)),1;me=0;var Mt=Q===""?".":Q+":";if(q(k))for(var $e=0;$e<k.length;$e++)Q=k[$e],fe=Mt+xe(Q,$e),me+=he(Q,V,ne,fe,ce);else if($e=b(k),typeof $e=="function")for(k=$e.call(k),$e=0;!(Q=k.next()).done;)Q=Q.value,fe=Mt+xe(Q,$e++),me+=he(Q,V,ne,fe,ce);else if(fe==="object"){if(typeof k.then=="function")return he(vt(k),V,ne,Q,ce);throw V=String(k),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return me}function B(k,V,ne){if(k==null)return k;var Q=[],ce=0;return he(k,Q,"","",function(fe){return V.call(ne,fe,ce++)}),Q}function Y(k){if(k._status===-1){var V=k._result;V=V(),V.then(function(ne){(k._status===0||k._status===-1)&&(k._status=1,k._result=ne)},function(ne){(k._status===0||k._status===-1)&&(k._status=2,k._result=ne)}),k._status===-1&&(k._status=0,k._result=V)}if(k._status===1)return k._result.default;throw k._result}var le=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function He(){}return Ae.Children={map:B,forEach:function(k,V,ne){B(k,function(){V.apply(this,arguments)},ne)},count:function(k){var V=0;return B(k,function(){V++}),V},toArray:function(k){return B(k,function(V){return V})||[]},only:function(k){if(!Z(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ae.Component=A,Ae.Fragment=t,Ae.Profiler=s,Ae.PureComponent=O,Ae.StrictMode=r,Ae.Suspense=d,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(k){return P.H.useMemoCache(k)}},Ae.cache=function(k){return function(){return k.apply(null,arguments)}},Ae.cloneElement=function(k,V,ne){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var Q=x({},k.props),ce=k.key,fe=void 0;if(V!=null)for(me in V.ref!==void 0&&(fe=void 0),V.key!==void 0&&(ce=""+V.key),V)!W.call(V,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&V.ref===void 0||(Q[me]=V[me]);var me=arguments.length-2;if(me===1)Q.children=ne;else if(1<me){for(var Mt=Array(me),$e=0;$e<me;$e++)Mt[$e]=arguments[$e+2];Q.children=Mt}return ee(k.type,ce,void 0,void 0,fe,Q)},Ae.createContext=function(k){return k={$$typeof:u,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:o,_context:k},k},Ae.createElement=function(k,V,ne){var Q,ce={},fe=null;if(V!=null)for(Q in V.key!==void 0&&(fe=""+V.key),V)W.call(V,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ce[Q]=V[Q]);var me=arguments.length-2;if(me===1)ce.children=ne;else if(1<me){for(var Mt=Array(me),$e=0;$e<me;$e++)Mt[$e]=arguments[$e+2];ce.children=Mt}if(k&&k.defaultProps)for(Q in me=k.defaultProps,me)ce[Q]===void 0&&(ce[Q]=me[Q]);return ee(k,fe,void 0,void 0,null,ce)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(k){return{$$typeof:c,render:k}},Ae.isValidElement=Z,Ae.lazy=function(k){return{$$typeof:m,_payload:{_status:-1,_result:k},_init:Y}},Ae.memo=function(k,V){return{$$typeof:h,type:k,compare:V===void 0?null:V}},Ae.startTransition=function(k){var V=P.T,ne={};P.T=ne;try{var Q=k(),ce=P.S;ce!==null&&ce(ne,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(He,le)}catch(fe){le(fe)}finally{P.T=V}},Ae.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Ae.use=function(k){return P.H.use(k)},Ae.useActionState=function(k,V,ne){return P.H.useActionState(k,V,ne)},Ae.useCallback=function(k,V){return P.H.useCallback(k,V)},Ae.useContext=function(k){return P.H.useContext(k)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(k,V){return P.H.useDeferredValue(k,V)},Ae.useEffect=function(k,V,ne){var Q=P.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(k,V)},Ae.useId=function(){return P.H.useId()},Ae.useImperativeHandle=function(k,V,ne){return P.H.useImperativeHandle(k,V,ne)},Ae.useInsertionEffect=function(k,V){return P.H.useInsertionEffect(k,V)},Ae.useLayoutEffect=function(k,V){return P.H.useLayoutEffect(k,V)},Ae.useMemo=function(k,V){return P.H.useMemo(k,V)},Ae.useOptimistic=function(k,V){return P.H.useOptimistic(k,V)},Ae.useReducer=function(k,V,ne){return P.H.useReducer(k,V,ne)},Ae.useRef=function(k){return P.H.useRef(k)},Ae.useState=function(k){return P.H.useState(k)},Ae.useSyncExternalStore=function(k,V,ne){return P.H.useSyncExternalStore(k,V,ne)},Ae.useTransition=function(){return P.H.useTransition()},Ae.version="19.1.0",Ae}var E1;function Of(){return E1||(E1=1,up.exports=Gw()),up.exports}var R=Of();const Fe=Qi(R);var cp={exports:{}},ta={},fp={exports:{}},dp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T1;function Yw(){return T1||(T1=1,function(n){function e(B,Y){var le=B.length;B.push(Y);e:for(;0<le;){var He=le-1>>>1,k=B[He];if(0<s(k,Y))B[He]=Y,B[le]=k,le=He;else break e}}function t(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var Y=B[0],le=B.pop();if(le!==Y){B[0]=le;e:for(var He=0,k=B.length,V=k>>>1;He<V;){var ne=2*(He+1)-1,Q=B[ne],ce=ne+1,fe=B[ce];if(0>s(Q,le))ce<k&&0>s(fe,Q)?(B[He]=fe,B[ce]=le,He=ce):(B[He]=Q,B[ne]=le,He=ne);else if(ce<k&&0>s(fe,le))B[He]=fe,B[ce]=le,He=ce;else break e}}return Y}function s(B,Y){var le=B.sortIndex-Y.sortIndex;return le!==0?le:B.id-Y.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();n.unstable_now=function(){return u.now()-c}}var d=[],h=[],m=1,y=null,b=3,S=!1,x=!1,v=!1,A=!1,C=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function q(B){for(var Y=t(h);Y!==null;){if(Y.callback===null)r(h);else if(Y.startTime<=B)r(h),Y.sortIndex=Y.expirationTime,e(d,Y);else break;Y=t(h)}}function P(B){if(v=!1,q(B),!x)if(t(d)!==null)x=!0,W||(W=!0,xe());else{var Y=t(h);Y!==null&&he(P,Y.startTime-B)}}var W=!1,ee=-1,oe=5,Z=-1;function Me(){return A?!0:!(n.unstable_now()-Z<oe)}function ve(){if(A=!1,W){var B=n.unstable_now();Z=B;var Y=!0;try{e:{x=!1,v&&(v=!1,O(ee),ee=-1),S=!0;var le=b;try{t:{for(q(B),y=t(d);y!==null&&!(y.expirationTime>B&&Me());){var He=y.callback;if(typeof He=="function"){y.callback=null,b=y.priorityLevel;var k=He(y.expirationTime<=B);if(B=n.unstable_now(),typeof k=="function"){y.callback=k,q(B),Y=!0;break t}y===t(d)&&r(d),q(B)}else r(d);y=t(d)}if(y!==null)Y=!0;else{var V=t(h);V!==null&&he(P,V.startTime-B),Y=!1}}break e}finally{y=null,b=le,S=!1}Y=void 0}}finally{Y?xe():W=!1}}}var xe;if(typeof _=="function")xe=function(){_(ve)};else if(typeof MessageChannel<"u"){var ct=new MessageChannel,vt=ct.port2;ct.port1.onmessage=ve,xe=function(){vt.postMessage(null)}}else xe=function(){C(ve,0)};function he(B,Y){ee=C(function(){B(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(B){switch(b){case 1:case 2:case 3:var Y=3;break;default:Y=b}var le=b;b=Y;try{return B()}finally{b=le}},n.unstable_requestPaint=function(){A=!0},n.unstable_runWithPriority=function(B,Y){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var le=b;b=B;try{return Y()}finally{b=le}},n.unstable_scheduleCallback=function(B,Y,le){var He=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?He+le:He):le=He,B){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=le+k,B={id:m++,callback:Y,priorityLevel:B,startTime:le,expirationTime:k,sortIndex:-1},le>He?(B.sortIndex=le,e(h,B),t(d)===null&&B===t(h)&&(v?(O(ee),ee=-1):v=!0,he(P,le-He))):(B.sortIndex=k,e(d,B),x||S||(x=!0,W||(W=!0,xe()))),B},n.unstable_shouldYield=Me,n.unstable_wrapCallback=function(B){var Y=b;return function(){var le=b;b=Y;try{return B.apply(this,arguments)}finally{b=le}}}}(dp)),dp}var A1;function Kw(){return A1||(A1=1,fp.exports=Yw()),fp.exports}var hp={exports:{}},Gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w1;function Xw(){if(w1)return Gt;w1=1;var n=Of();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,h,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:d,containerInfo:h,implementation:m}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Gt.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(d,h,null,m)},Gt.flushSync=function(d){var h=u.T,m=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=h,r.p=m,r.d.f()}},Gt.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},Gt.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Gt.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,y=c(m,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,S=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:S}):m==="script"&&r.d.X(d,{crossOrigin:y,integrity:b,fetchPriority:S,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Gt.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},Gt.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,y=c(m,h.crossOrigin);r.d.L(d,m,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Gt.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=c(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},Gt.requestFormReset=function(d){r.d.r(d)},Gt.unstable_batchedUpdates=function(d,h){return d(h)},Gt.useFormState=function(d,h,m){return u.H.useFormState(d,h,m)},Gt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Gt.version="19.1.0",Gt}var C1;function US(){if(C1)return hp.exports;C1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),hp.exports=Xw(),hp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N1;function Jw(){if(N1)return ta;N1=1;var n=Kw(),e=Of(),t=US();function r(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)l+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var l=i,a=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(a=l.return),i=l.return;while(i)}return l.tag===3?a:null}function u(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function c(i){if(o(i)!==i)throw Error(r(188))}function d(i){var l=i.alternate;if(!l){if(l=o(i),l===null)throw Error(r(188));return l!==i?null:i}for(var a=i,f=l;;){var p=a.return;if(p===null)break;var g=p.alternate;if(g===null){if(f=p.return,f!==null){a=f;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===a)return c(p),i;if(g===f)return c(p),l;g=g.sibling}throw Error(r(188))}if(a.return!==f.return)a=p,f=g;else{for(var E=!1,w=p.child;w;){if(w===a){E=!0,a=p,f=g;break}if(w===f){E=!0,f=p,a=g;break}w=w.sibling}if(!E){for(w=g.child;w;){if(w===a){E=!0,a=g,f=p;break}if(w===f){E=!0,f=g,a=p;break}w=w.sibling}if(!E)throw Error(r(189))}}if(a.alternate!==f)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?i:l}function h(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=h(i),l!==null)return l;i=i.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),_=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),Me=Symbol.for("react.memo_cache_sentinel"),ve=Symbol.iterator;function xe(i){return i===null||typeof i!="object"?null:(i=ve&&i[ve]||i["@@iterator"],typeof i=="function"?i:null)}var ct=Symbol.for("react.client.reference");function vt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ct?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case A:return"Profiler";case v:return"StrictMode";case P:return"Suspense";case W:return"SuspenseList";case Z:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case _:return(i.displayName||"Context")+".Provider";case O:return(i._context.displayName||"Context")+".Consumer";case q:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ee:return l=i.displayName||null,l!==null?l:vt(i.type)||"Memo";case oe:l=i._payload,i=i._init;try{return vt(i(l))}catch{}}return null}var he=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},He=[],k=-1;function V(i){return{current:i}}function ne(i){0>k||(i.current=He[k],He[k]=null,k--)}function Q(i,l){k++,He[k]=i.current,i.current=l}var ce=V(null),fe=V(null),me=V(null),Mt=V(null);function $e(i,l){switch(Q(me,l),Q(fe,i),Q(ce,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?Yb(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=Yb(l),i=Kb(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ne(ce),Q(ce,i)}function Rn(){ne(ce),ne(fe),ne(me)}function Gs(i){i.memoizedState!==null&&Q(Mt,i);var l=ce.current,a=Kb(l,i.type);l!==a&&(Q(fe,i),Q(ce,a))}function ts(i){fe.current===i&&(ne(ce),ne(fe)),Mt.current===i&&(ne(Mt),Xo._currentValue=le)}var ur=Object.prototype.hasOwnProperty,ai=n.unstable_scheduleCallback,Jn=n.unstable_cancelCallback,Wl=n.unstable_shouldYield,Zl=n.unstable_requestPaint,Rt=n.unstable_now,Ys=n.unstable_getCurrentPriorityLevel,ns=n.unstable_ImmediatePriority,eo=n.unstable_UserBlockingPriority,rs=n.unstable_NormalPriority,ed=n.unstable_LowPriority,Ks=n.unstable_IdlePriority,is=n.log,ui=n.unstable_setDisableYieldValue,Dn=null,It=null;function Qn(i){if(typeof is=="function"&&ui(i),It&&typeof It.setStrictMode=="function")try{It.setStrictMode(Dn,i)}catch{}}var qt=Math.clz32?Math.clz32:Xs,to=Math.log,Xa=Math.LN2;function Xs(i){return i>>>=0,i===0?32:31-(to(i)/Xa|0)|0}var kr=256,ln=4194304;function on(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ci(i,l,a){var f=i.pendingLanes;if(f===0)return 0;var p=0,g=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var w=f&134217727;return w!==0?(f=w&~g,f!==0?p=on(f):(E&=w,E!==0?p=on(E):a||(a=w&~i,a!==0&&(p=on(a))))):(w=f&~g,w!==0?p=on(w):E!==0?p=on(E):a||(a=f&~i,a!==0&&(p=on(a)))),p===0?0:l!==0&&l!==p&&(l&g)===0&&(g=p&-p,a=l&-l,g>=a||g===32&&(a&4194048)!==0)?l:p}function Mr(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function td(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ss(){var i=kr;return kr<<=1,(kr&4194048)===0&&(kr=256),i}function ls(){var i=ln;return ln<<=1,(ln&62914560)===0&&(ln=4194304),i}function no(i){for(var l=[],a=0;31>a;a++)l.push(i);return l}function Wn(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function nd(i,l,a,f,p,g){var E=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var w=i.entanglements,N=i.expirationTimes,z=i.hiddenUpdates;for(a=E&~a;0<a;){var F=31-qt(a),G=1<<F;w[F]=0,N[F]=-1;var H=z[F];if(H!==null)for(z[F]=null,F=0;F<H.length;F++){var U=H[F];U!==null&&(U.lane&=-536870913)}a&=~G}f!==0&&Ja(i,f,0),g!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=g&~(E&~l))}function Ja(i,l,a){i.pendingLanes|=l,i.suspendedLanes&=~l;var f=31-qt(l);i.entangledLanes|=l,i.entanglements[f]=i.entanglements[f]|1073741824|a&4194090}function ot(i,l){var a=i.entangledLanes|=l;for(i=i.entanglements;a;){var f=31-qt(a),p=1<<f;p&l|i[f]&l&&(i[f]|=l),a&=~p}}function cr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ro(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function io(){var i=Y.p;return i!==0?i:(i=window.event,i===void 0?32:h1(i.type))}function so(i,l){var a=Y.p;try{return Y.p=i,l()}finally{Y.p=a}}var Zn=Math.random().toString(36).slice(2),gt="__reactFiber$"+Zn,Vt="__reactProps$"+Zn,Dt="__reactContainer$"+Zn,fr="__reactEvents$"+Zn,Qa="__reactListeners$"+Zn,Wa="__reactHandles$"+Zn,Js="__reactResources$"+Zn,fi="__reactMarker$"+Zn;function xn(i){delete i[gt],delete i[Vt],delete i[fr],delete i[Qa],delete i[Wa]}function Rr(i){var l=i[gt];if(l)return l;for(var a=i.parentNode;a;){if(l=a[Dt]||a[gt]){if(a=l.alternate,l.child!==null||a!==null&&a.child!==null)for(i=Wb(i);i!==null;){if(a=i[gt])return a;i=Wb(i)}return l}i=a,a=i.parentNode}return null}function Dr(i){if(i=i[gt]||i[Dt]){var l=i.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return i}return null}function di(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(r(33))}function jr(i){var l=i[Js];return l||(l=i[Js]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function ft(i){i[fi]=!0}var ae=new Set,D={};function X(i,l){re(i,l),re(i+"Capture",l)}function re(i,l){for(D[i]=l,i=0;i<l.length;i++)ae.add(l[i])}var Ke=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yt={},nt={};function Ft(i){return ur.call(nt,i)?!0:ur.call(yt,i)?!1:Ke.test(i)?nt[i]=!0:(yt[i]=!0,!1)}function an(i,l,a){if(Ft(l))if(a===null)i.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var f=l.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+a)}}function dr(i,l,a){if(a===null)i.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+a)}}function Sn(i,l,a,f){if(f===null)i.removeAttribute(a);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(l,a,""+f)}}var dt,lo;function _r(i){if(dt===void 0)try{throw Error()}catch(a){var l=a.stack.trim().match(/\n( *(at )?)/);dt=l&&l[1]||"",lo=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+dt+i+lo}var rd=!1;function id(i,l){if(!i||rd)return"";rd=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(l){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(U){var H=U}Reflect.construct(i,[],G)}else{try{G.call()}catch(U){H=U}i.call(G.prototype)}}else{try{throw Error()}catch(U){H=U}(G=i())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(U){if(U&&H&&typeof U.stack=="string")return[U.stack,H.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=f.DetermineComponentFrameRoot(),E=g[0],w=g[1];if(E&&w){var N=E.split(`
`),z=w.split(`
`);for(p=f=0;f<N.length&&!N[f].includes("DetermineComponentFrameRoot");)f++;for(;p<z.length&&!z[p].includes("DetermineComponentFrameRoot");)p++;if(f===N.length||p===z.length)for(f=N.length-1,p=z.length-1;1<=f&&0<=p&&N[f]!==z[p];)p--;for(;1<=f&&0<=p;f--,p--)if(N[f]!==z[p]){if(f!==1||p!==1)do if(f--,p--,0>p||N[f]!==z[p]){var F=`
`+N[f].replace(" at new "," at ");return i.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",i.displayName)),F}while(1<=f&&0<=p);break}}}finally{rd=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?_r(a):""}function HT(i){switch(i.tag){case 26:case 27:case 5:return _r(i.type);case 16:return _r("Lazy");case 13:return _r("Suspense");case 19:return _r("SuspenseList");case 0:case 15:return id(i.type,!1);case 11:return id(i.type.render,!1);case 1:return id(i.type,!0);case 31:return _r("Activity");default:return""}}function Ig(i){try{var l="";do l+=HT(i),i=i.return;while(i);return l}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function jn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function qg(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function UT(i){var l=qg(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),f=""+i[l];if(!i.hasOwnProperty(l)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,g=a.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return p.call(this)},set:function(E){f=""+E,g.call(this,E)}}),Object.defineProperty(i,l,{enumerable:a.enumerable}),{getValue:function(){return f},setValue:function(E){f=""+E},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function Za(i){i._valueTracker||(i._valueTracker=UT(i))}function Vg(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var a=l.getValue(),f="";return i&&(f=qg(i)?i.checked?"true":"false":i.value),i=f,i!==a?(l.setValue(i),!0):!1}function eu(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var PT=/[\n"\\]/g;function _n(i){return i.replace(PT,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function sd(i,l,a,f,p,g,E,w){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),l!=null?E==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+jn(l)):i.value!==""+jn(l)&&(i.value=""+jn(l)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),l!=null?ld(i,E,jn(l)):a!=null?ld(i,E,jn(a)):f!=null&&i.removeAttribute("value"),p==null&&g!=null&&(i.defaultChecked=!!g),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+jn(w):i.removeAttribute("name")}function Fg(i,l,a,f,p,g,E,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),l!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||l!=null))return;a=a!=null?""+jn(a):"",l=l!=null?""+jn(l):a,w||l===i.value||(i.value=l),i.defaultValue=l}f=f??p,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=w?i.checked:!!f,i.defaultChecked=!!f,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E)}function ld(i,l,a){l==="number"&&eu(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function Qs(i,l,a,f){if(i=i.options,l){l={};for(var p=0;p<a.length;p++)l["$"+a[p]]=!0;for(a=0;a<i.length;a++)p=l.hasOwnProperty("$"+i[a].value),i[a].selected!==p&&(i[a].selected=p),p&&f&&(i[a].defaultSelected=!0)}else{for(a=""+jn(a),l=null,p=0;p<i.length;p++){if(i[p].value===a){i[p].selected=!0,f&&(i[p].defaultSelected=!0);return}l!==null||i[p].disabled||(l=i[p])}l!==null&&(l.selected=!0)}}function $g(i,l,a){if(l!=null&&(l=""+jn(l),l!==i.value&&(i.value=l),a==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=a!=null?""+jn(a):""}function Gg(i,l,a,f){if(l==null){if(f!=null){if(a!=null)throw Error(r(92));if(he(f)){if(1<f.length)throw Error(r(93));f=f[0]}a=f}a==null&&(a=""),l=a}a=jn(l),i.defaultValue=a,f=i.textContent,f===a&&f!==""&&f!==null&&(i.value=f)}function Ws(i,l){if(l){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=l;return}}i.textContent=l}var IT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yg(i,l,a){var f=l.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?f?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":f?i.setProperty(l,a):typeof a!="number"||a===0||IT.has(l)?l==="float"?i.cssFloat=a:i[l]=(""+a).trim():i[l]=a+"px"}function Kg(i,l,a){if(l!=null&&typeof l!="object")throw Error(r(62));if(i=i.style,a!=null){for(var f in a)!a.hasOwnProperty(f)||l!=null&&l.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var p in l)f=l[p],l.hasOwnProperty(p)&&a[p]!==f&&Yg(i,p,f)}else for(var g in l)l.hasOwnProperty(g)&&Yg(i,g,l[g])}function od(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),VT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tu(i){return VT.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var ad=null;function ud(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Zs=null,el=null;function Xg(i){var l=Dr(i);if(l&&(i=l.stateNode)){var a=i[Vt]||null;e:switch(i=l.stateNode,l.type){case"input":if(sd(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),l=a.name,a.type==="radio"&&l!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_n(""+l)+'"][type="radio"]'),l=0;l<a.length;l++){var f=a[l];if(f!==i&&f.form===i.form){var p=f[Vt]||null;if(!p)throw Error(r(90));sd(f,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(l=0;l<a.length;l++)f=a[l],f.form===i.form&&Vg(f)}break e;case"textarea":$g(i,a.value,a.defaultValue);break e;case"select":l=a.value,l!=null&&Qs(i,!!a.multiple,l,!1)}}}var cd=!1;function Jg(i,l,a){if(cd)return i(l,a);cd=!0;try{var f=i(l);return f}finally{if(cd=!1,(Zs!==null||el!==null)&&(Pu(),Zs&&(l=Zs,i=el,el=Zs=null,Xg(l),i)))for(l=0;l<i.length;l++)Xg(i[l])}}function oo(i,l){var a=i.stateNode;if(a===null)return null;var f=a[Vt]||null;if(f===null)return null;a=f[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(r(231,l,typeof a));return a}var Lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fd=!1;if(Lr)try{var ao={};Object.defineProperty(ao,"passive",{get:function(){fd=!0}}),window.addEventListener("test",ao,ao),window.removeEventListener("test",ao,ao)}catch{fd=!1}var hi=null,dd=null,nu=null;function Qg(){if(nu)return nu;var i,l=dd,a=l.length,f,p="value"in hi?hi.value:hi.textContent,g=p.length;for(i=0;i<a&&l[i]===p[i];i++);var E=a-i;for(f=1;f<=E&&l[a-f]===p[g-f];f++);return nu=p.slice(i,1<f?1-f:void 0)}function ru(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function iu(){return!0}function Wg(){return!1}function un(i){function l(a,f,p,g,E){this._reactName=a,this._targetInst=p,this.type=f,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(a=i[w],this[w]=a?a(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?iu:Wg,this.isPropagationStopped=Wg,this}return m(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=iu)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=iu)},persist:function(){},isPersistent:iu}),l}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},su=un(as),uo=m({},as,{view:0,detail:0}),FT=un(uo),hd,pd,co,lu=m({},uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==co&&(co&&i.type==="mousemove"?(hd=i.screenX-co.screenX,pd=i.screenY-co.screenY):pd=hd=0,co=i),hd)},movementY:function(i){return"movementY"in i?i.movementY:pd}}),Zg=un(lu),$T=m({},lu,{dataTransfer:0}),GT=un($T),YT=m({},uo,{relatedTarget:0}),md=un(YT),KT=m({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),XT=un(KT),JT=m({},as,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),QT=un(JT),WT=m({},as,{data:0}),ey=un(WT),ZT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nA(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=tA[i])?!!l[i]:!1}function gd(){return nA}var rA=m({},uo,{key:function(i){if(i.key){var l=ZT[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=ru(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?eA[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gd,charCode:function(i){return i.type==="keypress"?ru(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ru(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),iA=un(rA),sA=m({},lu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ty=un(sA),lA=m({},uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gd}),oA=un(lA),aA=m({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),uA=un(aA),cA=m({},lu,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),fA=un(cA),dA=m({},as,{newState:0,oldState:0}),hA=un(dA),pA=[9,13,27,32],yd=Lr&&"CompositionEvent"in window,fo=null;Lr&&"documentMode"in document&&(fo=document.documentMode);var mA=Lr&&"TextEvent"in window&&!fo,ny=Lr&&(!yd||fo&&8<fo&&11>=fo),ry=" ",iy=!1;function sy(i,l){switch(i){case"keyup":return pA.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ly(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var tl=!1;function gA(i,l){switch(i){case"compositionend":return ly(l);case"keypress":return l.which!==32?null:(iy=!0,ry);case"textInput":return i=l.data,i===ry&&iy?null:i;default:return null}}function yA(i,l){if(tl)return i==="compositionend"||!yd&&sy(i,l)?(i=Qg(),nu=dd=hi=null,tl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ny&&l.locale!=="ko"?null:l.data;default:return null}}var bA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oy(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!bA[i.type]:l==="textarea"}function ay(i,l,a,f){Zs?el?el.push(f):el=[f]:Zs=f,l=Gu(l,"onChange"),0<l.length&&(a=new su("onChange","change",null,a,f),i.push({event:a,listeners:l}))}var ho=null,po=null;function xA(i){qb(i,0)}function ou(i){var l=di(i);if(Vg(l))return i}function uy(i,l){if(i==="change")return l}var cy=!1;if(Lr){var bd;if(Lr){var xd="oninput"in document;if(!xd){var fy=document.createElement("div");fy.setAttribute("oninput","return;"),xd=typeof fy.oninput=="function"}bd=xd}else bd=!1;cy=bd&&(!document.documentMode||9<document.documentMode)}function dy(){ho&&(ho.detachEvent("onpropertychange",hy),po=ho=null)}function hy(i){if(i.propertyName==="value"&&ou(po)){var l=[];ay(l,po,i,ud(i)),Jg(xA,l)}}function SA(i,l,a){i==="focusin"?(dy(),ho=l,po=a,ho.attachEvent("onpropertychange",hy)):i==="focusout"&&dy()}function vA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ou(po)}function EA(i,l){if(i==="click")return ou(l)}function TA(i,l){if(i==="input"||i==="change")return ou(l)}function AA(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var vn=typeof Object.is=="function"?Object.is:AA;function mo(i,l){if(vn(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var a=Object.keys(i),f=Object.keys(l);if(a.length!==f.length)return!1;for(f=0;f<a.length;f++){var p=a[f];if(!ur.call(l,p)||!vn(i[p],l[p]))return!1}return!0}function py(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function my(i,l){var a=py(i);i=0;for(var f;a;){if(a.nodeType===3){if(f=i+a.textContent.length,i<=l&&f>=l)return{node:a,offset:l-i};i=f}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=py(a)}}function gy(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?gy(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function yy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=eu(i.document);l instanceof i.HTMLIFrameElement;){try{var a=typeof l.contentWindow.location.href=="string"}catch{a=!1}if(a)i=l.contentWindow;else break;l=eu(i.document)}return l}function Sd(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var wA=Lr&&"documentMode"in document&&11>=document.documentMode,nl=null,vd=null,go=null,Ed=!1;function by(i,l,a){var f=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ed||nl==null||nl!==eu(f)||(f=nl,"selectionStart"in f&&Sd(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),go&&mo(go,f)||(go=f,f=Gu(vd,"onSelect"),0<f.length&&(l=new su("onSelect","select",null,l,a),i.push({event:l,listeners:f}),l.target=nl)))}function us(i,l){var a={};return a[i.toLowerCase()]=l.toLowerCase(),a["Webkit"+i]="webkit"+l,a["Moz"+i]="moz"+l,a}var rl={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionrun:us("Transition","TransitionRun"),transitionstart:us("Transition","TransitionStart"),transitioncancel:us("Transition","TransitionCancel"),transitionend:us("Transition","TransitionEnd")},Td={},xy={};Lr&&(xy=document.createElement("div").style,"AnimationEvent"in window||(delete rl.animationend.animation,delete rl.animationiteration.animation,delete rl.animationstart.animation),"TransitionEvent"in window||delete rl.transitionend.transition);function cs(i){if(Td[i])return Td[i];if(!rl[i])return i;var l=rl[i],a;for(a in l)if(l.hasOwnProperty(a)&&a in xy)return Td[i]=l[a];return i}var Sy=cs("animationend"),vy=cs("animationiteration"),Ey=cs("animationstart"),CA=cs("transitionrun"),NA=cs("transitionstart"),OA=cs("transitioncancel"),Ty=cs("transitionend"),Ay=new Map,Ad="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ad.push("scrollEnd");function er(i,l){Ay.set(i,l),X(l,[i])}var wy=new WeakMap;function Ln(i,l){if(typeof i=="object"&&i!==null){var a=wy.get(i);return a!==void 0?a:(l={value:i,source:l,stack:Ig(l)},wy.set(i,l),l)}return{value:i,source:l,stack:Ig(l)}}var zn=[],il=0,wd=0;function au(){for(var i=il,l=wd=il=0;l<i;){var a=zn[l];zn[l++]=null;var f=zn[l];zn[l++]=null;var p=zn[l];zn[l++]=null;var g=zn[l];if(zn[l++]=null,f!==null&&p!==null){var E=f.pending;E===null?p.next=p:(p.next=E.next,E.next=p),f.pending=p}g!==0&&Cy(a,p,g)}}function uu(i,l,a,f){zn[il++]=i,zn[il++]=l,zn[il++]=a,zn[il++]=f,wd|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function Cd(i,l,a,f){return uu(i,l,a,f),cu(i)}function sl(i,l){return uu(i,null,null,l),cu(i)}function Cy(i,l,a){i.lanes|=a;var f=i.alternate;f!==null&&(f.lanes|=a);for(var p=!1,g=i.return;g!==null;)g.childLanes|=a,f=g.alternate,f!==null&&(f.childLanes|=a),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(p=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,p&&l!==null&&(p=31-qt(a),i=g.hiddenUpdates,f=i[p],f===null?i[p]=[l]:f.push(l),l.lane=a|536870912),g):null}function cu(i){if(50<Io)throw Io=0,Dh=null,Error(r(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var ll={};function kA(i,l,a,f){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(i,l,a,f){return new kA(i,l,a,f)}function Nd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function zr(i,l){var a=i.alternate;return a===null?(a=En(i.tag,l,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=l,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,l=i.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function Ny(i,l){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,l=a.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function fu(i,l,a,f,p,g){var E=0;if(f=i,typeof i=="function")Nd(i)&&(E=1);else if(typeof i=="string")E=Rw(i,a,ce.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case Z:return i=En(31,a,l,p),i.elementType=Z,i.lanes=g,i;case x:return fs(a.children,p,g,l);case v:E=8,p|=24;break;case A:return i=En(12,a,l,p|2),i.elementType=A,i.lanes=g,i;case P:return i=En(13,a,l,p),i.elementType=P,i.lanes=g,i;case W:return i=En(19,a,l,p),i.elementType=W,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case C:case _:E=10;break e;case O:E=9;break e;case q:E=11;break e;case ee:E=14;break e;case oe:E=16,f=null;break e}E=29,a=Error(r(130,i===null?"null":typeof i,"")),f=null}return l=En(E,a,l,p),l.elementType=i,l.type=f,l.lanes=g,l}function fs(i,l,a,f){return i=En(7,i,f,l),i.lanes=a,i}function Od(i,l,a){return i=En(6,i,null,l),i.lanes=a,i}function kd(i,l,a){return l=En(4,i.children!==null?i.children:[],i.key,l),l.lanes=a,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var ol=[],al=0,du=null,hu=0,Bn=[],Hn=0,ds=null,Br=1,Hr="";function hs(i,l){ol[al++]=hu,ol[al++]=du,du=i,hu=l}function Oy(i,l,a){Bn[Hn++]=Br,Bn[Hn++]=Hr,Bn[Hn++]=ds,ds=i;var f=Br;i=Hr;var p=32-qt(f)-1;f&=~(1<<p),a+=1;var g=32-qt(l)+p;if(30<g){var E=p-p%5;g=(f&(1<<E)-1).toString(32),f>>=E,p-=E,Br=1<<32-qt(l)+p|a<<p|f,Hr=g+i}else Br=1<<g|a<<p|f,Hr=i}function Md(i){i.return!==null&&(hs(i,1),Oy(i,1,0))}function Rd(i){for(;i===du;)du=ol[--al],ol[al]=null,hu=ol[--al],ol[al]=null;for(;i===ds;)ds=Bn[--Hn],Bn[Hn]=null,Hr=Bn[--Hn],Bn[Hn]=null,Br=Bn[--Hn],Bn[Hn]=null}var Qt=null,rt=null,Be=!1,ps=null,hr=!1,Dd=Error(r(519));function ms(i){var l=Error(r(418,""));throw xo(Ln(l,i)),Dd}function ky(i){var l=i.stateNode,a=i.type,f=i.memoizedProps;switch(l[gt]=i,l[Vt]=f,a){case"dialog":je("cancel",l),je("close",l);break;case"iframe":case"object":case"embed":je("load",l);break;case"video":case"audio":for(a=0;a<Vo.length;a++)je(Vo[a],l);break;case"source":je("error",l);break;case"img":case"image":case"link":je("error",l),je("load",l);break;case"details":je("toggle",l);break;case"input":je("invalid",l),Fg(l,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Za(l);break;case"select":je("invalid",l);break;case"textarea":je("invalid",l),Gg(l,f.value,f.defaultValue,f.children),Za(l)}a=f.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||l.textContent===""+a||f.suppressHydrationWarning===!0||Gb(l.textContent,a)?(f.popover!=null&&(je("beforetoggle",l),je("toggle",l)),f.onScroll!=null&&je("scroll",l),f.onScrollEnd!=null&&je("scrollend",l),f.onClick!=null&&(l.onclick=Yu),l=!0):l=!1,l||ms(i)}function My(i){for(Qt=i.return;Qt;)switch(Qt.tag){case 5:case 13:hr=!1;return;case 27:case 3:hr=!0;return;default:Qt=Qt.return}}function yo(i){if(i!==Qt)return!1;if(!Be)return My(i),Be=!0,!1;var l=i.tag,a;if((a=l!==3&&l!==27)&&((a=l===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Kh(i.type,i.memoizedProps)),a=!a),a&&rt&&ms(i),My(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8)if(a=i.data,a==="/$"){if(l===0){rt=nr(i.nextSibling);break e}l--}else a!=="$"&&a!=="$!"&&a!=="$?"||l++;i=i.nextSibling}rt=null}}else l===27?(l=rt,ki(i.type)?(i=Wh,Wh=null,rt=i):rt=l):rt=Qt?nr(i.stateNode.nextSibling):null;return!0}function bo(){rt=Qt=null,Be=!1}function Ry(){var i=ps;return i!==null&&(dn===null?dn=i:dn.push.apply(dn,i),ps=null),i}function xo(i){ps===null?ps=[i]:ps.push(i)}var jd=V(null),gs=null,Ur=null;function pi(i,l,a){Q(jd,l._currentValue),l._currentValue=a}function Pr(i){i._currentValue=jd.current,ne(jd)}function _d(i,l,a){for(;i!==null;){var f=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,f!==null&&(f.childLanes|=l)):f!==null&&(f.childLanes&l)!==l&&(f.childLanes|=l),i===a)break;i=i.return}}function Ld(i,l,a,f){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var g=p.dependencies;if(g!==null){var E=p.child;g=g.firstContext;e:for(;g!==null;){var w=g;g=p;for(var N=0;N<l.length;N++)if(w.context===l[N]){g.lanes|=a,w=g.alternate,w!==null&&(w.lanes|=a),_d(g.return,a,i),f||(E=null);break e}g=w.next}}else if(p.tag===18){if(E=p.return,E===null)throw Error(r(341));E.lanes|=a,g=E.alternate,g!==null&&(g.lanes|=a),_d(E,a,i),E=null}else E=p.child;if(E!==null)E.return=p;else for(E=p;E!==null;){if(E===i){E=null;break}if(p=E.sibling,p!==null){p.return=E.return,E=p;break}E=E.return}p=E}}function So(i,l,a,f){i=null;for(var p=l,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var E=p.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var w=p.type;vn(p.pendingProps.value,E.value)||(i!==null?i.push(w):i=[w])}}else if(p===Mt.current){if(E=p.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Xo):i=[Xo])}p=p.return}i!==null&&Ld(l,i,a,f),l.flags|=262144}function pu(i){for(i=i.firstContext;i!==null;){if(!vn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ys(i){gs=i,Ur=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function $t(i){return Dy(gs,i)}function mu(i,l){return gs===null&&ys(i),Dy(i,l)}function Dy(i,l){var a=l._currentValue;if(l={context:l,memoizedValue:a,next:null},Ur===null){if(i===null)throw Error(r(308));Ur=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else Ur=Ur.next=l;return a}var MA=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(a,f){i.push(f)}};this.abort=function(){l.aborted=!0,i.forEach(function(a){return a()})}},RA=n.unstable_scheduleCallback,DA=n.unstable_NormalPriority,bt={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zd(){return{controller:new MA,data:new Map,refCount:0}}function vo(i){i.refCount--,i.refCount===0&&RA(DA,function(){i.controller.abort()})}var Eo=null,Bd=0,ul=0,cl=null;function jA(i,l){if(Eo===null){var a=Eo=[];Bd=0,ul=Uh(),cl={status:"pending",value:void 0,then:function(f){a.push(f)}}}return Bd++,l.then(jy,jy),l}function jy(){if(--Bd===0&&Eo!==null){cl!==null&&(cl.status="fulfilled");var i=Eo;Eo=null,ul=0,cl=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function _A(i,l){var a=[],f={status:"pending",value:null,reason:null,then:function(p){a.push(p)}};return i.then(function(){f.status="fulfilled",f.value=l;for(var p=0;p<a.length;p++)(0,a[p])(l)},function(p){for(f.status="rejected",f.reason=p,p=0;p<a.length;p++)(0,a[p])(void 0)}),f}var _y=B.S;B.S=function(i,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&jA(i,l),_y!==null&&_y(i,l)};var bs=V(null);function Hd(){var i=bs.current;return i!==null?i:Xe.pooledCache}function gu(i,l){l===null?Q(bs,bs.current):Q(bs,l.pool)}function Ly(){var i=Hd();return i===null?null:{parent:bt._currentValue,pool:i}}var To=Error(r(460)),zy=Error(r(474)),yu=Error(r(542)),Ud={then:function(){}};function By(i){return i=i.status,i==="fulfilled"||i==="rejected"}function bu(){}function Hy(i,l,a){switch(a=i[a],a===void 0?i.push(l):a!==l&&(l.then(bu,bu),l=a),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,Py(i),i;default:if(typeof l.status=="string")l.then(bu,bu);else{if(i=Xe,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=l,i.status="pending",i.then(function(f){if(l.status==="pending"){var p=l;p.status="fulfilled",p.value=f}},function(f){if(l.status==="pending"){var p=l;p.status="rejected",p.reason=f}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,Py(i),i}throw Ao=l,To}}var Ao=null;function Uy(){if(Ao===null)throw Error(r(459));var i=Ao;return Ao=null,i}function Py(i){if(i===To||i===yu)throw Error(r(483))}var mi=!1;function Pd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Id(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function gi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function yi(i,l,a){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Ue&2)!==0){var p=f.pending;return p===null?l.next=l:(l.next=p.next,p.next=l),f.pending=l,l=cu(i),Cy(i,null,a),l}return uu(i,f,l,a),cu(i)}function wo(i,l,a){if(l=l.updateQueue,l!==null&&(l=l.shared,(a&4194048)!==0)){var f=l.lanes;f&=i.pendingLanes,a|=f,l.lanes=a,ot(i,a)}}function qd(i,l){var a=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,a===f)){var p=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?p=g=E:g=g.next=E,a=a.next}while(a!==null);g===null?p=g=l:g=g.next=l}else p=g=l;a={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:f.shared,callbacks:f.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=l:i.next=l,a.lastBaseUpdate=l}var Vd=!1;function Co(){if(Vd){var i=cl;if(i!==null)throw i}}function No(i,l,a,f){Vd=!1;var p=i.updateQueue;mi=!1;var g=p.firstBaseUpdate,E=p.lastBaseUpdate,w=p.shared.pending;if(w!==null){p.shared.pending=null;var N=w,z=N.next;N.next=null,E===null?g=z:E.next=z,E=N;var F=i.alternate;F!==null&&(F=F.updateQueue,w=F.lastBaseUpdate,w!==E&&(w===null?F.firstBaseUpdate=z:w.next=z,F.lastBaseUpdate=N))}if(g!==null){var G=p.baseState;E=0,F=z=N=null,w=g;do{var H=w.lane&-536870913,U=H!==w.lane;if(U?(Le&H)===H:(f&H)===H){H!==0&&H===ul&&(Vd=!0),F!==null&&(F=F.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ye=i,pe=w;H=l;var Ve=a;switch(pe.tag){case 1:if(ye=pe.payload,typeof ye=="function"){G=ye.call(Ve,G,H);break e}G=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=pe.payload,H=typeof ye=="function"?ye.call(Ve,G,H):ye,H==null)break e;G=m({},G,H);break e;case 2:mi=!0}}H=w.callback,H!==null&&(i.flags|=64,U&&(i.flags|=8192),U=p.callbacks,U===null?p.callbacks=[H]:U.push(H))}else U={lane:H,tag:w.tag,payload:w.payload,callback:w.callback,next:null},F===null?(z=F=U,N=G):F=F.next=U,E|=H;if(w=w.next,w===null){if(w=p.shared.pending,w===null)break;U=w,w=U.next,U.next=null,p.lastBaseUpdate=U,p.shared.pending=null}}while(!0);F===null&&(N=G),p.baseState=N,p.firstBaseUpdate=z,p.lastBaseUpdate=F,g===null&&(p.shared.lanes=0),wi|=E,i.lanes=E,i.memoizedState=G}}function Iy(i,l){if(typeof i!="function")throw Error(r(191,i));i.call(l)}function qy(i,l){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)Iy(a[i],l)}var fl=V(null),xu=V(0);function Vy(i,l){i=Yr,Q(xu,i),Q(fl,l),Yr=i|l.baseLanes}function Fd(){Q(xu,Yr),Q(fl,fl.current)}function $d(){Yr=xu.current,ne(fl),ne(xu)}var bi=0,Ne=null,Ie=null,ht=null,Su=!1,dl=!1,xs=!1,vu=0,Oo=0,hl=null,LA=0;function at(){throw Error(r(321))}function Gd(i,l){if(l===null)return!1;for(var a=0;a<l.length&&a<i.length;a++)if(!vn(i[a],l[a]))return!1;return!0}function Yd(i,l,a,f,p,g){return bi=g,Ne=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,B.H=i===null||i.memoizedState===null?C0:N0,xs=!1,g=a(f,p),xs=!1,dl&&(g=$y(l,a,f,p)),Fy(i),g}function Fy(i){B.H=Nu;var l=Ie!==null&&Ie.next!==null;if(bi=0,ht=Ie=Ne=null,Su=!1,Oo=0,hl=null,l)throw Error(r(300));i===null||Et||(i=i.dependencies,i!==null&&pu(i)&&(Et=!0))}function $y(i,l,a,f){Ne=i;var p=0;do{if(dl&&(hl=null),Oo=0,dl=!1,25<=p)throw Error(r(301));if(p+=1,ht=Ie=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}B.H=qA,g=l(a,f)}while(dl);return g}function zA(){var i=B.H,l=i.useState()[0];return l=typeof l.then=="function"?ko(l):l,i=i.useState()[0],(Ie!==null?Ie.memoizedState:null)!==i&&(Ne.flags|=1024),l}function Kd(){var i=vu!==0;return vu=0,i}function Xd(i,l,a){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~a}function Jd(i){if(Su){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}Su=!1}bi=0,ht=Ie=Ne=null,dl=!1,Oo=vu=0,hl=null}function cn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Ne.memoizedState=ht=i:ht=ht.next=i,ht}function pt(){if(Ie===null){var i=Ne.alternate;i=i!==null?i.memoizedState:null}else i=Ie.next;var l=ht===null?Ne.memoizedState:ht.next;if(l!==null)ht=l,Ie=i;else{if(i===null)throw Ne.alternate===null?Error(r(467)):Error(r(310));Ie=i,i={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},ht===null?Ne.memoizedState=ht=i:ht=ht.next=i}return ht}function Qd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ko(i){var l=Oo;return Oo+=1,hl===null&&(hl=[]),i=Hy(hl,i,l),l=Ne,(ht===null?l.memoizedState:ht.next)===null&&(l=l.alternate,B.H=l===null||l.memoizedState===null?C0:N0),i}function Eu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ko(i);if(i.$$typeof===_)return $t(i)}throw Error(r(438,String(i)))}function Wd(i){var l=null,a=Ne.updateQueue;if(a!==null&&(l=a.memoCache),l==null){var f=Ne.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(l={data:f.data.map(function(p){return p.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),a===null&&(a=Qd(),Ne.updateQueue=a),a.memoCache=l,a=l.data[l.index],a===void 0)for(a=l.data[l.index]=Array(i),f=0;f<i;f++)a[f]=Me;return l.index++,a}function Ir(i,l){return typeof l=="function"?l(i):l}function Tu(i){var l=pt();return Zd(l,Ie,i)}function Zd(i,l,a){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=a;var p=i.baseQueue,g=f.pending;if(g!==null){if(p!==null){var E=p.next;p.next=g.next,g.next=E}l.baseQueue=p=g,f.pending=null}if(g=i.baseState,p===null)i.memoizedState=g;else{l=p.next;var w=E=null,N=null,z=l,F=!1;do{var G=z.lane&-536870913;if(G!==z.lane?(Le&G)===G:(bi&G)===G){var H=z.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),G===ul&&(F=!0);else if((bi&H)===H){z=z.next,H===ul&&(F=!0);continue}else G={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(w=N=G,E=g):N=N.next=G,Ne.lanes|=H,wi|=H;G=z.action,xs&&a(g,G),g=z.hasEagerState?z.eagerState:a(g,G)}else H={lane:G,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(w=N=H,E=g):N=N.next=H,Ne.lanes|=G,wi|=G;z=z.next}while(z!==null&&z!==l);if(N===null?E=g:N.next=w,!vn(g,i.memoizedState)&&(Et=!0,F&&(a=cl,a!==null)))throw a;i.memoizedState=g,i.baseState=E,i.baseQueue=N,f.lastRenderedState=g}return p===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function eh(i){var l=pt(),a=l.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var f=a.dispatch,p=a.pending,g=l.memoizedState;if(p!==null){a.pending=null;var E=p=p.next;do g=i(g,E.action),E=E.next;while(E!==p);vn(g,l.memoizedState)||(Et=!0),l.memoizedState=g,l.baseQueue===null&&(l.baseState=g),a.lastRenderedState=g}return[g,f]}function Gy(i,l,a){var f=Ne,p=pt(),g=Be;if(g){if(a===void 0)throw Error(r(407));a=a()}else a=l();var E=!vn((Ie||p).memoizedState,a);E&&(p.memoizedState=a,Et=!0),p=p.queue;var w=Xy.bind(null,f,p,i);if(Mo(2048,8,w,[i]),p.getSnapshot!==l||E||ht!==null&&ht.memoizedState.tag&1){if(f.flags|=2048,pl(9,Au(),Ky.bind(null,f,p,a,l),null),Xe===null)throw Error(r(349));g||(bi&124)!==0||Yy(f,l,a)}return a}function Yy(i,l,a){i.flags|=16384,i={getSnapshot:l,value:a},l=Ne.updateQueue,l===null?(l=Qd(),Ne.updateQueue=l,l.stores=[i]):(a=l.stores,a===null?l.stores=[i]:a.push(i))}function Ky(i,l,a,f){l.value=a,l.getSnapshot=f,Jy(l)&&Qy(i)}function Xy(i,l,a){return a(function(){Jy(l)&&Qy(i)})}function Jy(i){var l=i.getSnapshot;i=i.value;try{var a=l();return!vn(i,a)}catch{return!0}}function Qy(i){var l=sl(i,2);l!==null&&Nn(l,i,2)}function th(i){var l=cn();if(typeof i=="function"){var a=i;if(i=a(),xs){Qn(!0);try{a()}finally{Qn(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:i},l}function Wy(i,l,a,f){return i.baseState=a,Zd(i,Ie,typeof f=="function"?f:Ir)}function BA(i,l,a,f,p){if(Cu(i))throw Error(r(485));if(i=l.action,i!==null){var g={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};B.T!==null?a(!0):g.isTransition=!1,f(g),a=l.pending,a===null?(g.next=l.pending=g,Zy(l,g)):(g.next=a.next,l.pending=a.next=g)}}function Zy(i,l){var a=l.action,f=l.payload,p=i.state;if(l.isTransition){var g=B.T,E={};B.T=E;try{var w=a(p,f),N=B.S;N!==null&&N(E,w),e0(i,l,w)}catch(z){nh(i,l,z)}finally{B.T=g}}else try{g=a(p,f),e0(i,l,g)}catch(z){nh(i,l,z)}}function e0(i,l,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(f){t0(i,l,f)},function(f){return nh(i,l,f)}):t0(i,l,a)}function t0(i,l,a){l.status="fulfilled",l.value=a,n0(l),i.state=a,l=i.pending,l!==null&&(a=l.next,a===l?i.pending=null:(a=a.next,l.next=a,Zy(i,a)))}function nh(i,l,a){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do l.status="rejected",l.reason=a,n0(l),l=l.next;while(l!==f)}i.action=null}function n0(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function r0(i,l){return l}function i0(i,l){if(Be){var a=Xe.formState;if(a!==null){e:{var f=Ne;if(Be){if(rt){t:{for(var p=rt,g=hr;p.nodeType!==8;){if(!g){p=null;break t}if(p=nr(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){rt=nr(p.nextSibling),f=p.data==="F!";break e}}ms(f)}f=!1}f&&(l=a[0])}}return a=cn(),a.memoizedState=a.baseState=l,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r0,lastRenderedState:l},a.queue=f,a=T0.bind(null,Ne,f),f.dispatch=a,f=th(!1),g=oh.bind(null,Ne,!1,f.queue),f=cn(),p={state:l,dispatch:null,action:i,pending:null},f.queue=p,a=BA.bind(null,Ne,p,g,a),p.dispatch=a,f.memoizedState=i,[l,a,!1]}function s0(i){var l=pt();return l0(l,Ie,i)}function l0(i,l,a){if(l=Zd(i,l,r0)[0],i=Tu(Ir)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var f=ko(l)}catch(E){throw E===To?yu:E}else f=l;l=pt();var p=l.queue,g=p.dispatch;return a!==l.memoizedState&&(Ne.flags|=2048,pl(9,Au(),HA.bind(null,p,a),null)),[f,g,i]}function HA(i,l){i.action=l}function o0(i){var l=pt(),a=Ie;if(a!==null)return l0(l,a,i);pt(),l=l.memoizedState,a=pt();var f=a.queue.dispatch;return a.memoizedState=i,[l,f,!1]}function pl(i,l,a,f){return i={tag:i,create:a,deps:f,inst:l,next:null},l=Ne.updateQueue,l===null&&(l=Qd(),Ne.updateQueue=l),a=l.lastEffect,a===null?l.lastEffect=i.next=i:(f=a.next,a.next=i,i.next=f,l.lastEffect=i),i}function Au(){return{destroy:void 0,resource:void 0}}function a0(){return pt().memoizedState}function wu(i,l,a,f){var p=cn();f=f===void 0?null:f,Ne.flags|=i,p.memoizedState=pl(1|l,Au(),a,f)}function Mo(i,l,a,f){var p=pt();f=f===void 0?null:f;var g=p.memoizedState.inst;Ie!==null&&f!==null&&Gd(f,Ie.memoizedState.deps)?p.memoizedState=pl(l,g,a,f):(Ne.flags|=i,p.memoizedState=pl(1|l,g,a,f))}function u0(i,l){wu(8390656,8,i,l)}function c0(i,l){Mo(2048,8,i,l)}function f0(i,l){return Mo(4,2,i,l)}function d0(i,l){return Mo(4,4,i,l)}function h0(i,l){if(typeof l=="function"){i=i();var a=l(i);return function(){typeof a=="function"?a():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function p0(i,l,a){a=a!=null?a.concat([i]):null,Mo(4,4,h0.bind(null,l,i),a)}function rh(){}function m0(i,l){var a=pt();l=l===void 0?null:l;var f=a.memoizedState;return l!==null&&Gd(l,f[1])?f[0]:(a.memoizedState=[i,l],i)}function g0(i,l){var a=pt();l=l===void 0?null:l;var f=a.memoizedState;if(l!==null&&Gd(l,f[1]))return f[0];if(f=i(),xs){Qn(!0);try{i()}finally{Qn(!1)}}return a.memoizedState=[f,l],f}function ih(i,l,a){return a===void 0||(bi&1073741824)!==0?i.memoizedState=l:(i.memoizedState=a,i=xb(),Ne.lanes|=i,wi|=i,a)}function y0(i,l,a,f){return vn(a,l)?a:fl.current!==null?(i=ih(i,a,f),vn(i,l)||(Et=!0),i):(bi&42)===0?(Et=!0,i.memoizedState=a):(i=xb(),Ne.lanes|=i,wi|=i,l)}function b0(i,l,a,f,p){var g=Y.p;Y.p=g!==0&&8>g?g:8;var E=B.T,w={};B.T=w,oh(i,!1,l,a);try{var N=p(),z=B.S;if(z!==null&&z(w,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var F=_A(N,f);Ro(i,l,F,Cn(i))}else Ro(i,l,f,Cn(i))}catch(G){Ro(i,l,{then:function(){},status:"rejected",reason:G},Cn())}finally{Y.p=g,B.T=E}}function UA(){}function sh(i,l,a,f){if(i.tag!==5)throw Error(r(476));var p=x0(i).queue;b0(i,p,l,le,a===null?UA:function(){return S0(i),a(f)})}function x0(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:le},next:null};var a={};return l.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:a},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function S0(i){var l=x0(i).next.queue;Ro(i,l,{},Cn())}function lh(){return $t(Xo)}function v0(){return pt().memoizedState}function E0(){return pt().memoizedState}function PA(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var a=Cn();i=gi(a);var f=yi(l,i,a);f!==null&&(Nn(f,l,a),wo(f,l,a)),l={cache:zd()},i.payload=l;return}l=l.return}}function IA(i,l,a){var f=Cn();a={lane:f,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Cu(i)?A0(l,a):(a=Cd(i,l,a,f),a!==null&&(Nn(a,i,f),w0(a,l,f)))}function T0(i,l,a){var f=Cn();Ro(i,l,a,f)}function Ro(i,l,a,f){var p={lane:f,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Cu(i))A0(l,p);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=l.lastRenderedReducer,g!==null))try{var E=l.lastRenderedState,w=g(E,a);if(p.hasEagerState=!0,p.eagerState=w,vn(w,E))return uu(i,l,p,0),Xe===null&&au(),!1}catch{}finally{}if(a=Cd(i,l,p,f),a!==null)return Nn(a,i,f),w0(a,l,f),!0}return!1}function oh(i,l,a,f){if(f={lane:2,revertLane:Uh(),action:f,hasEagerState:!1,eagerState:null,next:null},Cu(i)){if(l)throw Error(r(479))}else l=Cd(i,a,f,2),l!==null&&Nn(l,i,2)}function Cu(i){var l=i.alternate;return i===Ne||l!==null&&l===Ne}function A0(i,l){dl=Su=!0;var a=i.pending;a===null?l.next=l:(l.next=a.next,a.next=l),i.pending=l}function w0(i,l,a){if((a&4194048)!==0){var f=l.lanes;f&=i.pendingLanes,a|=f,l.lanes=a,ot(i,a)}}var Nu={readContext:$t,use:Eu,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useLayoutEffect:at,useInsertionEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useSyncExternalStore:at,useId:at,useHostTransitionStatus:at,useFormState:at,useActionState:at,useOptimistic:at,useMemoCache:at,useCacheRefresh:at},C0={readContext:$t,use:Eu,useCallback:function(i,l){return cn().memoizedState=[i,l===void 0?null:l],i},useContext:$t,useEffect:u0,useImperativeHandle:function(i,l,a){a=a!=null?a.concat([i]):null,wu(4194308,4,h0.bind(null,l,i),a)},useLayoutEffect:function(i,l){return wu(4194308,4,i,l)},useInsertionEffect:function(i,l){wu(4,2,i,l)},useMemo:function(i,l){var a=cn();l=l===void 0?null:l;var f=i();if(xs){Qn(!0);try{i()}finally{Qn(!1)}}return a.memoizedState=[f,l],f},useReducer:function(i,l,a){var f=cn();if(a!==void 0){var p=a(l);if(xs){Qn(!0);try{a(l)}finally{Qn(!1)}}}else p=l;return f.memoizedState=f.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},f.queue=i,i=i.dispatch=IA.bind(null,Ne,i),[f.memoizedState,i]},useRef:function(i){var l=cn();return i={current:i},l.memoizedState=i},useState:function(i){i=th(i);var l=i.queue,a=T0.bind(null,Ne,l);return l.dispatch=a,[i.memoizedState,a]},useDebugValue:rh,useDeferredValue:function(i,l){var a=cn();return ih(a,i,l)},useTransition:function(){var i=th(!1);return i=b0.bind(null,Ne,i.queue,!0,!1),cn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,a){var f=Ne,p=cn();if(Be){if(a===void 0)throw Error(r(407));a=a()}else{if(a=l(),Xe===null)throw Error(r(349));(Le&124)!==0||Yy(f,l,a)}p.memoizedState=a;var g={value:a,getSnapshot:l};return p.queue=g,u0(Xy.bind(null,f,g,i),[i]),f.flags|=2048,pl(9,Au(),Ky.bind(null,f,g,a,l),null),a},useId:function(){var i=cn(),l=Xe.identifierPrefix;if(Be){var a=Hr,f=Br;a=(f&~(1<<32-qt(f)-1)).toString(32)+a,l="«"+l+"R"+a,a=vu++,0<a&&(l+="H"+a.toString(32)),l+="»"}else a=LA++,l="«"+l+"r"+a.toString(32)+"»";return i.memoizedState=l},useHostTransitionStatus:lh,useFormState:i0,useActionState:i0,useOptimistic:function(i){var l=cn();l.memoizedState=l.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=a,l=oh.bind(null,Ne,!0,a),a.dispatch=l,[i,l]},useMemoCache:Wd,useCacheRefresh:function(){return cn().memoizedState=PA.bind(null,Ne)}},N0={readContext:$t,use:Eu,useCallback:m0,useContext:$t,useEffect:c0,useImperativeHandle:p0,useInsertionEffect:f0,useLayoutEffect:d0,useMemo:g0,useReducer:Tu,useRef:a0,useState:function(){return Tu(Ir)},useDebugValue:rh,useDeferredValue:function(i,l){var a=pt();return y0(a,Ie.memoizedState,i,l)},useTransition:function(){var i=Tu(Ir)[0],l=pt().memoizedState;return[typeof i=="boolean"?i:ko(i),l]},useSyncExternalStore:Gy,useId:v0,useHostTransitionStatus:lh,useFormState:s0,useActionState:s0,useOptimistic:function(i,l){var a=pt();return Wy(a,Ie,i,l)},useMemoCache:Wd,useCacheRefresh:E0},qA={readContext:$t,use:Eu,useCallback:m0,useContext:$t,useEffect:c0,useImperativeHandle:p0,useInsertionEffect:f0,useLayoutEffect:d0,useMemo:g0,useReducer:eh,useRef:a0,useState:function(){return eh(Ir)},useDebugValue:rh,useDeferredValue:function(i,l){var a=pt();return Ie===null?ih(a,i,l):y0(a,Ie.memoizedState,i,l)},useTransition:function(){var i=eh(Ir)[0],l=pt().memoizedState;return[typeof i=="boolean"?i:ko(i),l]},useSyncExternalStore:Gy,useId:v0,useHostTransitionStatus:lh,useFormState:o0,useActionState:o0,useOptimistic:function(i,l){var a=pt();return Ie!==null?Wy(a,Ie,i,l):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:Wd,useCacheRefresh:E0},ml=null,Do=0;function Ou(i){var l=Do;return Do+=1,ml===null&&(ml=[]),Hy(ml,i,l)}function jo(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function ku(i,l){throw l.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(l),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function O0(i){var l=i._init;return l(i._payload)}function k0(i){function l(j,M){if(i){var L=j.deletions;L===null?(j.deletions=[M],j.flags|=16):L.push(M)}}function a(j,M){if(!i)return null;for(;M!==null;)l(j,M),M=M.sibling;return null}function f(j){for(var M=new Map;j!==null;)j.key!==null?M.set(j.key,j):M.set(j.index,j),j=j.sibling;return M}function p(j,M){return j=zr(j,M),j.index=0,j.sibling=null,j}function g(j,M,L){return j.index=L,i?(L=j.alternate,L!==null?(L=L.index,L<M?(j.flags|=67108866,M):L):(j.flags|=67108866,M)):(j.flags|=1048576,M)}function E(j){return i&&j.alternate===null&&(j.flags|=67108866),j}function w(j,M,L,$){return M===null||M.tag!==6?(M=Od(L,j.mode,$),M.return=j,M):(M=p(M,L),M.return=j,M)}function N(j,M,L,$){var ie=L.type;return ie===x?F(j,M,L.props.children,$,L.key):M!==null&&(M.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===oe&&O0(ie)===M.type)?(M=p(M,L.props),jo(M,L),M.return=j,M):(M=fu(L.type,L.key,L.props,null,j.mode,$),jo(M,L),M.return=j,M)}function z(j,M,L,$){return M===null||M.tag!==4||M.stateNode.containerInfo!==L.containerInfo||M.stateNode.implementation!==L.implementation?(M=kd(L,j.mode,$),M.return=j,M):(M=p(M,L.children||[]),M.return=j,M)}function F(j,M,L,$,ie){return M===null||M.tag!==7?(M=fs(L,j.mode,$,ie),M.return=j,M):(M=p(M,L),M.return=j,M)}function G(j,M,L){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Od(""+M,j.mode,L),M.return=j,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case b:return L=fu(M.type,M.key,M.props,null,j.mode,L),jo(L,M),L.return=j,L;case S:return M=kd(M,j.mode,L),M.return=j,M;case oe:var $=M._init;return M=$(M._payload),G(j,M,L)}if(he(M)||xe(M))return M=fs(M,j.mode,L,null),M.return=j,M;if(typeof M.then=="function")return G(j,Ou(M),L);if(M.$$typeof===_)return G(j,mu(j,M),L);ku(j,M)}return null}function H(j,M,L,$){var ie=M!==null?M.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ie!==null?null:w(j,M,""+L,$);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case b:return L.key===ie?N(j,M,L,$):null;case S:return L.key===ie?z(j,M,L,$):null;case oe:return ie=L._init,L=ie(L._payload),H(j,M,L,$)}if(he(L)||xe(L))return ie!==null?null:F(j,M,L,$,null);if(typeof L.then=="function")return H(j,M,Ou(L),$);if(L.$$typeof===_)return H(j,M,mu(j,L),$);ku(j,L)}return null}function U(j,M,L,$,ie){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return j=j.get(L)||null,w(M,j,""+$,ie);if(typeof $=="object"&&$!==null){switch($.$$typeof){case b:return j=j.get($.key===null?L:$.key)||null,N(M,j,$,ie);case S:return j=j.get($.key===null?L:$.key)||null,z(M,j,$,ie);case oe:var Re=$._init;return $=Re($._payload),U(j,M,L,$,ie)}if(he($)||xe($))return j=j.get(L)||null,F(M,j,$,ie,null);if(typeof $.then=="function")return U(j,M,L,Ou($),ie);if($.$$typeof===_)return U(j,M,L,mu(M,$),ie);ku(M,$)}return null}function ye(j,M,L,$){for(var ie=null,Re=null,ue=M,ge=M=0,At=null;ue!==null&&ge<L.length;ge++){ue.index>ge?(At=ue,ue=null):At=ue.sibling;var ze=H(j,ue,L[ge],$);if(ze===null){ue===null&&(ue=At);break}i&&ue&&ze.alternate===null&&l(j,ue),M=g(ze,M,ge),Re===null?ie=ze:Re.sibling=ze,Re=ze,ue=At}if(ge===L.length)return a(j,ue),Be&&hs(j,ge),ie;if(ue===null){for(;ge<L.length;ge++)ue=G(j,L[ge],$),ue!==null&&(M=g(ue,M,ge),Re===null?ie=ue:Re.sibling=ue,Re=ue);return Be&&hs(j,ge),ie}for(ue=f(ue);ge<L.length;ge++)At=U(ue,j,ge,L[ge],$),At!==null&&(i&&At.alternate!==null&&ue.delete(At.key===null?ge:At.key),M=g(At,M,ge),Re===null?ie=At:Re.sibling=At,Re=At);return i&&ue.forEach(function(_i){return l(j,_i)}),Be&&hs(j,ge),ie}function pe(j,M,L,$){if(L==null)throw Error(r(151));for(var ie=null,Re=null,ue=M,ge=M=0,At=null,ze=L.next();ue!==null&&!ze.done;ge++,ze=L.next()){ue.index>ge?(At=ue,ue=null):At=ue.sibling;var _i=H(j,ue,ze.value,$);if(_i===null){ue===null&&(ue=At);break}i&&ue&&_i.alternate===null&&l(j,ue),M=g(_i,M,ge),Re===null?ie=_i:Re.sibling=_i,Re=_i,ue=At}if(ze.done)return a(j,ue),Be&&hs(j,ge),ie;if(ue===null){for(;!ze.done;ge++,ze=L.next())ze=G(j,ze.value,$),ze!==null&&(M=g(ze,M,ge),Re===null?ie=ze:Re.sibling=ze,Re=ze);return Be&&hs(j,ge),ie}for(ue=f(ue);!ze.done;ge++,ze=L.next())ze=U(ue,j,ge,ze.value,$),ze!==null&&(i&&ze.alternate!==null&&ue.delete(ze.key===null?ge:ze.key),M=g(ze,M,ge),Re===null?ie=ze:Re.sibling=ze,Re=ze);return i&&ue.forEach(function(Vw){return l(j,Vw)}),Be&&hs(j,ge),ie}function Ve(j,M,L,$){if(typeof L=="object"&&L!==null&&L.type===x&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case b:e:{for(var ie=L.key;M!==null;){if(M.key===ie){if(ie=L.type,ie===x){if(M.tag===7){a(j,M.sibling),$=p(M,L.props.children),$.return=j,j=$;break e}}else if(M.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===oe&&O0(ie)===M.type){a(j,M.sibling),$=p(M,L.props),jo($,L),$.return=j,j=$;break e}a(j,M);break}else l(j,M);M=M.sibling}L.type===x?($=fs(L.props.children,j.mode,$,L.key),$.return=j,j=$):($=fu(L.type,L.key,L.props,null,j.mode,$),jo($,L),$.return=j,j=$)}return E(j);case S:e:{for(ie=L.key;M!==null;){if(M.key===ie)if(M.tag===4&&M.stateNode.containerInfo===L.containerInfo&&M.stateNode.implementation===L.implementation){a(j,M.sibling),$=p(M,L.children||[]),$.return=j,j=$;break e}else{a(j,M);break}else l(j,M);M=M.sibling}$=kd(L,j.mode,$),$.return=j,j=$}return E(j);case oe:return ie=L._init,L=ie(L._payload),Ve(j,M,L,$)}if(he(L))return ye(j,M,L,$);if(xe(L)){if(ie=xe(L),typeof ie!="function")throw Error(r(150));return L=ie.call(L),pe(j,M,L,$)}if(typeof L.then=="function")return Ve(j,M,Ou(L),$);if(L.$$typeof===_)return Ve(j,M,mu(j,L),$);ku(j,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,M!==null&&M.tag===6?(a(j,M.sibling),$=p(M,L),$.return=j,j=$):(a(j,M),$=Od(L,j.mode,$),$.return=j,j=$),E(j)):a(j,M)}return function(j,M,L,$){try{Do=0;var ie=Ve(j,M,L,$);return ml=null,ie}catch(ue){if(ue===To||ue===yu)throw ue;var Re=En(29,ue,null,j.mode);return Re.lanes=$,Re.return=j,Re}finally{}}}var gl=k0(!0),M0=k0(!1),Un=V(null),pr=null;function xi(i){var l=i.alternate;Q(xt,xt.current&1),Q(Un,i),pr===null&&(l===null||fl.current!==null||l.memoizedState!==null)&&(pr=i)}function R0(i){if(i.tag===22){if(Q(xt,xt.current),Q(Un,i),pr===null){var l=i.alternate;l!==null&&l.memoizedState!==null&&(pr=i)}}else Si()}function Si(){Q(xt,xt.current),Q(Un,Un.current)}function qr(i){ne(Un),pr===i&&(pr=null),ne(xt)}var xt=V(0);function Mu(i){for(var l=i;l!==null;){if(l.tag===13){var a=l.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Qh(a)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function ah(i,l,a,f){l=i.memoizedState,a=a(f,l),a=a==null?l:m({},l,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var uh={enqueueSetState:function(i,l,a){i=i._reactInternals;var f=Cn(),p=gi(f);p.payload=l,a!=null&&(p.callback=a),l=yi(i,p,f),l!==null&&(Nn(l,i,f),wo(l,i,f))},enqueueReplaceState:function(i,l,a){i=i._reactInternals;var f=Cn(),p=gi(f);p.tag=1,p.payload=l,a!=null&&(p.callback=a),l=yi(i,p,f),l!==null&&(Nn(l,i,f),wo(l,i,f))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var a=Cn(),f=gi(a);f.tag=2,l!=null&&(f.callback=l),l=yi(i,f,a),l!==null&&(Nn(l,i,a),wo(l,i,a))}};function D0(i,l,a,f,p,g,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,g,E):l.prototype&&l.prototype.isPureReactComponent?!mo(a,f)||!mo(p,g):!0}function j0(i,l,a,f){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(a,f),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(a,f),l.state!==i&&uh.enqueueReplaceState(l,l.state,null)}function Ss(i,l){var a=l;if("ref"in l){a={};for(var f in l)f!=="ref"&&(a[f]=l[f])}if(i=i.defaultProps){a===l&&(a=m({},a));for(var p in i)a[p]===void 0&&(a[p]=i[p])}return a}var Ru=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function _0(i){Ru(i)}function L0(i){console.error(i)}function z0(i){Ru(i)}function Du(i,l){try{var a=i.onUncaughtError;a(l.value,{componentStack:l.stack})}catch(f){setTimeout(function(){throw f})}}function B0(i,l,a){try{var f=i.onCaughtError;f(a.value,{componentStack:a.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function ch(i,l,a){return a=gi(a),a.tag=3,a.payload={element:null},a.callback=function(){Du(i,l)},a}function H0(i){return i=gi(i),i.tag=3,i}function U0(i,l,a,f){var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var g=f.value;i.payload=function(){return p(g)},i.callback=function(){B0(l,a,f)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){B0(l,a,f),typeof p!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var w=f.stack;this.componentDidCatch(f.value,{componentStack:w!==null?w:""})})}function VA(i,l,a,f,p){if(a.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(l=a.alternate,l!==null&&So(l,a,p,!0),a=Un.current,a!==null){switch(a.tag){case 13:return pr===null?_h():a.alternate===null&&it===0&&(it=3),a.flags&=-257,a.flags|=65536,a.lanes=p,f===Ud?a.flags|=16384:(l=a.updateQueue,l===null?a.updateQueue=new Set([f]):l.add(f),zh(i,f,p)),!1;case 22:return a.flags|=65536,f===Ud?a.flags|=16384:(l=a.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([f])},a.updateQueue=l):(a=l.retryQueue,a===null?l.retryQueue=new Set([f]):a.add(f)),zh(i,f,p)),!1}throw Error(r(435,a.tag))}return zh(i,f,p),_h(),!1}if(Be)return l=Un.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=p,f!==Dd&&(i=Error(r(422),{cause:f}),xo(Ln(i,a)))):(f!==Dd&&(l=Error(r(423),{cause:f}),xo(Ln(l,a))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,f=Ln(f,a),p=ch(i.stateNode,f,p),qd(i,p),it!==4&&(it=2)),!1;var g=Error(r(520),{cause:f});if(g=Ln(g,a),Po===null?Po=[g]:Po.push(g),it!==4&&(it=2),l===null)return!0;f=Ln(f,a),a=l;do{switch(a.tag){case 3:return a.flags|=65536,i=p&-p,a.lanes|=i,i=ch(a.stateNode,f,i),qd(a,i),!1;case 1:if(l=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ci===null||!Ci.has(g))))return a.flags|=65536,p&=-p,a.lanes|=p,p=H0(p),U0(p,i,a,f),qd(a,p),!1}a=a.return}while(a!==null);return!1}var P0=Error(r(461)),Et=!1;function jt(i,l,a,f){l.child=i===null?M0(l,null,a,f):gl(l,i.child,a,f)}function I0(i,l,a,f,p){a=a.render;var g=l.ref;if("ref"in f){var E={};for(var w in f)w!=="ref"&&(E[w]=f[w])}else E=f;return ys(l),f=Yd(i,l,a,E,g,p),w=Kd(),i!==null&&!Et?(Xd(i,l,p),Vr(i,l,p)):(Be&&w&&Md(l),l.flags|=1,jt(i,l,f,p),l.child)}function q0(i,l,a,f,p){if(i===null){var g=a.type;return typeof g=="function"&&!Nd(g)&&g.defaultProps===void 0&&a.compare===null?(l.tag=15,l.type=g,V0(i,l,g,f,p)):(i=fu(a.type,null,f,l,l.mode,p),i.ref=l.ref,i.return=l,l.child=i)}if(g=i.child,!bh(i,p)){var E=g.memoizedProps;if(a=a.compare,a=a!==null?a:mo,a(E,f)&&i.ref===l.ref)return Vr(i,l,p)}return l.flags|=1,i=zr(g,f),i.ref=l.ref,i.return=l,l.child=i}function V0(i,l,a,f,p){if(i!==null){var g=i.memoizedProps;if(mo(g,f)&&i.ref===l.ref)if(Et=!1,l.pendingProps=f=g,bh(i,p))(i.flags&131072)!==0&&(Et=!0);else return l.lanes=i.lanes,Vr(i,l,p)}return fh(i,l,a,f,p)}function F0(i,l,a){var f=l.pendingProps,p=f.children,g=i!==null?i.memoizedState:null;if(f.mode==="hidden"){if((l.flags&128)!==0){if(f=g!==null?g.baseLanes|a:a,i!==null){for(p=l.child=i.child,g=0;p!==null;)g=g|p.lanes|p.childLanes,p=p.sibling;l.childLanes=g&~f}else l.childLanes=0,l.child=null;return $0(i,l,f,a)}if((a&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&gu(l,g!==null?g.cachePool:null),g!==null?Vy(l,g):Fd(),R0(l);else return l.lanes=l.childLanes=536870912,$0(i,l,g!==null?g.baseLanes|a:a,a)}else g!==null?(gu(l,g.cachePool),Vy(l,g),Si(),l.memoizedState=null):(i!==null&&gu(l,null),Fd(),Si());return jt(i,l,p,a),l.child}function $0(i,l,a,f){var p=Hd();return p=p===null?null:{parent:bt._currentValue,pool:p},l.memoizedState={baseLanes:a,cachePool:p},i!==null&&gu(l,null),Fd(),R0(l),i!==null&&So(i,l,f,!0),null}function ju(i,l){var a=l.ref;if(a===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(i===null||i.ref!==a)&&(l.flags|=4194816)}}function fh(i,l,a,f,p){return ys(l),a=Yd(i,l,a,f,void 0,p),f=Kd(),i!==null&&!Et?(Xd(i,l,p),Vr(i,l,p)):(Be&&f&&Md(l),l.flags|=1,jt(i,l,a,p),l.child)}function G0(i,l,a,f,p,g){return ys(l),l.updateQueue=null,a=$y(l,f,a,p),Fy(i),f=Kd(),i!==null&&!Et?(Xd(i,l,g),Vr(i,l,g)):(Be&&f&&Md(l),l.flags|=1,jt(i,l,a,g),l.child)}function Y0(i,l,a,f,p){if(ys(l),l.stateNode===null){var g=ll,E=a.contextType;typeof E=="object"&&E!==null&&(g=$t(E)),g=new a(f,g),l.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=uh,l.stateNode=g,g._reactInternals=l,g=l.stateNode,g.props=f,g.state=l.memoizedState,g.refs={},Pd(l),E=a.contextType,g.context=typeof E=="object"&&E!==null?$t(E):ll,g.state=l.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(ah(l,a,E,f),g.state=l.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&uh.enqueueReplaceState(g,g.state,null),No(l,f,g,p),Co(),g.state=l.memoizedState),typeof g.componentDidMount=="function"&&(l.flags|=4194308),f=!0}else if(i===null){g=l.stateNode;var w=l.memoizedProps,N=Ss(a,w);g.props=N;var z=g.context,F=a.contextType;E=ll,typeof F=="object"&&F!==null&&(E=$t(F));var G=a.getDerivedStateFromProps;F=typeof G=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=l.pendingProps!==w,F||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||z!==E)&&j0(l,g,f,E),mi=!1;var H=l.memoizedState;g.state=H,No(l,f,g,p),Co(),z=l.memoizedState,w||H!==z||mi?(typeof G=="function"&&(ah(l,a,G,f),z=l.memoizedState),(N=mi||D0(l,a,N,f,H,z,E))?(F||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(l.flags|=4194308)):(typeof g.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=f,l.memoizedState=z),g.props=f,g.state=z,g.context=E,f=N):(typeof g.componentDidMount=="function"&&(l.flags|=4194308),f=!1)}else{g=l.stateNode,Id(i,l),E=l.memoizedProps,F=Ss(a,E),g.props=F,G=l.pendingProps,H=g.context,z=a.contextType,N=ll,typeof z=="object"&&z!==null&&(N=$t(z)),w=a.getDerivedStateFromProps,(z=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==G||H!==N)&&j0(l,g,f,N),mi=!1,H=l.memoizedState,g.state=H,No(l,f,g,p),Co();var U=l.memoizedState;E!==G||H!==U||mi||i!==null&&i.dependencies!==null&&pu(i.dependencies)?(typeof w=="function"&&(ah(l,a,w,f),U=l.memoizedState),(F=mi||D0(l,a,F,f,H,U,N)||i!==null&&i.dependencies!==null&&pu(i.dependencies))?(z||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(f,U,N),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(f,U,N)),typeof g.componentDidUpdate=="function"&&(l.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&H===i.memoizedState||(l.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&H===i.memoizedState||(l.flags|=1024),l.memoizedProps=f,l.memoizedState=U),g.props=f,g.state=U,g.context=N,f=F):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&H===i.memoizedState||(l.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&H===i.memoizedState||(l.flags|=1024),f=!1)}return g=f,ju(i,l),f=(l.flags&128)!==0,g||f?(g=l.stateNode,a=f&&typeof a.getDerivedStateFromError!="function"?null:g.render(),l.flags|=1,i!==null&&f?(l.child=gl(l,i.child,null,p),l.child=gl(l,null,a,p)):jt(i,l,a,p),l.memoizedState=g.state,i=l.child):i=Vr(i,l,p),i}function K0(i,l,a,f){return bo(),l.flags|=256,jt(i,l,a,f),l.child}var dh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hh(i){return{baseLanes:i,cachePool:Ly()}}function ph(i,l,a){return i=i!==null?i.childLanes&~a:0,l&&(i|=Pn),i}function X0(i,l,a){var f=l.pendingProps,p=!1,g=(l.flags&128)!==0,E;if((E=g)||(E=i!==null&&i.memoizedState===null?!1:(xt.current&2)!==0),E&&(p=!0,l.flags&=-129),E=(l.flags&32)!==0,l.flags&=-33,i===null){if(Be){if(p?xi(l):Si(),Be){var w=rt,N;if(N=w){e:{for(N=w,w=hr;N.nodeType!==8;){if(!w){w=null;break e}if(N=nr(N.nextSibling),N===null){w=null;break e}}w=N}w!==null?(l.memoizedState={dehydrated:w,treeContext:ds!==null?{id:Br,overflow:Hr}:null,retryLane:536870912,hydrationErrors:null},N=En(18,null,null,0),N.stateNode=w,N.return=l,l.child=N,Qt=l,rt=null,N=!0):N=!1}N||ms(l)}if(w=l.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Qh(w)?l.lanes=32:l.lanes=536870912,null;qr(l)}return w=f.children,f=f.fallback,p?(Si(),p=l.mode,w=_u({mode:"hidden",children:w},p),f=fs(f,p,a,null),w.return=l,f.return=l,w.sibling=f,l.child=w,p=l.child,p.memoizedState=hh(a),p.childLanes=ph(i,E,a),l.memoizedState=dh,f):(xi(l),mh(l,w))}if(N=i.memoizedState,N!==null&&(w=N.dehydrated,w!==null)){if(g)l.flags&256?(xi(l),l.flags&=-257,l=gh(i,l,a)):l.memoizedState!==null?(Si(),l.child=i.child,l.flags|=128,l=null):(Si(),p=f.fallback,w=l.mode,f=_u({mode:"visible",children:f.children},w),p=fs(p,w,a,null),p.flags|=2,f.return=l,p.return=l,f.sibling=p,l.child=f,gl(l,i.child,null,a),f=l.child,f.memoizedState=hh(a),f.childLanes=ph(i,E,a),l.memoizedState=dh,l=p);else if(xi(l),Qh(w)){if(E=w.nextSibling&&w.nextSibling.dataset,E)var z=E.dgst;E=z,f=Error(r(419)),f.stack="",f.digest=E,xo({value:f,source:null,stack:null}),l=gh(i,l,a)}else if(Et||So(i,l,a,!1),E=(a&i.childLanes)!==0,Et||E){if(E=Xe,E!==null&&(f=a&-a,f=(f&42)!==0?1:cr(f),f=(f&(E.suspendedLanes|a))!==0?0:f,f!==0&&f!==N.retryLane))throw N.retryLane=f,sl(i,f),Nn(E,i,f),P0;w.data==="$?"||_h(),l=gh(i,l,a)}else w.data==="$?"?(l.flags|=192,l.child=i.child,l=null):(i=N.treeContext,rt=nr(w.nextSibling),Qt=l,Be=!0,ps=null,hr=!1,i!==null&&(Bn[Hn++]=Br,Bn[Hn++]=Hr,Bn[Hn++]=ds,Br=i.id,Hr=i.overflow,ds=l),l=mh(l,f.children),l.flags|=4096);return l}return p?(Si(),p=f.fallback,w=l.mode,N=i.child,z=N.sibling,f=zr(N,{mode:"hidden",children:f.children}),f.subtreeFlags=N.subtreeFlags&65011712,z!==null?p=zr(z,p):(p=fs(p,w,a,null),p.flags|=2),p.return=l,f.return=l,f.sibling=p,l.child=f,f=p,p=l.child,w=i.child.memoizedState,w===null?w=hh(a):(N=w.cachePool,N!==null?(z=bt._currentValue,N=N.parent!==z?{parent:z,pool:z}:N):N=Ly(),w={baseLanes:w.baseLanes|a,cachePool:N}),p.memoizedState=w,p.childLanes=ph(i,E,a),l.memoizedState=dh,f):(xi(l),a=i.child,i=a.sibling,a=zr(a,{mode:"visible",children:f.children}),a.return=l,a.sibling=null,i!==null&&(E=l.deletions,E===null?(l.deletions=[i],l.flags|=16):E.push(i)),l.child=a,l.memoizedState=null,a)}function mh(i,l){return l=_u({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function _u(i,l){return i=En(22,i,null,l),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function gh(i,l,a){return gl(l,i.child,null,a),i=mh(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function J0(i,l,a){i.lanes|=l;var f=i.alternate;f!==null&&(f.lanes|=l),_d(i.return,l,a)}function yh(i,l,a,f,p){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:f,tail:a,tailMode:p}:(g.isBackwards=l,g.rendering=null,g.renderingStartTime=0,g.last=f,g.tail=a,g.tailMode=p)}function Q0(i,l,a){var f=l.pendingProps,p=f.revealOrder,g=f.tail;if(jt(i,l,f.children,a),f=xt.current,(f&2)!==0)f=f&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&J0(i,a,l);else if(i.tag===19)J0(i,a,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}switch(Q(xt,f),p){case"forwards":for(a=l.child,p=null;a!==null;)i=a.alternate,i!==null&&Mu(i)===null&&(p=a),a=a.sibling;a=p,a===null?(p=l.child,l.child=null):(p=a.sibling,a.sibling=null),yh(l,!1,p,a,g);break;case"backwards":for(a=null,p=l.child,l.child=null;p!==null;){if(i=p.alternate,i!==null&&Mu(i)===null){l.child=p;break}i=p.sibling,p.sibling=a,a=p,p=i}yh(l,!0,a,null,g);break;case"together":yh(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Vr(i,l,a){if(i!==null&&(l.dependencies=i.dependencies),wi|=l.lanes,(a&l.childLanes)===0)if(i!==null){if(So(i,l,a,!1),(a&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(r(153));if(l.child!==null){for(i=l.child,a=zr(i,i.pendingProps),l.child=a,a.return=l;i.sibling!==null;)i=i.sibling,a=a.sibling=zr(i,i.pendingProps),a.return=l;a.sibling=null}return l.child}function bh(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&pu(i)))}function FA(i,l,a){switch(l.tag){case 3:$e(l,l.stateNode.containerInfo),pi(l,bt,i.memoizedState.cache),bo();break;case 27:case 5:Gs(l);break;case 4:$e(l,l.stateNode.containerInfo);break;case 10:pi(l,l.type,l.memoizedProps.value);break;case 13:var f=l.memoizedState;if(f!==null)return f.dehydrated!==null?(xi(l),l.flags|=128,null):(a&l.child.childLanes)!==0?X0(i,l,a):(xi(l),i=Vr(i,l,a),i!==null?i.sibling:null);xi(l);break;case 19:var p=(i.flags&128)!==0;if(f=(a&l.childLanes)!==0,f||(So(i,l,a,!1),f=(a&l.childLanes)!==0),p){if(f)return Q0(i,l,a);l.flags|=128}if(p=l.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Q(xt,xt.current),f)break;return null;case 22:case 23:return l.lanes=0,F0(i,l,a);case 24:pi(l,bt,i.memoizedState.cache)}return Vr(i,l,a)}function W0(i,l,a){if(i!==null)if(i.memoizedProps!==l.pendingProps)Et=!0;else{if(!bh(i,a)&&(l.flags&128)===0)return Et=!1,FA(i,l,a);Et=(i.flags&131072)!==0}else Et=!1,Be&&(l.flags&1048576)!==0&&Oy(l,hu,l.index);switch(l.lanes=0,l.tag){case 16:e:{i=l.pendingProps;var f=l.elementType,p=f._init;if(f=p(f._payload),l.type=f,typeof f=="function")Nd(f)?(i=Ss(f,i),l.tag=1,l=Y0(null,l,f,i,a)):(l.tag=0,l=fh(null,l,f,i,a));else{if(f!=null){if(p=f.$$typeof,p===q){l.tag=11,l=I0(null,l,f,i,a);break e}else if(p===ee){l.tag=14,l=q0(null,l,f,i,a);break e}}throw l=vt(f)||f,Error(r(306,l,""))}}return l;case 0:return fh(i,l,l.type,l.pendingProps,a);case 1:return f=l.type,p=Ss(f,l.pendingProps),Y0(i,l,f,p,a);case 3:e:{if($e(l,l.stateNode.containerInfo),i===null)throw Error(r(387));f=l.pendingProps;var g=l.memoizedState;p=g.element,Id(i,l),No(l,f,null,a);var E=l.memoizedState;if(f=E.cache,pi(l,bt,f),f!==g.cache&&Ld(l,[bt],a,!0),Co(),f=E.element,g.isDehydrated)if(g={element:f,isDehydrated:!1,cache:E.cache},l.updateQueue.baseState=g,l.memoizedState=g,l.flags&256){l=K0(i,l,f,a);break e}else if(f!==p){p=Ln(Error(r(424)),l),xo(p),l=K0(i,l,f,a);break e}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(rt=nr(i.firstChild),Qt=l,Be=!0,ps=null,hr=!0,a=M0(l,null,f,a),l.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(bo(),f===p){l=Vr(i,l,a);break e}jt(i,l,f,a)}l=l.child}return l;case 26:return ju(i,l),i===null?(a=n1(l.type,null,l.pendingProps,null))?l.memoizedState=a:Be||(a=l.type,i=l.pendingProps,f=Ku(me.current).createElement(a),f[gt]=l,f[Vt]=i,Lt(f,a,i),ft(f),l.stateNode=f):l.memoizedState=n1(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return Gs(l),i===null&&Be&&(f=l.stateNode=Zb(l.type,l.pendingProps,me.current),Qt=l,hr=!0,p=rt,ki(l.type)?(Wh=p,rt=nr(f.firstChild)):rt=p),jt(i,l,l.pendingProps.children,a),ju(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&Be&&((p=f=rt)&&(f=bw(f,l.type,l.pendingProps,hr),f!==null?(l.stateNode=f,Qt=l,rt=nr(f.firstChild),hr=!1,p=!0):p=!1),p||ms(l)),Gs(l),p=l.type,g=l.pendingProps,E=i!==null?i.memoizedProps:null,f=g.children,Kh(p,g)?f=null:E!==null&&Kh(p,E)&&(l.flags|=32),l.memoizedState!==null&&(p=Yd(i,l,zA,null,null,a),Xo._currentValue=p),ju(i,l),jt(i,l,f,a),l.child;case 6:return i===null&&Be&&((i=a=rt)&&(a=xw(a,l.pendingProps,hr),a!==null?(l.stateNode=a,Qt=l,rt=null,i=!0):i=!1),i||ms(l)),null;case 13:return X0(i,l,a);case 4:return $e(l,l.stateNode.containerInfo),f=l.pendingProps,i===null?l.child=gl(l,null,f,a):jt(i,l,f,a),l.child;case 11:return I0(i,l,l.type,l.pendingProps,a);case 7:return jt(i,l,l.pendingProps,a),l.child;case 8:return jt(i,l,l.pendingProps.children,a),l.child;case 12:return jt(i,l,l.pendingProps.children,a),l.child;case 10:return f=l.pendingProps,pi(l,l.type,f.value),jt(i,l,f.children,a),l.child;case 9:return p=l.type._context,f=l.pendingProps.children,ys(l),p=$t(p),f=f(p),l.flags|=1,jt(i,l,f,a),l.child;case 14:return q0(i,l,l.type,l.pendingProps,a);case 15:return V0(i,l,l.type,l.pendingProps,a);case 19:return Q0(i,l,a);case 31:return f=l.pendingProps,a=l.mode,f={mode:f.mode,children:f.children},i===null?(a=_u(f,a),a.ref=l.ref,l.child=a,a.return=l,l=a):(a=zr(i.child,f),a.ref=l.ref,l.child=a,a.return=l,l=a),l;case 22:return F0(i,l,a);case 24:return ys(l),f=$t(bt),i===null?(p=Hd(),p===null&&(p=Xe,g=zd(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=a),p=g),l.memoizedState={parent:f,cache:p},Pd(l),pi(l,bt,p)):((i.lanes&a)!==0&&(Id(i,l),No(l,null,null,a),Co()),p=i.memoizedState,g=l.memoizedState,p.parent!==f?(p={parent:f,cache:f},l.memoizedState=p,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=p),pi(l,bt,f)):(f=g.cache,pi(l,bt,f),f!==p.cache&&Ld(l,[bt],a,!0))),jt(i,l,l.pendingProps.children,a),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Fr(i){i.flags|=4}function Z0(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!o1(l)){if(l=Un.current,l!==null&&((Le&4194048)===Le?pr!==null:(Le&62914560)!==Le&&(Le&536870912)===0||l!==pr))throw Ao=Ud,zy;i.flags|=8192}}function Lu(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?ls():536870912,i.lanes|=l,Sl|=l)}function _o(i,l){if(!Be)switch(i.tailMode){case"hidden":l=i.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var f=null;a!==null;)a.alternate!==null&&(f=a),a=a.sibling;f===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function et(i){var l=i.alternate!==null&&i.alternate.child===i.child,a=0,f=0;if(l)for(var p=i.child;p!==null;)a|=p.lanes|p.childLanes,f|=p.subtreeFlags&65011712,f|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)a|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=f,i.childLanes=a,l}function $A(i,l,a){var f=l.pendingProps;switch(Rd(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(l),null;case 1:return et(l),null;case 3:return a=l.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),Pr(bt),Rn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(yo(l)?Fr(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Ry())),et(l),null;case 26:return a=l.memoizedState,i===null?(Fr(l),a!==null?(et(l),Z0(l,a)):(et(l),l.flags&=-16777217)):a?a!==i.memoizedState?(Fr(l),et(l),Z0(l,a)):(et(l),l.flags&=-16777217):(i.memoizedProps!==f&&Fr(l),et(l),l.flags&=-16777217),null;case 27:ts(l),a=me.current;var p=l.type;if(i!==null&&l.stateNode!=null)i.memoizedProps!==f&&Fr(l);else{if(!f){if(l.stateNode===null)throw Error(r(166));return et(l),null}i=ce.current,yo(l)?ky(l):(i=Zb(p,f,a),l.stateNode=i,Fr(l))}return et(l),null;case 5:if(ts(l),a=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==f&&Fr(l);else{if(!f){if(l.stateNode===null)throw Error(r(166));return et(l),null}if(i=ce.current,yo(l))ky(l);else{switch(p=Ku(me.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof f.is=="string"?p.createElement("select",{is:f.is}):p.createElement("select"),f.multiple?i.multiple=!0:f.size&&(i.size=f.size);break;default:i=typeof f.is=="string"?p.createElement(a,{is:f.is}):p.createElement(a)}}i[gt]=l,i[Vt]=f;e:for(p=l.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===l)break e;for(;p.sibling===null;){if(p.return===null||p.return===l)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}l.stateNode=i;e:switch(Lt(i,a,f),a){case"button":case"input":case"select":case"textarea":i=!!f.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Fr(l)}}return et(l),l.flags&=-16777217,null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==f&&Fr(l);else{if(typeof f!="string"&&l.stateNode===null)throw Error(r(166));if(i=me.current,yo(l)){if(i=l.stateNode,a=l.memoizedProps,f=null,p=Qt,p!==null)switch(p.tag){case 27:case 5:f=p.memoizedProps}i[gt]=l,i=!!(i.nodeValue===a||f!==null&&f.suppressHydrationWarning===!0||Gb(i.nodeValue,a)),i||ms(l)}else i=Ku(i).createTextNode(f),i[gt]=l,l.stateNode=i}return et(l),null;case 13:if(f=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=yo(l),f!==null&&f.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=l.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[gt]=l}else bo(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;et(l),p=!1}else p=Ry(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return l.flags&256?(qr(l),l):(qr(l),null)}if(qr(l),(l.flags&128)!==0)return l.lanes=a,l;if(a=f!==null,i=i!==null&&i.memoizedState!==null,a){f=l.child,p=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(p=f.alternate.memoizedState.cachePool.pool);var g=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(g=f.memoizedState.cachePool.pool),g!==p&&(f.flags|=2048)}return a!==i&&a&&(l.child.flags|=8192),Lu(l,l.updateQueue),et(l),null;case 4:return Rn(),i===null&&Vh(l.stateNode.containerInfo),et(l),null;case 10:return Pr(l.type),et(l),null;case 19:if(ne(xt),p=l.memoizedState,p===null)return et(l),null;if(f=(l.flags&128)!==0,g=p.rendering,g===null)if(f)_o(p,!1);else{if(it!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(g=Mu(i),g!==null){for(l.flags|=128,_o(p,!1),i=g.updateQueue,l.updateQueue=i,Lu(l,i),l.subtreeFlags=0,i=a,a=l.child;a!==null;)Ny(a,i),a=a.sibling;return Q(xt,xt.current&1|2),l.child}i=i.sibling}p.tail!==null&&Rt()>Hu&&(l.flags|=128,f=!0,_o(p,!1),l.lanes=4194304)}else{if(!f)if(i=Mu(g),i!==null){if(l.flags|=128,f=!0,i=i.updateQueue,l.updateQueue=i,Lu(l,i),_o(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!Be)return et(l),null}else 2*Rt()-p.renderingStartTime>Hu&&a!==536870912&&(l.flags|=128,f=!0,_o(p,!1),l.lanes=4194304);p.isBackwards?(g.sibling=l.child,l.child=g):(i=p.last,i!==null?i.sibling=g:l.child=g,p.last=g)}return p.tail!==null?(l=p.tail,p.rendering=l,p.tail=l.sibling,p.renderingStartTime=Rt(),l.sibling=null,i=xt.current,Q(xt,f?i&1|2:i&1),l):(et(l),null);case 22:case 23:return qr(l),$d(),f=l.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(l.flags|=8192):f&&(l.flags|=8192),f?(a&536870912)!==0&&(l.flags&128)===0&&(et(l),l.subtreeFlags&6&&(l.flags|=8192)):et(l),a=l.updateQueue,a!==null&&Lu(l,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==a&&(l.flags|=2048),i!==null&&ne(bs),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),l.memoizedState.cache!==a&&(l.flags|=2048),Pr(bt),et(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function GA(i,l){switch(Rd(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Pr(bt),Rn(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return ts(l),null;case 13:if(qr(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(r(340));bo()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return ne(xt),null;case 4:return Rn(),null;case 10:return Pr(l.type),null;case 22:case 23:return qr(l),$d(),i!==null&&ne(bs),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return Pr(bt),null;case 25:return null;default:return null}}function eb(i,l){switch(Rd(l),l.tag){case 3:Pr(bt),Rn();break;case 26:case 27:case 5:ts(l);break;case 4:Rn();break;case 13:qr(l);break;case 19:ne(xt);break;case 10:Pr(l.type);break;case 22:case 23:qr(l),$d(),i!==null&&ne(bs);break;case 24:Pr(bt)}}function Lo(i,l){try{var a=l.updateQueue,f=a!==null?a.lastEffect:null;if(f!==null){var p=f.next;a=p;do{if((a.tag&i)===i){f=void 0;var g=a.create,E=a.inst;f=g(),E.destroy=f}a=a.next}while(a!==p)}}catch(w){Ge(l,l.return,w)}}function vi(i,l,a){try{var f=l.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var g=p.next;f=g;do{if((f.tag&i)===i){var E=f.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,p=l;var N=a,z=w;try{z()}catch(F){Ge(p,N,F)}}}f=f.next}while(f!==g)}}catch(F){Ge(l,l.return,F)}}function tb(i){var l=i.updateQueue;if(l!==null){var a=i.stateNode;try{qy(l,a)}catch(f){Ge(i,i.return,f)}}}function nb(i,l,a){a.props=Ss(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(f){Ge(i,l,f)}}function zo(i,l){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof a=="function"?i.refCleanup=a(f):a.current=f}}catch(p){Ge(i,l,p)}}function mr(i,l){var a=i.ref,f=i.refCleanup;if(a!==null)if(typeof f=="function")try{f()}catch(p){Ge(i,l,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(p){Ge(i,l,p)}else a.current=null}function rb(i){var l=i.type,a=i.memoizedProps,f=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":a.autoFocus&&f.focus();break e;case"img":a.src?f.src=a.src:a.srcSet&&(f.srcset=a.srcSet)}}catch(p){Ge(i,i.return,p)}}function xh(i,l,a){try{var f=i.stateNode;hw(f,i.type,a,l),f[Vt]=l}catch(p){Ge(i,i.return,p)}}function ib(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ki(i.type)||i.tag===4}function Sh(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||ib(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ki(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function vh(i,l,a){var f=i.tag;if(f===5||f===6)i=i.stateNode,l?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,l):(l=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,l.appendChild(i),a=a._reactRootContainer,a!=null||l.onclick!==null||(l.onclick=Yu));else if(f!==4&&(f===27&&ki(i.type)&&(a=i.stateNode,l=null),i=i.child,i!==null))for(vh(i,l,a),i=i.sibling;i!==null;)vh(i,l,a),i=i.sibling}function zu(i,l,a){var f=i.tag;if(f===5||f===6)i=i.stateNode,l?a.insertBefore(i,l):a.appendChild(i);else if(f!==4&&(f===27&&ki(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(zu(i,l,a),i=i.sibling;i!==null;)zu(i,l,a),i=i.sibling}function sb(i){var l=i.stateNode,a=i.memoizedProps;try{for(var f=i.type,p=l.attributes;p.length;)l.removeAttributeNode(p[0]);Lt(l,f,a),l[gt]=i,l[Vt]=a}catch(g){Ge(i,i.return,g)}}var $r=!1,ut=!1,Eh=!1,lb=typeof WeakSet=="function"?WeakSet:Set,Tt=null;function YA(i,l){if(i=i.containerInfo,Gh=ec,i=yy(i),Sd(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var f=a.getSelection&&a.getSelection();if(f&&f.rangeCount!==0){a=f.anchorNode;var p=f.anchorOffset,g=f.focusNode;f=f.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var E=0,w=-1,N=-1,z=0,F=0,G=i,H=null;t:for(;;){for(var U;G!==a||p!==0&&G.nodeType!==3||(w=E+p),G!==g||f!==0&&G.nodeType!==3||(N=E+f),G.nodeType===3&&(E+=G.nodeValue.length),(U=G.firstChild)!==null;)H=G,G=U;for(;;){if(G===i)break t;if(H===a&&++z===p&&(w=E),H===g&&++F===f&&(N=E),(U=G.nextSibling)!==null)break;G=H,H=G.parentNode}G=U}a=w===-1||N===-1?null:{start:w,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Yh={focusedElem:i,selectionRange:a},ec=!1,Tt=l;Tt!==null;)if(l=Tt,i=l.child,(l.subtreeFlags&1024)!==0&&i!==null)i.return=l,Tt=i;else for(;Tt!==null;){switch(l=Tt,g=l.alternate,i=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,a=l,p=g.memoizedProps,g=g.memoizedState,f=a.stateNode;try{var ye=Ss(a.type,p,a.elementType===a.type);i=f.getSnapshotBeforeUpdate(ye,g),f.__reactInternalSnapshotBeforeUpdate=i}catch(pe){Ge(a,a.return,pe)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,a=i.nodeType,a===9)Jh(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Jh(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=l.sibling,i!==null){i.return=l.return,Tt=i;break}Tt=l.return}}function ob(i,l,a){var f=a.flags;switch(a.tag){case 0:case 11:case 15:Ei(i,a),f&4&&Lo(5,a);break;case 1:if(Ei(i,a),f&4)if(i=a.stateNode,l===null)try{i.componentDidMount()}catch(E){Ge(a,a.return,E)}else{var p=Ss(a.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(p,l,i.__reactInternalSnapshotBeforeUpdate)}catch(E){Ge(a,a.return,E)}}f&64&&tb(a),f&512&&zo(a,a.return);break;case 3:if(Ei(i,a),f&64&&(i=a.updateQueue,i!==null)){if(l=null,a.child!==null)switch(a.child.tag){case 27:case 5:l=a.child.stateNode;break;case 1:l=a.child.stateNode}try{qy(i,l)}catch(E){Ge(a,a.return,E)}}break;case 27:l===null&&f&4&&sb(a);case 26:case 5:Ei(i,a),l===null&&f&4&&rb(a),f&512&&zo(a,a.return);break;case 12:Ei(i,a);break;case 13:Ei(i,a),f&4&&cb(i,a),f&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=nw.bind(null,a),Sw(i,a))));break;case 22:if(f=a.memoizedState!==null||$r,!f){l=l!==null&&l.memoizedState!==null||ut,p=$r;var g=ut;$r=f,(ut=l)&&!g?Ti(i,a,(a.subtreeFlags&8772)!==0):Ei(i,a),$r=p,ut=g}break;case 30:break;default:Ei(i,a)}}function ab(i){var l=i.alternate;l!==null&&(i.alternate=null,ab(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&xn(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Qe=null,fn=!1;function Gr(i,l,a){for(a=a.child;a!==null;)ub(i,l,a),a=a.sibling}function ub(i,l,a){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(Dn,a)}catch{}switch(a.tag){case 26:ut||mr(a,l),Gr(i,l,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ut||mr(a,l);var f=Qe,p=fn;ki(a.type)&&(Qe=a.stateNode,fn=!1),Gr(i,l,a),$o(a.stateNode),Qe=f,fn=p;break;case 5:ut||mr(a,l);case 6:if(f=Qe,p=fn,Qe=null,Gr(i,l,a),Qe=f,fn=p,Qe!==null)if(fn)try{(Qe.nodeType===9?Qe.body:Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe).removeChild(a.stateNode)}catch(g){Ge(a,l,g)}else try{Qe.removeChild(a.stateNode)}catch(g){Ge(a,l,g)}break;case 18:Qe!==null&&(fn?(i=Qe,Qb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),Zo(i)):Qb(Qe,a.stateNode));break;case 4:f=Qe,p=fn,Qe=a.stateNode.containerInfo,fn=!0,Gr(i,l,a),Qe=f,fn=p;break;case 0:case 11:case 14:case 15:ut||vi(2,a,l),ut||vi(4,a,l),Gr(i,l,a);break;case 1:ut||(mr(a,l),f=a.stateNode,typeof f.componentWillUnmount=="function"&&nb(a,l,f)),Gr(i,l,a);break;case 21:Gr(i,l,a);break;case 22:ut=(f=ut)||a.memoizedState!==null,Gr(i,l,a),ut=f;break;default:Gr(i,l,a)}}function cb(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Zo(i)}catch(a){Ge(l,l.return,a)}}function KA(i){switch(i.tag){case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new lb),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new lb),l;default:throw Error(r(435,i.tag))}}function Th(i,l){var a=KA(i);l.forEach(function(f){var p=rw.bind(null,i,f);a.has(f)||(a.add(f),f.then(p,p))})}function Tn(i,l){var a=l.deletions;if(a!==null)for(var f=0;f<a.length;f++){var p=a[f],g=i,E=l,w=E;e:for(;w!==null;){switch(w.tag){case 27:if(ki(w.type)){Qe=w.stateNode,fn=!1;break e}break;case 5:Qe=w.stateNode,fn=!1;break e;case 3:case 4:Qe=w.stateNode.containerInfo,fn=!0;break e}w=w.return}if(Qe===null)throw Error(r(160));ub(g,E,p),Qe=null,fn=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)fb(l,i),l=l.sibling}var tr=null;function fb(i,l){var a=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Tn(l,i),An(i),f&4&&(vi(3,i,i.return),Lo(3,i),vi(5,i,i.return));break;case 1:Tn(l,i),An(i),f&512&&(ut||a===null||mr(a,a.return)),f&64&&$r&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?f:a.concat(f))));break;case 26:var p=tr;if(Tn(l,i),An(i),f&512&&(ut||a===null||mr(a,a.return)),f&4){var g=a!==null?a.memoizedState:null;if(f=i.memoizedState,a===null)if(f===null)if(i.stateNode===null){e:{f=i.type,a=i.memoizedProps,p=p.ownerDocument||p;t:switch(f){case"title":g=p.getElementsByTagName("title")[0],(!g||g[fi]||g[gt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(f),p.head.insertBefore(g,p.querySelector("head > title"))),Lt(g,f,a),g[gt]=i,ft(g),f=g;break e;case"link":var E=s1("link","href",p).get(f+(a.href||""));if(E){for(var w=0;w<E.length;w++)if(g=E[w],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(w,1);break t}}g=p.createElement(f),Lt(g,f,a),p.head.appendChild(g);break;case"meta":if(E=s1("meta","content",p).get(f+(a.content||""))){for(w=0;w<E.length;w++)if(g=E[w],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(w,1);break t}}g=p.createElement(f),Lt(g,f,a),p.head.appendChild(g);break;default:throw Error(r(468,f))}g[gt]=i,ft(g),f=g}i.stateNode=f}else l1(p,i.type,i.stateNode);else i.stateNode=i1(p,f,i.memoizedProps);else g!==f?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,f===null?l1(p,i.type,i.stateNode):i1(p,f,i.memoizedProps)):f===null&&i.stateNode!==null&&xh(i,i.memoizedProps,a.memoizedProps)}break;case 27:Tn(l,i),An(i),f&512&&(ut||a===null||mr(a,a.return)),a!==null&&f&4&&xh(i,i.memoizedProps,a.memoizedProps);break;case 5:if(Tn(l,i),An(i),f&512&&(ut||a===null||mr(a,a.return)),i.flags&32){p=i.stateNode;try{Ws(p,"")}catch(U){Ge(i,i.return,U)}}f&4&&i.stateNode!=null&&(p=i.memoizedProps,xh(i,p,a!==null?a.memoizedProps:p)),f&1024&&(Eh=!0);break;case 6:if(Tn(l,i),An(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,a=i.stateNode;try{a.nodeValue=f}catch(U){Ge(i,i.return,U)}}break;case 3:if(Qu=null,p=tr,tr=Xu(l.containerInfo),Tn(l,i),tr=p,An(i),f&4&&a!==null&&a.memoizedState.isDehydrated)try{Zo(l.containerInfo)}catch(U){Ge(i,i.return,U)}Eh&&(Eh=!1,db(i));break;case 4:f=tr,tr=Xu(i.stateNode.containerInfo),Tn(l,i),An(i),tr=f;break;case 12:Tn(l,i),An(i);break;case 13:Tn(l,i),An(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(kh=Rt()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Th(i,f)));break;case 22:p=i.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,z=$r,F=ut;if($r=z||p,ut=F||N,Tn(l,i),ut=F,$r=z,An(i),f&8192)e:for(l=i.stateNode,l._visibility=p?l._visibility&-2:l._visibility|1,p&&(a===null||N||$r||ut||vs(i)),a=null,l=i;;){if(l.tag===5||l.tag===26){if(a===null){N=a=l;try{if(g=N.stateNode,p)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{w=N.stateNode;var G=N.memoizedProps.style,H=G!=null&&G.hasOwnProperty("display")?G.display:null;w.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(U){Ge(N,N.return,U)}}}else if(l.tag===6){if(a===null){N=l;try{N.stateNode.nodeValue=p?"":N.memoizedProps}catch(U){Ge(N,N.return,U)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;a===l&&(a=null),l=l.return}a===l&&(a=null),l.sibling.return=l.return,l=l.sibling}f&4&&(f=i.updateQueue,f!==null&&(a=f.retryQueue,a!==null&&(f.retryQueue=null,Th(i,a))));break;case 19:Tn(l,i),An(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Th(i,f)));break;case 30:break;case 21:break;default:Tn(l,i),An(i)}}function An(i){var l=i.flags;if(l&2){try{for(var a,f=i.return;f!==null;){if(ib(f)){a=f;break}f=f.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var p=a.stateNode,g=Sh(i);zu(i,g,p);break;case 5:var E=a.stateNode;a.flags&32&&(Ws(E,""),a.flags&=-33);var w=Sh(i);zu(i,w,E);break;case 3:case 4:var N=a.stateNode.containerInfo,z=Sh(i);vh(i,z,N);break;default:throw Error(r(161))}}catch(F){Ge(i,i.return,F)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function db(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;db(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function Ei(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)ob(i,l.alternate,l),l=l.sibling}function vs(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:vi(4,l,l.return),vs(l);break;case 1:mr(l,l.return);var a=l.stateNode;typeof a.componentWillUnmount=="function"&&nb(l,l.return,a),vs(l);break;case 27:$o(l.stateNode);case 26:case 5:mr(l,l.return),vs(l);break;case 22:l.memoizedState===null&&vs(l);break;case 30:vs(l);break;default:vs(l)}i=i.sibling}}function Ti(i,l,a){for(a=a&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var f=l.alternate,p=i,g=l,E=g.flags;switch(g.tag){case 0:case 11:case 15:Ti(p,g,a),Lo(4,g);break;case 1:if(Ti(p,g,a),f=g,p=f.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(z){Ge(f,f.return,z)}if(f=g,p=f.updateQueue,p!==null){var w=f.stateNode;try{var N=p.shared.hiddenCallbacks;if(N!==null)for(p.shared.hiddenCallbacks=null,p=0;p<N.length;p++)Iy(N[p],w)}catch(z){Ge(f,f.return,z)}}a&&E&64&&tb(g),zo(g,g.return);break;case 27:sb(g);case 26:case 5:Ti(p,g,a),a&&f===null&&E&4&&rb(g),zo(g,g.return);break;case 12:Ti(p,g,a);break;case 13:Ti(p,g,a),a&&E&4&&cb(p,g);break;case 22:g.memoizedState===null&&Ti(p,g,a),zo(g,g.return);break;case 30:break;default:Ti(p,g,a)}l=l.sibling}}function Ah(i,l){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&vo(a))}function wh(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&vo(i))}function gr(i,l,a,f){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)hb(i,l,a,f),l=l.sibling}function hb(i,l,a,f){var p=l.flags;switch(l.tag){case 0:case 11:case 15:gr(i,l,a,f),p&2048&&Lo(9,l);break;case 1:gr(i,l,a,f);break;case 3:gr(i,l,a,f),p&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&vo(i)));break;case 12:if(p&2048){gr(i,l,a,f),i=l.stateNode;try{var g=l.memoizedProps,E=g.id,w=g.onPostCommit;typeof w=="function"&&w(E,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(N){Ge(l,l.return,N)}}else gr(i,l,a,f);break;case 13:gr(i,l,a,f);break;case 23:break;case 22:g=l.stateNode,E=l.alternate,l.memoizedState!==null?g._visibility&2?gr(i,l,a,f):Bo(i,l):g._visibility&2?gr(i,l,a,f):(g._visibility|=2,yl(i,l,a,f,(l.subtreeFlags&10256)!==0)),p&2048&&Ah(E,l);break;case 24:gr(i,l,a,f),p&2048&&wh(l.alternate,l);break;default:gr(i,l,a,f)}}function yl(i,l,a,f,p){for(p=p&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var g=i,E=l,w=a,N=f,z=E.flags;switch(E.tag){case 0:case 11:case 15:yl(g,E,w,N,p),Lo(8,E);break;case 23:break;case 22:var F=E.stateNode;E.memoizedState!==null?F._visibility&2?yl(g,E,w,N,p):Bo(g,E):(F._visibility|=2,yl(g,E,w,N,p)),p&&z&2048&&Ah(E.alternate,E);break;case 24:yl(g,E,w,N,p),p&&z&2048&&wh(E.alternate,E);break;default:yl(g,E,w,N,p)}l=l.sibling}}function Bo(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var a=i,f=l,p=f.flags;switch(f.tag){case 22:Bo(a,f),p&2048&&Ah(f.alternate,f);break;case 24:Bo(a,f),p&2048&&wh(f.alternate,f);break;default:Bo(a,f)}l=l.sibling}}var Ho=8192;function bl(i){if(i.subtreeFlags&Ho)for(i=i.child;i!==null;)pb(i),i=i.sibling}function pb(i){switch(i.tag){case 26:bl(i),i.flags&Ho&&i.memoizedState!==null&&jw(tr,i.memoizedState,i.memoizedProps);break;case 5:bl(i);break;case 3:case 4:var l=tr;tr=Xu(i.stateNode.containerInfo),bl(i),tr=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=Ho,Ho=16777216,bl(i),Ho=l):bl(i));break;default:bl(i)}}function mb(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function Uo(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var a=0;a<l.length;a++){var f=l[a];Tt=f,yb(f,i)}mb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)gb(i),i=i.sibling}function gb(i){switch(i.tag){case 0:case 11:case 15:Uo(i),i.flags&2048&&vi(9,i,i.return);break;case 3:Uo(i);break;case 12:Uo(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,Bu(i)):Uo(i);break;default:Uo(i)}}function Bu(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var a=0;a<l.length;a++){var f=l[a];Tt=f,yb(f,i)}mb(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:vi(8,l,l.return),Bu(l);break;case 22:a=l.stateNode,a._visibility&2&&(a._visibility&=-3,Bu(l));break;default:Bu(l)}i=i.sibling}}function yb(i,l){for(;Tt!==null;){var a=Tt;switch(a.tag){case 0:case 11:case 15:vi(8,a,l);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var f=a.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:vo(a.memoizedState.cache)}if(f=a.child,f!==null)f.return=a,Tt=f;else e:for(a=i;Tt!==null;){f=Tt;var p=f.sibling,g=f.return;if(ab(f),f===a){Tt=null;break e}if(p!==null){p.return=g,Tt=p;break e}Tt=g}}}var XA={getCacheForType:function(i){var l=$t(bt),a=l.data.get(i);return a===void 0&&(a=i(),l.data.set(i,a)),a}},JA=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Xe=null,De=null,Le=0,Pe=0,wn=null,Ai=!1,xl=!1,Ch=!1,Yr=0,it=0,wi=0,Es=0,Nh=0,Pn=0,Sl=0,Po=null,dn=null,Oh=!1,kh=0,Hu=1/0,Uu=null,Ci=null,_t=0,Ni=null,vl=null,El=0,Mh=0,Rh=null,bb=null,Io=0,Dh=null;function Cn(){if((Ue&2)!==0&&Le!==0)return Le&-Le;if(B.T!==null){var i=ul;return i!==0?i:Uh()}return io()}function xb(){Pn===0&&(Pn=(Le&536870912)===0||Be?ss():536870912);var i=Un.current;return i!==null&&(i.flags|=32),Pn}function Nn(i,l,a){(i===Xe&&(Pe===2||Pe===9)||i.cancelPendingCommit!==null)&&(Tl(i,0),Oi(i,Le,Pn,!1)),Wn(i,a),((Ue&2)===0||i!==Xe)&&(i===Xe&&((Ue&2)===0&&(Es|=a),it===4&&Oi(i,Le,Pn,!1)),yr(i))}function Sb(i,l,a){if((Ue&6)!==0)throw Error(r(327));var f=!a&&(l&124)===0&&(l&i.expiredLanes)===0||Mr(i,l),p=f?ZA(i,l):Lh(i,l,!0),g=f;do{if(p===0){xl&&!f&&Oi(i,l,0,!1);break}else{if(a=i.current.alternate,g&&!QA(a)){p=Lh(i,l,!1),g=!1;continue}if(p===2){if(g=l,i.errorRecoveryDisabledLanes&g)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){l=E;e:{var w=i;p=Po;var N=w.current.memoizedState.isDehydrated;if(N&&(Tl(w,E).flags|=256),E=Lh(w,E,!1),E!==2){if(Ch&&!N){w.errorRecoveryDisabledLanes|=g,Es|=g,p=4;break e}g=dn,dn=p,g!==null&&(dn===null?dn=g:dn.push.apply(dn,g))}p=E}if(g=!1,p!==2)continue}}if(p===1){Tl(i,0),Oi(i,l,0,!0);break}e:{switch(f=i,g=p,g){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Oi(f,l,Pn,!Ai);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(p=kh+300-Rt(),10<p)){if(Oi(f,l,Pn,!Ai),ci(f,0,!0)!==0)break e;f.timeoutHandle=Xb(vb.bind(null,f,a,dn,Uu,Oh,l,Pn,Es,Sl,Ai,g,2,-0,0),p);break e}vb(f,a,dn,Uu,Oh,l,Pn,Es,Sl,Ai,g,0,-0,0)}}break}while(!0);yr(i)}function vb(i,l,a,f,p,g,E,w,N,z,F,G,H,U){if(i.timeoutHandle=-1,G=l.subtreeFlags,(G&8192||(G&16785408)===16785408)&&(Ko={stylesheets:null,count:0,unsuspend:Dw},pb(l),G=_w(),G!==null)){i.cancelPendingCommit=G(Ob.bind(null,i,l,g,a,f,p,E,w,N,F,1,H,U)),Oi(i,g,E,!z);return}Ob(i,l,g,a,f,p,E,w,N)}function QA(i){for(var l=i;;){var a=l.tag;if((a===0||a===11||a===15)&&l.flags&16384&&(a=l.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var f=0;f<a.length;f++){var p=a[f],g=p.getSnapshot;p=p.value;try{if(!vn(g(),p))return!1}catch{return!1}}if(a=l.child,l.subtreeFlags&16384&&a!==null)a.return=l,l=a;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Oi(i,l,a,f){l&=~Nh,l&=~Es,i.suspendedLanes|=l,i.pingedLanes&=~l,f&&(i.warmLanes|=l),f=i.expirationTimes;for(var p=l;0<p;){var g=31-qt(p),E=1<<g;f[g]=-1,p&=~E}a!==0&&Ja(i,a,l)}function Pu(){return(Ue&6)===0?(qo(0),!1):!0}function jh(){if(De!==null){if(Pe===0)var i=De.return;else i=De,Ur=gs=null,Jd(i),ml=null,Do=0,i=De;for(;i!==null;)eb(i.alternate,i),i=i.return;De=null}}function Tl(i,l){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,mw(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),jh(),Xe=i,De=a=zr(i.current,null),Le=l,Pe=0,wn=null,Ai=!1,xl=Mr(i,l),Ch=!1,Sl=Pn=Nh=Es=wi=it=0,dn=Po=null,Oh=!1,(l&8)!==0&&(l|=l&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=l;0<f;){var p=31-qt(f),g=1<<p;l|=i[p],f&=~g}return Yr=l,au(),a}function Eb(i,l){Ne=null,B.H=Nu,l===To||l===yu?(l=Uy(),Pe=3):l===zy?(l=Uy(),Pe=4):Pe=l===P0?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,wn=l,De===null&&(it=1,Du(i,Ln(l,i.current)))}function Tb(){var i=B.H;return B.H=Nu,i===null?Nu:i}function Ab(){var i=B.A;return B.A=XA,i}function _h(){it=4,Ai||(Le&4194048)!==Le&&Un.current!==null||(xl=!0),(wi&134217727)===0&&(Es&134217727)===0||Xe===null||Oi(Xe,Le,Pn,!1)}function Lh(i,l,a){var f=Ue;Ue|=2;var p=Tb(),g=Ab();(Xe!==i||Le!==l)&&(Uu=null,Tl(i,l)),l=!1;var E=it;e:do try{if(Pe!==0&&De!==null){var w=De,N=wn;switch(Pe){case 8:jh(),E=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(l=!0);var z=Pe;if(Pe=0,wn=null,Al(i,w,N,z),a&&xl){E=0;break e}break;default:z=Pe,Pe=0,wn=null,Al(i,w,N,z)}}WA(),E=it;break}catch(F){Eb(i,F)}while(!0);return l&&i.shellSuspendCounter++,Ur=gs=null,Ue=f,B.H=p,B.A=g,De===null&&(Xe=null,Le=0,au()),E}function WA(){for(;De!==null;)wb(De)}function ZA(i,l){var a=Ue;Ue|=2;var f=Tb(),p=Ab();Xe!==i||Le!==l?(Uu=null,Hu=Rt()+500,Tl(i,l)):xl=Mr(i,l);e:do try{if(Pe!==0&&De!==null){l=De;var g=wn;t:switch(Pe){case 1:Pe=0,wn=null,Al(i,l,g,1);break;case 2:case 9:if(By(g)){Pe=0,wn=null,Cb(l);break}l=function(){Pe!==2&&Pe!==9||Xe!==i||(Pe=7),yr(i)},g.then(l,l);break e;case 3:Pe=7;break e;case 4:Pe=5;break e;case 7:By(g)?(Pe=0,wn=null,Cb(l)):(Pe=0,wn=null,Al(i,l,g,7));break;case 5:var E=null;switch(De.tag){case 26:E=De.memoizedState;case 5:case 27:var w=De;if(!E||o1(E)){Pe=0,wn=null;var N=w.sibling;if(N!==null)De=N;else{var z=w.return;z!==null?(De=z,Iu(z)):De=null}break t}}Pe=0,wn=null,Al(i,l,g,5);break;case 6:Pe=0,wn=null,Al(i,l,g,6);break;case 8:jh(),it=6;break e;default:throw Error(r(462))}}ew();break}catch(F){Eb(i,F)}while(!0);return Ur=gs=null,B.H=f,B.A=p,Ue=a,De!==null?0:(Xe=null,Le=0,au(),it)}function ew(){for(;De!==null&&!Wl();)wb(De)}function wb(i){var l=W0(i.alternate,i,Yr);i.memoizedProps=i.pendingProps,l===null?Iu(i):De=l}function Cb(i){var l=i,a=l.alternate;switch(l.tag){case 15:case 0:l=G0(a,l,l.pendingProps,l.type,void 0,Le);break;case 11:l=G0(a,l,l.pendingProps,l.type.render,l.ref,Le);break;case 5:Jd(l);default:eb(a,l),l=De=Ny(l,Yr),l=W0(a,l,Yr)}i.memoizedProps=i.pendingProps,l===null?Iu(i):De=l}function Al(i,l,a,f){Ur=gs=null,Jd(l),ml=null,Do=0;var p=l.return;try{if(VA(i,p,l,a,Le)){it=1,Du(i,Ln(a,i.current)),De=null;return}}catch(g){if(p!==null)throw De=p,g;it=1,Du(i,Ln(a,i.current)),De=null;return}l.flags&32768?(Be||f===1?i=!0:xl||(Le&536870912)!==0?i=!1:(Ai=i=!0,(f===2||f===9||f===3||f===6)&&(f=Un.current,f!==null&&f.tag===13&&(f.flags|=16384))),Nb(l,i)):Iu(l)}function Iu(i){var l=i;do{if((l.flags&32768)!==0){Nb(l,Ai);return}i=l.return;var a=$A(l.alternate,l,Yr);if(a!==null){De=a;return}if(l=l.sibling,l!==null){De=l;return}De=l=i}while(l!==null);it===0&&(it=5)}function Nb(i,l){do{var a=GA(i.alternate,i);if(a!==null){a.flags&=32767,De=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!l&&(i=i.sibling,i!==null)){De=i;return}De=i=a}while(i!==null);it=6,De=null}function Ob(i,l,a,f,p,g,E,w,N){i.cancelPendingCommit=null;do qu();while(_t!==0);if((Ue&6)!==0)throw Error(r(327));if(l!==null){if(l===i.current)throw Error(r(177));if(g=l.lanes|l.childLanes,g|=wd,nd(i,a,g,E,w,N),i===Xe&&(De=Xe=null,Le=0),vl=l,Ni=i,El=a,Mh=g,Rh=p,bb=f,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,iw(rs,function(){return jb(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||f){f=B.T,B.T=null,p=Y.p,Y.p=2,E=Ue,Ue|=4;try{YA(i,l,a)}finally{Ue=E,Y.p=p,B.T=f}}_t=1,kb(),Mb(),Rb()}}function kb(){if(_t===1){_t=0;var i=Ni,l=vl,a=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var f=Y.p;Y.p=2;var p=Ue;Ue|=4;try{fb(l,i);var g=Yh,E=yy(i.containerInfo),w=g.focusedElem,N=g.selectionRange;if(E!==w&&w&&w.ownerDocument&&gy(w.ownerDocument.documentElement,w)){if(N!==null&&Sd(w)){var z=N.start,F=N.end;if(F===void 0&&(F=z),"selectionStart"in w)w.selectionStart=z,w.selectionEnd=Math.min(F,w.value.length);else{var G=w.ownerDocument||document,H=G&&G.defaultView||window;if(H.getSelection){var U=H.getSelection(),ye=w.textContent.length,pe=Math.min(N.start,ye),Ve=N.end===void 0?pe:Math.min(N.end,ye);!U.extend&&pe>Ve&&(E=Ve,Ve=pe,pe=E);var j=my(w,pe),M=my(w,Ve);if(j&&M&&(U.rangeCount!==1||U.anchorNode!==j.node||U.anchorOffset!==j.offset||U.focusNode!==M.node||U.focusOffset!==M.offset)){var L=G.createRange();L.setStart(j.node,j.offset),U.removeAllRanges(),pe>Ve?(U.addRange(L),U.extend(M.node,M.offset)):(L.setEnd(M.node,M.offset),U.addRange(L))}}}}for(G=[],U=w;U=U.parentNode;)U.nodeType===1&&G.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<G.length;w++){var $=G[w];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}ec=!!Gh,Yh=Gh=null}finally{Ue=p,Y.p=f,B.T=a}}i.current=l,_t=2}}function Mb(){if(_t===2){_t=0;var i=Ni,l=vl,a=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var f=Y.p;Y.p=2;var p=Ue;Ue|=4;try{ob(i,l.alternate,l)}finally{Ue=p,Y.p=f,B.T=a}}_t=3}}function Rb(){if(_t===4||_t===3){_t=0,Zl();var i=Ni,l=vl,a=El,f=bb;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?_t=5:(_t=0,vl=Ni=null,Db(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Ci=null),ro(a),l=l.stateNode,It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(Dn,l,void 0,(l.current.flags&128)===128)}catch{}if(f!==null){l=B.T,p=Y.p,Y.p=2,B.T=null;try{for(var g=i.onRecoverableError,E=0;E<f.length;E++){var w=f[E];g(w.value,{componentStack:w.stack})}}finally{B.T=l,Y.p=p}}(El&3)!==0&&qu(),yr(i),p=i.pendingLanes,(a&4194090)!==0&&(p&42)!==0?i===Dh?Io++:(Io=0,Dh=i):Io=0,qo(0)}}function Db(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,vo(l)))}function qu(i){return kb(),Mb(),Rb(),jb()}function jb(){if(_t!==5)return!1;var i=Ni,l=Mh;Mh=0;var a=ro(El),f=B.T,p=Y.p;try{Y.p=32>a?32:a,B.T=null,a=Rh,Rh=null;var g=Ni,E=El;if(_t=0,vl=Ni=null,El=0,(Ue&6)!==0)throw Error(r(331));var w=Ue;if(Ue|=4,gb(g.current),hb(g,g.current,E,a),Ue=w,qo(0,!1),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(Dn,g)}catch{}return!0}finally{Y.p=p,B.T=f,Db(i,l)}}function _b(i,l,a){l=Ln(a,l),l=ch(i.stateNode,l,2),i=yi(i,l,2),i!==null&&(Wn(i,2),yr(i))}function Ge(i,l,a){if(i.tag===3)_b(i,i,a);else for(;l!==null;){if(l.tag===3){_b(l,i,a);break}else if(l.tag===1){var f=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ci===null||!Ci.has(f))){i=Ln(a,i),a=H0(2),f=yi(l,a,2),f!==null&&(U0(a,f,l,i),Wn(f,2),yr(f));break}}l=l.return}}function zh(i,l,a){var f=i.pingCache;if(f===null){f=i.pingCache=new JA;var p=new Set;f.set(l,p)}else p=f.get(l),p===void 0&&(p=new Set,f.set(l,p));p.has(a)||(Ch=!0,p.add(a),i=tw.bind(null,i,l,a),l.then(i,i))}function tw(i,l,a){var f=i.pingCache;f!==null&&f.delete(l),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,Xe===i&&(Le&a)===a&&(it===4||it===3&&(Le&62914560)===Le&&300>Rt()-kh?(Ue&2)===0&&Tl(i,0):Nh|=a,Sl===Le&&(Sl=0)),yr(i)}function Lb(i,l){l===0&&(l=ls()),i=sl(i,l),i!==null&&(Wn(i,l),yr(i))}function nw(i){var l=i.memoizedState,a=0;l!==null&&(a=l.retryLane),Lb(i,a)}function rw(i,l){var a=0;switch(i.tag){case 13:var f=i.stateNode,p=i.memoizedState;p!==null&&(a=p.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(l),Lb(i,a)}function iw(i,l){return ai(i,l)}var Vu=null,wl=null,Bh=!1,Fu=!1,Hh=!1,Ts=0;function yr(i){i!==wl&&i.next===null&&(wl===null?Vu=wl=i:wl=wl.next=i),Fu=!0,Bh||(Bh=!0,lw())}function qo(i,l){if(!Hh&&Fu){Hh=!0;do for(var a=!1,f=Vu;f!==null;){if(i!==0){var p=f.pendingLanes;if(p===0)var g=0;else{var E=f.suspendedLanes,w=f.pingedLanes;g=(1<<31-qt(42|i)+1)-1,g&=p&~(E&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,Ub(f,g))}else g=Le,g=ci(f,f===Xe?g:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(g&3)===0||Mr(f,g)||(a=!0,Ub(f,g));f=f.next}while(a);Hh=!1}}function sw(){zb()}function zb(){Fu=Bh=!1;var i=0;Ts!==0&&(pw()&&(i=Ts),Ts=0);for(var l=Rt(),a=null,f=Vu;f!==null;){var p=f.next,g=Bb(f,l);g===0?(f.next=null,a===null?Vu=p:a.next=p,p===null&&(wl=a)):(a=f,(i!==0||(g&3)!==0)&&(Fu=!0)),f=p}qo(i)}function Bb(i,l){for(var a=i.suspendedLanes,f=i.pingedLanes,p=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var E=31-qt(g),w=1<<E,N=p[E];N===-1?((w&a)===0||(w&f)!==0)&&(p[E]=td(w,l)):N<=l&&(i.expiredLanes|=w),g&=~w}if(l=Xe,a=Le,a=ci(i,i===l?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,a===0||i===l&&(Pe===2||Pe===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&Jn(f),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||Mr(i,a)){if(l=a&-a,l===i.callbackPriority)return l;switch(f!==null&&Jn(f),ro(a)){case 2:case 8:a=eo;break;case 32:a=rs;break;case 268435456:a=Ks;break;default:a=rs}return f=Hb.bind(null,i),a=ai(a,f),i.callbackPriority=l,i.callbackNode=a,l}return f!==null&&f!==null&&Jn(f),i.callbackPriority=2,i.callbackNode=null,2}function Hb(i,l){if(_t!==0&&_t!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(qu()&&i.callbackNode!==a)return null;var f=Le;return f=ci(i,i===Xe?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(Sb(i,f,l),Bb(i,Rt()),i.callbackNode!=null&&i.callbackNode===a?Hb.bind(null,i):null)}function Ub(i,l){if(qu())return null;Sb(i,l,!0)}function lw(){gw(function(){(Ue&6)!==0?ai(ns,sw):zb()})}function Uh(){return Ts===0&&(Ts=ss()),Ts}function Pb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:tu(""+i)}function Ib(i,l){var a=l.ownerDocument.createElement("input");return a.name=l.name,a.value=l.value,i.id&&a.setAttribute("form",i.id),l.parentNode.insertBefore(a,l),i=new FormData(i),a.parentNode.removeChild(a),i}function ow(i,l,a,f,p){if(l==="submit"&&a&&a.stateNode===p){var g=Pb((p[Vt]||null).action),E=f.submitter;E&&(l=(l=E[Vt]||null)?Pb(l.formAction):E.getAttribute("formAction"),l!==null&&(g=l,E=null));var w=new su("action","action",null,f,p);i.push({event:w,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Ts!==0){var N=E?Ib(p,E):new FormData(p);sh(a,{pending:!0,data:N,method:p.method,action:g},null,N)}}else typeof g=="function"&&(w.preventDefault(),N=E?Ib(p,E):new FormData(p),sh(a,{pending:!0,data:N,method:p.method,action:g},g,N))},currentTarget:p}]})}}for(var Ph=0;Ph<Ad.length;Ph++){var Ih=Ad[Ph],aw=Ih.toLowerCase(),uw=Ih[0].toUpperCase()+Ih.slice(1);er(aw,"on"+uw)}er(Sy,"onAnimationEnd"),er(vy,"onAnimationIteration"),er(Ey,"onAnimationStart"),er("dblclick","onDoubleClick"),er("focusin","onFocus"),er("focusout","onBlur"),er(CA,"onTransitionRun"),er(NA,"onTransitionStart"),er(OA,"onTransitionCancel"),er(Ty,"onTransitionEnd"),re("onMouseEnter",["mouseout","mouseover"]),re("onMouseLeave",["mouseout","mouseover"]),re("onPointerEnter",["pointerout","pointerover"]),re("onPointerLeave",["pointerout","pointerover"]),X("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),X("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),X("onBeforeInput",["compositionend","keypress","textInput","paste"]),X("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),X("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),X("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vo));function qb(i,l){l=(l&4)!==0;for(var a=0;a<i.length;a++){var f=i[a],p=f.event;f=f.listeners;e:{var g=void 0;if(l)for(var E=f.length-1;0<=E;E--){var w=f[E],N=w.instance,z=w.currentTarget;if(w=w.listener,N!==g&&p.isPropagationStopped())break e;g=w,p.currentTarget=z;try{g(p)}catch(F){Ru(F)}p.currentTarget=null,g=N}else for(E=0;E<f.length;E++){if(w=f[E],N=w.instance,z=w.currentTarget,w=w.listener,N!==g&&p.isPropagationStopped())break e;g=w,p.currentTarget=z;try{g(p)}catch(F){Ru(F)}p.currentTarget=null,g=N}}}}function je(i,l){var a=l[fr];a===void 0&&(a=l[fr]=new Set);var f=i+"__bubble";a.has(f)||(Vb(l,i,2,!1),a.add(f))}function qh(i,l,a){var f=0;l&&(f|=4),Vb(a,i,f,l)}var $u="_reactListening"+Math.random().toString(36).slice(2);function Vh(i){if(!i[$u]){i[$u]=!0,ae.forEach(function(a){a!=="selectionchange"&&(cw.has(a)||qh(a,!1,i),qh(a,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[$u]||(l[$u]=!0,qh("selectionchange",!1,l))}}function Vb(i,l,a,f){switch(h1(l)){case 2:var p=Bw;break;case 8:p=Hw;break;default:p=rp}a=p.bind(null,l,a,i),p=void 0,!fd||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(p=!0),f?p!==void 0?i.addEventListener(l,a,{capture:!0,passive:p}):i.addEventListener(l,a,!0):p!==void 0?i.addEventListener(l,a,{passive:p}):i.addEventListener(l,a,!1)}function Fh(i,l,a,f,p){var g=f;if((l&1)===0&&(l&2)===0&&f!==null)e:for(;;){if(f===null)return;var E=f.tag;if(E===3||E===4){var w=f.stateNode.containerInfo;if(w===p)break;if(E===4)for(E=f.return;E!==null;){var N=E.tag;if((N===3||N===4)&&E.stateNode.containerInfo===p)return;E=E.return}for(;w!==null;){if(E=Rr(w),E===null)return;if(N=E.tag,N===5||N===6||N===26||N===27){f=g=E;continue e}w=w.parentNode}}f=f.return}Jg(function(){var z=g,F=ud(a),G=[];e:{var H=Ay.get(i);if(H!==void 0){var U=su,ye=i;switch(i){case"keypress":if(ru(a)===0)break e;case"keydown":case"keyup":U=iA;break;case"focusin":ye="focus",U=md;break;case"focusout":ye="blur",U=md;break;case"beforeblur":case"afterblur":U=md;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Zg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=GT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=oA;break;case Sy:case vy:case Ey:U=XT;break;case Ty:U=uA;break;case"scroll":case"scrollend":U=FT;break;case"wheel":U=fA;break;case"copy":case"cut":case"paste":U=QT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=ty;break;case"toggle":case"beforetoggle":U=hA}var pe=(l&4)!==0,Ve=!pe&&(i==="scroll"||i==="scrollend"),j=pe?H!==null?H+"Capture":null:H;pe=[];for(var M=z,L;M!==null;){var $=M;if(L=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||L===null||j===null||($=oo(M,j),$!=null&&pe.push(Fo(M,$,L))),Ve)break;M=M.return}0<pe.length&&(H=new U(H,ye,null,a,F),G.push({event:H,listeners:pe}))}}if((l&7)===0){e:{if(H=i==="mouseover"||i==="pointerover",U=i==="mouseout"||i==="pointerout",H&&a!==ad&&(ye=a.relatedTarget||a.fromElement)&&(Rr(ye)||ye[Dt]))break e;if((U||H)&&(H=F.window===F?F:(H=F.ownerDocument)?H.defaultView||H.parentWindow:window,U?(ye=a.relatedTarget||a.toElement,U=z,ye=ye?Rr(ye):null,ye!==null&&(Ve=o(ye),pe=ye.tag,ye!==Ve||pe!==5&&pe!==27&&pe!==6)&&(ye=null)):(U=null,ye=z),U!==ye)){if(pe=Zg,$="onMouseLeave",j="onMouseEnter",M="mouse",(i==="pointerout"||i==="pointerover")&&(pe=ty,$="onPointerLeave",j="onPointerEnter",M="pointer"),Ve=U==null?H:di(U),L=ye==null?H:di(ye),H=new pe($,M+"leave",U,a,F),H.target=Ve,H.relatedTarget=L,$=null,Rr(F)===z&&(pe=new pe(j,M+"enter",ye,a,F),pe.target=L,pe.relatedTarget=Ve,$=pe),Ve=$,U&&ye)t:{for(pe=U,j=ye,M=0,L=pe;L;L=Cl(L))M++;for(L=0,$=j;$;$=Cl($))L++;for(;0<M-L;)pe=Cl(pe),M--;for(;0<L-M;)j=Cl(j),L--;for(;M--;){if(pe===j||j!==null&&pe===j.alternate)break t;pe=Cl(pe),j=Cl(j)}pe=null}else pe=null;U!==null&&Fb(G,H,U,pe,!1),ye!==null&&Ve!==null&&Fb(G,Ve,ye,pe,!0)}}e:{if(H=z?di(z):window,U=H.nodeName&&H.nodeName.toLowerCase(),U==="select"||U==="input"&&H.type==="file")var ie=uy;else if(oy(H))if(cy)ie=TA;else{ie=vA;var Re=SA}else U=H.nodeName,!U||U.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?z&&od(z.elementType)&&(ie=uy):ie=EA;if(ie&&(ie=ie(i,z))){ay(G,ie,a,F);break e}Re&&Re(i,H,z),i==="focusout"&&z&&H.type==="number"&&z.memoizedProps.value!=null&&ld(H,"number",H.value)}switch(Re=z?di(z):window,i){case"focusin":(oy(Re)||Re.contentEditable==="true")&&(nl=Re,vd=z,go=null);break;case"focusout":go=vd=nl=null;break;case"mousedown":Ed=!0;break;case"contextmenu":case"mouseup":case"dragend":Ed=!1,by(G,a,F);break;case"selectionchange":if(wA)break;case"keydown":case"keyup":by(G,a,F)}var ue;if(yd)e:{switch(i){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else tl?sy(i,a)&&(ge="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(ge="onCompositionStart");ge&&(ny&&a.locale!=="ko"&&(tl||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&tl&&(ue=Qg()):(hi=F,dd="value"in hi?hi.value:hi.textContent,tl=!0)),Re=Gu(z,ge),0<Re.length&&(ge=new ey(ge,i,null,a,F),G.push({event:ge,listeners:Re}),ue?ge.data=ue:(ue=ly(a),ue!==null&&(ge.data=ue)))),(ue=mA?gA(i,a):yA(i,a))&&(ge=Gu(z,"onBeforeInput"),0<ge.length&&(Re=new ey("onBeforeInput","beforeinput",null,a,F),G.push({event:Re,listeners:ge}),Re.data=ue)),ow(G,i,z,a,F)}qb(G,l)})}function Fo(i,l,a){return{instance:i,listener:l,currentTarget:a}}function Gu(i,l){for(var a=l+"Capture",f=[];i!==null;){var p=i,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=oo(i,a),p!=null&&f.unshift(Fo(i,p,g)),p=oo(i,l),p!=null&&f.push(Fo(i,p,g))),i.tag===3)return f;i=i.return}return[]}function Cl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Fb(i,l,a,f,p){for(var g=l._reactName,E=[];a!==null&&a!==f;){var w=a,N=w.alternate,z=w.stateNode;if(w=w.tag,N!==null&&N===f)break;w!==5&&w!==26&&w!==27||z===null||(N=z,p?(z=oo(a,g),z!=null&&E.unshift(Fo(a,z,N))):p||(z=oo(a,g),z!=null&&E.push(Fo(a,z,N)))),a=a.return}E.length!==0&&i.push({event:l,listeners:E})}var fw=/\r\n?/g,dw=/\u0000|\uFFFD/g;function $b(i){return(typeof i=="string"?i:""+i).replace(fw,`
`).replace(dw,"")}function Gb(i,l){return l=$b(l),$b(i)===l}function Yu(){}function qe(i,l,a,f,p,g){switch(a){case"children":typeof f=="string"?l==="body"||l==="textarea"&&f===""||Ws(i,f):(typeof f=="number"||typeof f=="bigint")&&l!=="body"&&Ws(i,""+f);break;case"className":dr(i,"class",f);break;case"tabIndex":dr(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":dr(i,a,f);break;case"style":Kg(i,f,g);break;case"data":if(l!=="object"){dr(i,"data",f);break}case"src":case"href":if(f===""&&(l!=="a"||a!=="href")){i.removeAttribute(a);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(a);break}f=tu(""+f),i.setAttribute(a,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(l!=="input"&&qe(i,l,"name",p.name,p,null),qe(i,l,"formEncType",p.formEncType,p,null),qe(i,l,"formMethod",p.formMethod,p,null),qe(i,l,"formTarget",p.formTarget,p,null)):(qe(i,l,"encType",p.encType,p,null),qe(i,l,"method",p.method,p,null),qe(i,l,"target",p.target,p,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(a);break}f=tu(""+f),i.setAttribute(a,f);break;case"onClick":f!=null&&(i.onclick=Yu);break;case"onScroll":f!=null&&je("scroll",i);break;case"onScrollEnd":f!=null&&je("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(a=f.__html,a!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}a=tu(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(a,""+f):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":f===!0?i.setAttribute(a,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(a,f):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(a,f):i.removeAttribute(a);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(a):i.setAttribute(a,f);break;case"popover":je("beforetoggle",i),je("toggle",i),an(i,"popover",f);break;case"xlinkActuate":Sn(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Sn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Sn(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Sn(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Sn(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Sn(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Sn(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Sn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Sn(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":an(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=qT.get(a)||a,an(i,a,f))}}function $h(i,l,a,f,p,g){switch(a){case"style":Kg(i,f,g);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(a=f.__html,a!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=a}}break;case"children":typeof f=="string"?Ws(i,f):(typeof f=="number"||typeof f=="bigint")&&Ws(i,""+f);break;case"onScroll":f!=null&&je("scroll",i);break;case"onScrollEnd":f!=null&&je("scrollend",i);break;case"onClick":f!=null&&(i.onclick=Yu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!D.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(p=a.endsWith("Capture"),l=a.slice(2,p?a.length-7:void 0),g=i[Vt]||null,g=g!=null?g[a]:null,typeof g=="function"&&i.removeEventListener(l,g,p),typeof f=="function")){typeof g!="function"&&g!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(l,f,p);break e}a in i?i[a]=f:f===!0?i.setAttribute(a,""):an(i,a,f)}}}function Lt(i,l,a){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",i),je("load",i);var f=!1,p=!1,g;for(g in a)if(a.hasOwnProperty(g)){var E=a[g];if(E!=null)switch(g){case"src":f=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:qe(i,l,g,E,a,null)}}p&&qe(i,l,"srcSet",a.srcSet,a,null),f&&qe(i,l,"src",a.src,a,null);return;case"input":je("invalid",i);var w=g=E=p=null,N=null,z=null;for(f in a)if(a.hasOwnProperty(f)){var F=a[f];if(F!=null)switch(f){case"name":p=F;break;case"type":E=F;break;case"checked":N=F;break;case"defaultChecked":z=F;break;case"value":g=F;break;case"defaultValue":w=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,l));break;default:qe(i,l,f,F,a,null)}}Fg(i,g,w,N,z,E,p,!1),Za(i);return;case"select":je("invalid",i),f=E=g=null;for(p in a)if(a.hasOwnProperty(p)&&(w=a[p],w!=null))switch(p){case"value":g=w;break;case"defaultValue":E=w;break;case"multiple":f=w;default:qe(i,l,p,w,a,null)}l=g,a=E,i.multiple=!!f,l!=null?Qs(i,!!f,l,!1):a!=null&&Qs(i,!!f,a,!0);return;case"textarea":je("invalid",i),g=p=f=null;for(E in a)if(a.hasOwnProperty(E)&&(w=a[E],w!=null))switch(E){case"value":f=w;break;case"defaultValue":p=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:qe(i,l,E,w,a,null)}Gg(i,f,p,g),Za(i);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(f=a[N],f!=null))switch(N){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:qe(i,l,N,f,a,null)}return;case"dialog":je("beforetoggle",i),je("toggle",i),je("cancel",i),je("close",i);break;case"iframe":case"object":je("load",i);break;case"video":case"audio":for(f=0;f<Vo.length;f++)je(Vo[f],i);break;case"image":je("error",i),je("load",i);break;case"details":je("toggle",i);break;case"embed":case"source":case"link":je("error",i),je("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(f=a[z],f!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:qe(i,l,z,f,a,null)}return;default:if(od(l)){for(F in a)a.hasOwnProperty(F)&&(f=a[F],f!==void 0&&$h(i,l,F,f,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(f=a[w],f!=null&&qe(i,l,w,f,a,null))}function hw(i,l,a,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,E=null,w=null,N=null,z=null,F=null;for(U in a){var G=a[U];if(a.hasOwnProperty(U)&&G!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":N=G;default:f.hasOwnProperty(U)||qe(i,l,U,null,f,G)}}for(var H in f){var U=f[H];if(G=a[H],f.hasOwnProperty(H)&&(U!=null||G!=null))switch(H){case"type":g=U;break;case"name":p=U;break;case"checked":z=U;break;case"defaultChecked":F=U;break;case"value":E=U;break;case"defaultValue":w=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,l));break;default:U!==G&&qe(i,l,H,U,f,G)}}sd(i,E,w,N,z,F,g,p);return;case"select":U=E=w=H=null;for(g in a)if(N=a[g],a.hasOwnProperty(g)&&N!=null)switch(g){case"value":break;case"multiple":U=N;default:f.hasOwnProperty(g)||qe(i,l,g,null,f,N)}for(p in f)if(g=f[p],N=a[p],f.hasOwnProperty(p)&&(g!=null||N!=null))switch(p){case"value":H=g;break;case"defaultValue":w=g;break;case"multiple":E=g;default:g!==N&&qe(i,l,p,g,f,N)}l=w,a=E,f=U,H!=null?Qs(i,!!a,H,!1):!!f!=!!a&&(l!=null?Qs(i,!!a,l,!0):Qs(i,!!a,a?[]:"",!1));return;case"textarea":U=H=null;for(w in a)if(p=a[w],a.hasOwnProperty(w)&&p!=null&&!f.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:qe(i,l,w,null,f,p)}for(E in f)if(p=f[E],g=a[E],f.hasOwnProperty(E)&&(p!=null||g!=null))switch(E){case"value":H=p;break;case"defaultValue":U=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==g&&qe(i,l,E,p,f,g)}$g(i,H,U);return;case"option":for(var ye in a)if(H=a[ye],a.hasOwnProperty(ye)&&H!=null&&!f.hasOwnProperty(ye))switch(ye){case"selected":i.selected=!1;break;default:qe(i,l,ye,null,f,H)}for(N in f)if(H=f[N],U=a[N],f.hasOwnProperty(N)&&H!==U&&(H!=null||U!=null))switch(N){case"selected":i.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:qe(i,l,N,H,f,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)H=a[pe],a.hasOwnProperty(pe)&&H!=null&&!f.hasOwnProperty(pe)&&qe(i,l,pe,null,f,H);for(z in f)if(H=f[z],U=a[z],f.hasOwnProperty(z)&&H!==U&&(H!=null||U!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,l));break;default:qe(i,l,z,H,f,U)}return;default:if(od(l)){for(var Ve in a)H=a[Ve],a.hasOwnProperty(Ve)&&H!==void 0&&!f.hasOwnProperty(Ve)&&$h(i,l,Ve,void 0,f,H);for(F in f)H=f[F],U=a[F],!f.hasOwnProperty(F)||H===U||H===void 0&&U===void 0||$h(i,l,F,H,f,U);return}}for(var j in a)H=a[j],a.hasOwnProperty(j)&&H!=null&&!f.hasOwnProperty(j)&&qe(i,l,j,null,f,H);for(G in f)H=f[G],U=a[G],!f.hasOwnProperty(G)||H===U||H==null&&U==null||qe(i,l,G,H,f,U)}var Gh=null,Yh=null;function Ku(i){return i.nodeType===9?i:i.ownerDocument}function Yb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kb(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function Kh(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Xh=null;function pw(){var i=window.event;return i&&i.type==="popstate"?i===Xh?!1:(Xh=i,!0):(Xh=null,!1)}var Xb=typeof setTimeout=="function"?setTimeout:void 0,mw=typeof clearTimeout=="function"?clearTimeout:void 0,Jb=typeof Promise=="function"?Promise:void 0,gw=typeof queueMicrotask=="function"?queueMicrotask:typeof Jb<"u"?function(i){return Jb.resolve(null).then(i).catch(yw)}:Xb;function yw(i){setTimeout(function(){throw i})}function ki(i){return i==="head"}function Qb(i,l){var a=l,f=0,p=0;do{var g=a.nextSibling;if(i.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"){if(0<f&&8>f){a=f;var E=i.ownerDocument;if(a&1&&$o(E.documentElement),a&2&&$o(E.body),a&4)for(a=E.head,$o(a),E=a.firstChild;E;){var w=E.nextSibling,N=E.nodeName;E[fi]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=w}}if(p===0){i.removeChild(g),Zo(l);return}p--}else a==="$"||a==="$?"||a==="$!"?p++:f=a.charCodeAt(0)-48;else f=0;a=g}while(a);Zo(l)}function Jh(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var a=l;switch(l=l.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Jh(a),xn(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function bw(i,l,a,f){for(;i.nodeType===1;){var p=a;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[fi])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=nr(i.nextSibling),i===null)break}return null}function xw(i,l,a){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=nr(i.nextSibling),i===null))return null;return i}function Qh(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function Sw(i,l){var a=i.ownerDocument;if(i.data!=="$?"||a.readyState==="complete")l();else{var f=function(){l(),a.removeEventListener("DOMContentLoaded",f)};a.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function nr(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return i}var Wh=null;function Wb(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(l===0)return i;l--}else a==="/$"&&l++}i=i.previousSibling}return null}function Zb(i,l,a){switch(l=Ku(a),i){case"html":if(i=l.documentElement,!i)throw Error(r(452));return i;case"head":if(i=l.head,!i)throw Error(r(453));return i;case"body":if(i=l.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function $o(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);xn(i)}var In=new Map,e1=new Set;function Xu(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Kr=Y.d;Y.d={f:vw,r:Ew,D:Tw,C:Aw,L:ww,m:Cw,X:Ow,S:Nw,M:kw};function vw(){var i=Kr.f(),l=Pu();return i||l}function Ew(i){var l=Dr(i);l!==null&&l.tag===5&&l.type==="form"?S0(l):Kr.r(i)}var Nl=typeof document>"u"?null:document;function t1(i,l,a){var f=Nl;if(f&&typeof l=="string"&&l){var p=_n(l);p='link[rel="'+i+'"][href="'+p+'"]',typeof a=="string"&&(p+='[crossorigin="'+a+'"]'),e1.has(p)||(e1.add(p),i={rel:i,crossOrigin:a,href:l},f.querySelector(p)===null&&(l=f.createElement("link"),Lt(l,"link",i),ft(l),f.head.appendChild(l)))}}function Tw(i){Kr.D(i),t1("dns-prefetch",i,null)}function Aw(i,l){Kr.C(i,l),t1("preconnect",i,l)}function ww(i,l,a){Kr.L(i,l,a);var f=Nl;if(f&&i&&l){var p='link[rel="preload"][as="'+_n(l)+'"]';l==="image"&&a&&a.imageSrcSet?(p+='[imagesrcset="'+_n(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(p+='[imagesizes="'+_n(a.imageSizes)+'"]')):p+='[href="'+_n(i)+'"]';var g=p;switch(l){case"style":g=Ol(i);break;case"script":g=kl(i)}In.has(g)||(i=m({rel:"preload",href:l==="image"&&a&&a.imageSrcSet?void 0:i,as:l},a),In.set(g,i),f.querySelector(p)!==null||l==="style"&&f.querySelector(Go(g))||l==="script"&&f.querySelector(Yo(g))||(l=f.createElement("link"),Lt(l,"link",i),ft(l),f.head.appendChild(l)))}}function Cw(i,l){Kr.m(i,l);var a=Nl;if(a&&i){var f=l&&typeof l.as=="string"?l.as:"script",p='link[rel="modulepreload"][as="'+_n(f)+'"][href="'+_n(i)+'"]',g=p;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=kl(i)}if(!In.has(g)&&(i=m({rel:"modulepreload",href:i},l),In.set(g,i),a.querySelector(p)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Yo(g)))return}f=a.createElement("link"),Lt(f,"link",i),ft(f),a.head.appendChild(f)}}}function Nw(i,l,a){Kr.S(i,l,a);var f=Nl;if(f&&i){var p=jr(f).hoistableStyles,g=Ol(i);l=l||"default";var E=p.get(g);if(!E){var w={loading:0,preload:null};if(E=f.querySelector(Go(g)))w.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":l},a),(a=In.get(g))&&Zh(i,a);var N=E=f.createElement("link");ft(N),Lt(N,"link",i),N._p=new Promise(function(z,F){N.onload=z,N.onerror=F}),N.addEventListener("load",function(){w.loading|=1}),N.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Ju(E,l,f)}E={type:"stylesheet",instance:E,count:1,state:w},p.set(g,E)}}}function Ow(i,l){Kr.X(i,l);var a=Nl;if(a&&i){var f=jr(a).hoistableScripts,p=kl(i),g=f.get(p);g||(g=a.querySelector(Yo(p)),g||(i=m({src:i,async:!0},l),(l=In.get(p))&&ep(i,l),g=a.createElement("script"),ft(g),Lt(g,"link",i),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},f.set(p,g))}}function kw(i,l){Kr.M(i,l);var a=Nl;if(a&&i){var f=jr(a).hoistableScripts,p=kl(i),g=f.get(p);g||(g=a.querySelector(Yo(p)),g||(i=m({src:i,async:!0,type:"module"},l),(l=In.get(p))&&ep(i,l),g=a.createElement("script"),ft(g),Lt(g,"link",i),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},f.set(p,g))}}function n1(i,l,a,f){var p=(p=me.current)?Xu(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(l=Ol(a.href),a=jr(p).hoistableStyles,f=a.get(l),f||(f={type:"style",instance:null,count:0,state:null},a.set(l,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Ol(a.href);var g=jr(p).hoistableStyles,E=g.get(i);if(E||(p=p.ownerDocument||p,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,E),(g=p.querySelector(Go(i)))&&!g._p&&(E.instance=g,E.state.loading=5),In.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},In.set(i,a),g||Mw(p,i,a,E.state))),l&&f===null)throw Error(r(528,""));return E}if(l&&f!==null)throw Error(r(529,""));return null;case"script":return l=a.async,a=a.src,typeof a=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=kl(a),a=jr(p).hoistableScripts,f=a.get(l),f||(f={type:"script",instance:null,count:0,state:null},a.set(l,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Ol(i){return'href="'+_n(i)+'"'}function Go(i){return'link[rel="stylesheet"]['+i+"]"}function r1(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function Mw(i,l,a,f){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?f.loading=1:(l=i.createElement("link"),f.preload=l,l.addEventListener("load",function(){return f.loading|=1}),l.addEventListener("error",function(){return f.loading|=2}),Lt(l,"link",a),ft(l),i.head.appendChild(l))}function kl(i){return'[src="'+_n(i)+'"]'}function Yo(i){return"script[async]"+i}function i1(i,l,a){if(l.count++,l.instance===null)switch(l.type){case"style":var f=i.querySelector('style[data-href~="'+_n(a.href)+'"]');if(f)return l.instance=f,ft(f),f;var p=m({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),ft(f),Lt(f,"style",p),Ju(f,a.precedence,i),l.instance=f;case"stylesheet":p=Ol(a.href);var g=i.querySelector(Go(p));if(g)return l.state.loading|=4,l.instance=g,ft(g),g;f=r1(a),(p=In.get(p))&&Zh(f,p),g=(i.ownerDocument||i).createElement("link"),ft(g);var E=g;return E._p=new Promise(function(w,N){E.onload=w,E.onerror=N}),Lt(g,"link",f),l.state.loading|=4,Ju(g,a.precedence,i),l.instance=g;case"script":return g=kl(a.src),(p=i.querySelector(Yo(g)))?(l.instance=p,ft(p),p):(f=a,(p=In.get(g))&&(f=m({},a),ep(f,p)),i=i.ownerDocument||i,p=i.createElement("script"),ft(p),Lt(p,"link",f),i.head.appendChild(p),l.instance=p);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(f=l.instance,l.state.loading|=4,Ju(f,a.precedence,i));return l.instance}function Ju(i,l,a){for(var f=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=f.length?f[f.length-1]:null,g=p,E=0;E<f.length;E++){var w=f[E];if(w.dataset.precedence===l)g=w;else if(g!==p)break}g?g.parentNode.insertBefore(i,g.nextSibling):(l=a.nodeType===9?a.head:a,l.insertBefore(i,l.firstChild))}function Zh(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function ep(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var Qu=null;function s1(i,l,a){if(Qu===null){var f=new Map,p=Qu=new Map;p.set(a,f)}else p=Qu,f=p.get(a),f||(f=new Map,p.set(a,f));if(f.has(i))return f;for(f.set(i,null),a=a.getElementsByTagName(i),p=0;p<a.length;p++){var g=a[p];if(!(g[fi]||g[gt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(l)||"";E=i+E;var w=f.get(E);w?w.push(g):f.set(E,[g])}}return f}function l1(i,l,a){i=i.ownerDocument||i,i.head.insertBefore(a,l==="title"?i.querySelector("head > title"):null)}function Rw(i,l,a){if(a===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function o1(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Ko=null;function Dw(){}function jw(i,l,a){if(Ko===null)throw Error(r(475));var f=Ko;if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=Ol(a.href),g=i.querySelector(Go(p));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(f.count++,f=Wu.bind(f),i.then(f,f)),l.state.loading|=4,l.instance=g,ft(g);return}g=i.ownerDocument||i,a=r1(a),(p=In.get(p))&&Zh(a,p),g=g.createElement("link"),ft(g);var E=g;E._p=new Promise(function(w,N){E.onload=w,E.onerror=N}),Lt(g,"link",a),l.instance=g}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(f.count++,l=Wu.bind(f),i.addEventListener("load",l),i.addEventListener("error",l))}}function _w(){if(Ko===null)throw Error(r(475));var i=Ko;return i.stylesheets&&i.count===0&&tp(i,i.stylesheets),0<i.count?function(l){var a=setTimeout(function(){if(i.stylesheets&&tp(i,i.stylesheets),i.unsuspend){var f=i.unsuspend;i.unsuspend=null,f()}},6e4);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(a)}}:null}function Wu(){if(this.count--,this.count===0){if(this.stylesheets)tp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Zu=null;function tp(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Zu=new Map,l.forEach(Lw,i),Zu=null,Wu.call(i))}function Lw(i,l){if(!(l.state.loading&4)){var a=Zu.get(i);if(a)var f=a.get(null);else{a=new Map,Zu.set(i,a);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var E=p[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),f=E)}f&&a.set(null,f)}p=l.instance,E=p.getAttribute("data-precedence"),g=a.get(E)||f,g===f&&a.set(null,p),a.set(E,p),this.count++,f=Wu.bind(this),p.addEventListener("load",f),p.addEventListener("error",f),g?g.parentNode.insertBefore(p,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),l.state.loading|=4}}var Xo={$$typeof:_,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function zw(i,l,a,f,p,g,E,w){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=no(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=no(0),this.hiddenUpdates=no(null),this.identifierPrefix=f,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function a1(i,l,a,f,p,g,E,w,N,z,F,G){return i=new zw(i,l,a,E,w,N,z,G),l=1,g===!0&&(l|=24),g=En(3,null,null,l),i.current=g,g.stateNode=i,l=zd(),l.refCount++,i.pooledCache=l,l.refCount++,g.memoizedState={element:f,isDehydrated:a,cache:l},Pd(g),i}function u1(i){return i?(i=ll,i):ll}function c1(i,l,a,f,p,g){p=u1(p),f.context===null?f.context=p:f.pendingContext=p,f=gi(l),f.payload={element:a},g=g===void 0?null:g,g!==null&&(f.callback=g),a=yi(i,f,l),a!==null&&(Nn(a,i,l),wo(a,i,l))}function f1(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<l?a:l}}function np(i,l){f1(i,l),(i=i.alternate)&&f1(i,l)}function d1(i){if(i.tag===13){var l=sl(i,67108864);l!==null&&Nn(l,i,67108864),np(i,67108864)}}var ec=!0;function Bw(i,l,a,f){var p=B.T;B.T=null;var g=Y.p;try{Y.p=2,rp(i,l,a,f)}finally{Y.p=g,B.T=p}}function Hw(i,l,a,f){var p=B.T;B.T=null;var g=Y.p;try{Y.p=8,rp(i,l,a,f)}finally{Y.p=g,B.T=p}}function rp(i,l,a,f){if(ec){var p=ip(f);if(p===null)Fh(i,l,f,tc,a),p1(i,f);else if(Pw(p,i,l,a,f))f.stopPropagation();else if(p1(i,f),l&4&&-1<Uw.indexOf(i)){for(;p!==null;){var g=Dr(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=on(g.pendingLanes);if(E!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var N=1<<31-qt(E);w.entanglements[1]|=N,E&=~N}yr(g),(Ue&6)===0&&(Hu=Rt()+500,qo(0))}}break;case 13:w=sl(g,2),w!==null&&Nn(w,g,2),Pu(),np(g,2)}if(g=ip(f),g===null&&Fh(i,l,f,tc,a),g===p)break;p=g}p!==null&&f.stopPropagation()}else Fh(i,l,f,null,a)}}function ip(i){return i=ud(i),sp(i)}var tc=null;function sp(i){if(tc=null,i=Rr(i),i!==null){var l=o(i);if(l===null)i=null;else{var a=l.tag;if(a===13){if(i=u(l),i!==null)return i;i=null}else if(a===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return tc=i,null}function h1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ys()){case ns:return 2;case eo:return 8;case rs:case ed:return 32;case Ks:return 268435456;default:return 32}default:return 32}}var lp=!1,Mi=null,Ri=null,Di=null,Jo=new Map,Qo=new Map,ji=[],Uw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function p1(i,l){switch(i){case"focusin":case"focusout":Mi=null;break;case"dragenter":case"dragleave":Ri=null;break;case"mouseover":case"mouseout":Di=null;break;case"pointerover":case"pointerout":Jo.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qo.delete(l.pointerId)}}function Wo(i,l,a,f,p,g){return i===null||i.nativeEvent!==g?(i={blockedOn:l,domEventName:a,eventSystemFlags:f,nativeEvent:g,targetContainers:[p]},l!==null&&(l=Dr(l),l!==null&&d1(l)),i):(i.eventSystemFlags|=f,l=i.targetContainers,p!==null&&l.indexOf(p)===-1&&l.push(p),i)}function Pw(i,l,a,f,p){switch(l){case"focusin":return Mi=Wo(Mi,i,l,a,f,p),!0;case"dragenter":return Ri=Wo(Ri,i,l,a,f,p),!0;case"mouseover":return Di=Wo(Di,i,l,a,f,p),!0;case"pointerover":var g=p.pointerId;return Jo.set(g,Wo(Jo.get(g)||null,i,l,a,f,p)),!0;case"gotpointercapture":return g=p.pointerId,Qo.set(g,Wo(Qo.get(g)||null,i,l,a,f,p)),!0}return!1}function m1(i){var l=Rr(i.target);if(l!==null){var a=o(l);if(a!==null){if(l=a.tag,l===13){if(l=u(a),l!==null){i.blockedOn=l,so(i.priority,function(){if(a.tag===13){var f=Cn();f=cr(f);var p=sl(a,f);p!==null&&Nn(p,a,f),np(a,f)}});return}}else if(l===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function nc(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var a=ip(i.nativeEvent);if(a===null){a=i.nativeEvent;var f=new a.constructor(a.type,a);ad=f,a.target.dispatchEvent(f),ad=null}else return l=Dr(a),l!==null&&d1(l),i.blockedOn=a,!1;l.shift()}return!0}function g1(i,l,a){nc(i)&&a.delete(l)}function Iw(){lp=!1,Mi!==null&&nc(Mi)&&(Mi=null),Ri!==null&&nc(Ri)&&(Ri=null),Di!==null&&nc(Di)&&(Di=null),Jo.forEach(g1),Qo.forEach(g1)}function rc(i,l){i.blockedOn===l&&(i.blockedOn=null,lp||(lp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Iw)))}var ic=null;function y1(i){ic!==i&&(ic=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ic===i&&(ic=null);for(var l=0;l<i.length;l+=3){var a=i[l],f=i[l+1],p=i[l+2];if(typeof f!="function"){if(sp(f||a)===null)continue;break}var g=Dr(a);g!==null&&(i.splice(l,3),l-=3,sh(g,{pending:!0,data:p,method:a.method,action:f},f,p))}}))}function Zo(i){function l(N){return rc(N,i)}Mi!==null&&rc(Mi,i),Ri!==null&&rc(Ri,i),Di!==null&&rc(Di,i),Jo.forEach(l),Qo.forEach(l);for(var a=0;a<ji.length;a++){var f=ji[a];f.blockedOn===i&&(f.blockedOn=null)}for(;0<ji.length&&(a=ji[0],a.blockedOn===null);)m1(a),a.blockedOn===null&&ji.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(f=0;f<a.length;f+=3){var p=a[f],g=a[f+1],E=p[Vt]||null;if(typeof g=="function")E||y1(a);else if(E){var w=null;if(g&&g.hasAttribute("formAction")){if(p=g,E=g[Vt]||null)w=E.formAction;else if(sp(p)!==null)continue}else w=E.action;typeof w=="function"?a[f+1]=w:(a.splice(f,3),f-=3),y1(a)}}}function op(i){this._internalRoot=i}sc.prototype.render=op.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(r(409));var a=l.current,f=Cn();c1(a,f,i,l,null,null)},sc.prototype.unmount=op.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;c1(i.current,2,null,i,null,null),Pu(),l[Dt]=null}};function sc(i){this._internalRoot=i}sc.prototype.unstable_scheduleHydration=function(i){if(i){var l=io();i={blockedOn:null,target:i,priority:l};for(var a=0;a<ji.length&&l!==0&&l<ji[a].priority;a++);ji.splice(a,0,i),a===0&&m1(i)}};var b1=e.version;if(b1!=="19.1.0")throw Error(r(527,b1,"19.1.0"));Y.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(l),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var qw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{Dn=lc.inject(qw),It=lc}catch{}}return ta.createRoot=function(i,l){if(!s(i))throw Error(r(299));var a=!1,f="",p=_0,g=L0,E=z0,w=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(g=l.onCaughtError),l.onRecoverableError!==void 0&&(E=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(w=l.unstable_transitionCallbacks)),l=a1(i,1,!1,null,null,a,f,p,g,E,w,null),i[Dt]=l.current,Vh(i),new op(l)},ta.hydrateRoot=function(i,l,a){if(!s(i))throw Error(r(299));var f=!1,p="",g=_0,E=L0,w=z0,N=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),l=a1(i,1,!0,l,a??null,f,p,g,E,w,N,z),l.context=u1(null),a=l.current,f=Cn(),f=cr(f),p=gi(f),p.callback=null,yi(a,p,f),a=f,l.current.lanes=a,Wn(l,a),yr(l),i[Dt]=l.current,Vh(i),new sc(l)},ta.version="19.1.0",ta}var O1;function Qw(){if(O1)return cp.exports;O1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),cp.exports=Jw(),cp.exports}var Ww=Qw();const Zw=Qi(Ww);var na={},k1;function eC(){if(k1)return na;k1=1,Object.defineProperty(na,"__esModule",{value:!0}),na.parse=u,na.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function u(b,S){const x=new o,v=b.length;if(v<2)return x;const A=(S==null?void 0:S.decode)||m;let C=0;do{const O=b.indexOf("=",C);if(O===-1)break;const _=b.indexOf(";",C),q=_===-1?v:_;if(O>q){C=b.lastIndexOf(";",O-1)+1;continue}const P=c(b,C,O),W=d(b,O,P),ee=b.slice(P,W);if(x[ee]===void 0){let oe=c(b,O+1,q),Z=d(b,q,oe);const Me=A(b.slice(oe,Z));x[ee]=Me}C=q+1}while(C<v);return x}function c(b,S,x){do{const v=b.charCodeAt(S);if(v!==32&&v!==9)return S}while(++S<x);return x}function d(b,S,x){for(;S>x;){const v=b.charCodeAt(--S);if(v!==32&&v!==9)return S+1}return x}function h(b,S,x){const v=(x==null?void 0:x.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const A=v(S);if(!e.test(A))throw new TypeError(`argument val is invalid: ${S}`);let C=b+"="+A;if(!x)return C;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);C+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);C+="; Domain="+x.domain}if(x.path){if(!r.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);C+="; Path="+x.path}if(x.expires){if(!y(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);C+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(C+="; HttpOnly"),x.secure&&(C+="; Secure"),x.partitioned&&(C+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return C}function m(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function y(b){return s.call(b)==="[object Date]"}return na}eC();var M1="popstate";function tC(n={}){function e(r,s){let{pathname:o,search:u,hash:c}=r.location;return am("",{pathname:o,search:u,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Na(s)}return rC(e,t,null,n)}function tt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Tr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nC(){return Math.random().toString(36).substring(2,10)}function R1(n,e){return{usr:n.state,key:n.key,idx:e}}function am(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Yl(e):e,state:t,key:e&&e.key||r||nC()}}function Na({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Yl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function rC(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,u=s.history,c="POP",d=null,h=m();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function m(){return(u.state||{idx:null}).idx}function y(){c="POP";let A=m(),C=A==null?null:A-h;h=A,d&&d({action:c,location:v.location,delta:C})}function b(A,C){c="PUSH";let O=am(v.location,A,C);h=m()+1;let _=R1(O,h),q=v.createHref(O);try{u.pushState(_,"",q)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(q)}o&&d&&d({action:c,location:v.location,delta:1})}function S(A,C){c="REPLACE";let O=am(v.location,A,C);h=m();let _=R1(O,h),q=v.createHref(O);u.replaceState(_,"",q),o&&d&&d({action:c,location:v.location,delta:0})}function x(A){return iC(A)}let v={get action(){return c},get location(){return n(s,u)},listen(A){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(M1,y),d=A,()=>{s.removeEventListener(M1,y),d=null}},createHref(A){return e(s,A)},createURL:x,encodeLocation(A){let C=x(A);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:b,replace:S,go(A){return u.go(A)}};return v}function iC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),tt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Na(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function PS(n,e,t="/"){return sC(n,e,t,!1)}function sC(n,e,t,r){let s=typeof e=="string"?Yl(e):e,o=li(s.pathname||"/",t);if(o==null)return null;let u=IS(n);lC(u);let c=null;for(let d=0;c==null&&d<u.length;++d){let h=yC(o);c=mC(u[d],h,r)}return c}function IS(n,e=[],t=[],r=""){let s=(o,u,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};d.relativePath.startsWith("/")&&(tt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let h=ri([r,d.relativePath]),m=t.concat(d);o.children&&o.children.length>0&&(tt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),IS(o.children,e,m,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:hC(h,o.index),routesMeta:m})};return n.forEach((o,u)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,u);else for(let d of qS(o.path))s(o,u,d)}),e}function qS(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let u=qS(r.join("/")),c=[];return c.push(...u.map(d=>d===""?o:[o,d].join("/"))),s&&c.push(...u),c.map(d=>n.startsWith("/")&&d===""?"/":d)}function lC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:pC(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var oC=/^:[\w-]+$/,aC=3,uC=2,cC=1,fC=10,dC=-2,D1=n=>n==="*";function hC(n,e){let t=n.split("/"),r=t.length;return t.some(D1)&&(r+=dC),e&&(r+=uC),t.filter(s=>!D1(s)).reduce((s,o)=>s+(oC.test(o)?aC:o===""?cC:fC),r)}function pC(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function mC(n,e,t=!1){let{routesMeta:r}=n,s={},o="/",u=[];for(let c=0;c<r.length;++c){let d=r[c],h=c===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",y=jc({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),b=d.route;if(!y&&h&&t&&!r[r.length-1].route.index&&(y=jc({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!y)return null;Object.assign(s,y.params),u.push({params:s,pathname:ri([o,y.pathname]),pathnameBase:vC(ri([o,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(o=ri([o,y.pathnameBase]))}return u}function jc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=gC(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:y},b)=>{if(m==="*"){let x=c[b]||"";u=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const S=c[b];return y&&!S?h[m]=void 0:h[m]=(S||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:u,pattern:n}}function gC(n,e=!1,t=!0){Tr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function yC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Tr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function li(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function bC(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Yl(n):n;return{pathname:t?t.startsWith("/")?t:xC(t,e):e,search:EC(r),hash:TC(s)}}function xC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function pp(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function SC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function VS(n){let e=SC(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function FS(n,e,t,r=!1){let s;typeof n=="string"?s=Yl(n):(s={...n},tt(!s.pathname||!s.pathname.includes("?"),pp("?","pathname","search",s)),tt(!s.pathname||!s.pathname.includes("#"),pp("#","pathname","hash",s)),tt(!s.search||!s.search.includes("#"),pp("#","search","hash",s)));let o=n===""||s.pathname==="",u=o?"/":s.pathname,c;if(u==null)c=t;else{let y=e.length-1;if(!r&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),y-=1;s.pathname=b.join("/")}c=y>=0?e[y]:"/"}let d=bC(s,c),h=u&&u!=="/"&&u.endsWith("/"),m=(o||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var ri=n=>n.join("/").replace(/\/\/+/g,"/"),vC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),EC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,TC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function AC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var $S=["POST","PUT","PATCH","DELETE"];new Set($S);var wC=["GET",...$S];new Set(wC);var Kl=R.createContext(null);Kl.displayName="DataRouter";var kf=R.createContext(null);kf.displayName="DataRouterState";var GS=R.createContext({isTransitioning:!1});GS.displayName="ViewTransition";var CC=R.createContext(new Map);CC.displayName="Fetchers";var NC=R.createContext(null);NC.displayName="Await";var Nr=R.createContext(null);Nr.displayName="Navigation";var Ia=R.createContext(null);Ia.displayName="Location";var Or=R.createContext({outlet:null,matches:[],isDataRoute:!1});Or.displayName="Route";var Qm=R.createContext(null);Qm.displayName="RouteError";function OC(n,{relative:e}={}){tt(qa(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=R.useContext(Nr),{hash:s,pathname:o,search:u}=Va(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:ri([t,o])),r.createHref({pathname:c,search:u,hash:s})}function qa(){return R.useContext(Ia)!=null}function oi(){return tt(qa(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Ia).location}var YS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function KS(n){R.useContext(Nr).static||R.useLayoutEffect(n)}function Xn(){let{isDataRoute:n}=R.useContext(Or);return n?IC():kC()}function kC(){tt(qa(),"useNavigate() may be used only in the context of a <Router> component.");let n=R.useContext(Kl),{basename:e,navigator:t}=R.useContext(Nr),{matches:r}=R.useContext(Or),{pathname:s}=oi(),o=JSON.stringify(VS(r)),u=R.useRef(!1);return KS(()=>{u.current=!0}),R.useCallback((d,h={})=>{if(Tr(u.current,YS),!u.current)return;if(typeof d=="number"){t.go(d);return}let m=FS(d,JSON.parse(o),s,h.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:ri([e,m.pathname])),(h.replace?t.replace:t.push)(m,h.state,h)},[e,t,o,s,n])}R.createContext(null);function Mf(){let{matches:n}=R.useContext(Or),e=n[n.length-1];return e?e.params:{}}function Va(n,{relative:e}={}){let{matches:t}=R.useContext(Or),{pathname:r}=oi(),s=JSON.stringify(VS(t));return R.useMemo(()=>FS(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function MC(n,e){return XS(n,e)}function XS(n,e,t,r){var C;tt(qa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=R.useContext(Nr),{matches:o}=R.useContext(Or),u=o[o.length-1],c=u?u.params:{},d=u?u.pathname:"/",h=u?u.pathnameBase:"/",m=u&&u.route;{let O=m&&m.path||"";JS(d,!m||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let y=oi(),b;if(e){let O=typeof e=="string"?Yl(e):e;tt(h==="/"||((C=O.pathname)==null?void 0:C.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${O.pathname}" was given in the \`location\` prop.`),b=O}else b=y;let S=b.pathname||"/",x=S;if(h!=="/"){let O=h.replace(/^\//,"").split("/");x="/"+S.replace(/^\//,"").split("/").slice(O.length).join("/")}let v=PS(n,{pathname:x});Tr(m||v!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Tr(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=LC(v&&v.map(O=>Object.assign({},O,{params:Object.assign({},c,O.params),pathname:ri([h,s.encodeLocation?s.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?h:ri([h,s.encodeLocation?s.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),o,t,r);return e&&A?R.createElement(Ia.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},A):A}function RC(){let n=PC(),e=AC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=R.createElement(R.Fragment,null,R.createElement("p",null,"💿 Hey developer 👋"),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:o},"ErrorBoundary")," or"," ",R.createElement("code",{style:o},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),t?R.createElement("pre",{style:s},t):null,u)}var DC=R.createElement(RC,null),jC=class extends R.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?R.createElement(Or.Provider,{value:this.props.routeContext},R.createElement(Qm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _C({routeContext:n,match:e,children:t}){let r=R.useContext(Kl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(Or.Provider,{value:n},t)}function LC(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t==null?void 0:t.errors;if(o!=null){let d=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);tt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let u=!1,c=-1;if(t)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:m,errors:y}=t,b=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!y||y[h.route.id]===void 0);if(h.route.lazy||b){u=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,h,m)=>{let y,b=!1,S=null,x=null;t&&(y=o&&h.route.id?o[h.route.id]:void 0,S=h.route.errorElement||DC,u&&(c<0&&m===0?(JS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,x=null):c===m&&(b=!0,x=h.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,m+1)),A=()=>{let C;return y?C=S:b?C=x:h.route.Component?C=R.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=d,R.createElement(_C,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:t!=null},children:C})};return t&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?R.createElement(jC,{location:t.location,revalidation:t.revalidation,component:S,error:y,children:A(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):A()},null)}function Wm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zC(n){let e=R.useContext(Kl);return tt(e,Wm(n)),e}function BC(n){let e=R.useContext(kf);return tt(e,Wm(n)),e}function HC(n){let e=R.useContext(Or);return tt(e,Wm(n)),e}function Zm(n){let e=HC(n),t=e.matches[e.matches.length-1];return tt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function UC(){return Zm("useRouteId")}function PC(){var r;let n=R.useContext(Qm),e=BC("useRouteError"),t=Zm("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function IC(){let{router:n}=zC("useNavigate"),e=Zm("useNavigate"),t=R.useRef(!1);return KS(()=>{t.current=!0}),R.useCallback(async(s,o={})=>{Tr(t.current,YS),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var j1={};function JS(n,e,t){!e&&!j1[n]&&(j1[n]=!0,Tr(!1,t))}R.memo(qC);function qC({routes:n,future:e,state:t}){return XS(n,void 0,t,e)}function zt(n){tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function VC({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:o=!1}){tt(!qa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),c=R.useMemo(()=>({basename:u,navigator:s,static:o,future:{}}),[u,s,o]);typeof t=="string"&&(t=Yl(t));let{pathname:d="/",search:h="",hash:m="",state:y=null,key:b="default"}=t,S=R.useMemo(()=>{let x=li(d,u);return x==null?null:{location:{pathname:x,search:h,hash:m,state:y,key:b},navigationType:r}},[u,d,h,m,y,b,r]);return Tr(S!=null,`<Router basename="${u}"> is not able to match the URL "${d}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:R.createElement(Nr.Provider,{value:c},R.createElement(Ia.Provider,{children:e,value:S}))}function FC({children:n,location:e}){return MC(um(n),e)}function um(n,e=[]){let t=[];return R.Children.forEach(n,(r,s)=>{if(!R.isValidElement(r))return;let o=[...e,s];if(r.type===R.Fragment){t.push.apply(t,um(r.props.children,o));return}tt(r.type===zt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=um(r.props.children,o)),t.push(u)}),t}var Sc="get",vc="application/x-www-form-urlencoded";function Rf(n){return n!=null&&typeof n.tagName=="string"}function $C(n){return Rf(n)&&n.tagName.toLowerCase()==="button"}function GC(n){return Rf(n)&&n.tagName.toLowerCase()==="form"}function YC(n){return Rf(n)&&n.tagName.toLowerCase()==="input"}function KC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function XC(n,e){return n.button===0&&(!e||e==="_self")&&!KC(n)}var oc=null;function JC(){if(oc===null)try{new FormData(document.createElement("form"),0),oc=!1}catch{oc=!0}return oc}var QC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mp(n){return n!=null&&!QC.has(n)?(Tr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vc}"`),null):n}function WC(n,e){let t,r,s,o,u;if(GC(n)){let c=n.getAttribute("action");r=c?li(c,e):null,t=n.getAttribute("method")||Sc,s=mp(n.getAttribute("enctype"))||vc,o=new FormData(n)}else if($C(n)||YC(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||c.getAttribute("action");if(r=d?li(d,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Sc,s=mp(n.getAttribute("formenctype"))||mp(c.getAttribute("enctype"))||vc,o=new FormData(c,n),!JC()){let{name:h,type:m,value:y}=n;if(m==="image"){let b=h?`${h}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else h&&o.append(h,y)}}else{if(Rf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Sc,r=null,s=vc,u=n}return o&&s==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:o,body:u}}function eg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function ZC(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function tN(n,e,t){let r=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await ZC(o,t);return u.links?u.links():[]}return[]}));return sN(r.flat(1).filter(eN).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function _1(n,e,t,r,s,o){let u=(d,h)=>t[h]?d.route.id!==t[h].route.id:!0,c=(d,h)=>{var m;return t[h].pathname!==d.pathname||((m=t[h].route.path)==null?void 0:m.endsWith("*"))&&t[h].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,h)=>u(d,h)||c(d,h)):o==="data"?e.filter((d,h)=>{var y;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(u(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function nN(n,e,{includeHydrateFallback:t}={}){return rN(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function rN(n){return[...new Set(n)]}function iN(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function sN(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let o=JSON.stringify(iN(s));return t.has(o)||(t.add(o),r.push({key:o,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var lN=new Set([100,101,204,205]);function oN(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&li(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function QS(){let n=R.useContext(Kl);return eg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function aN(){let n=R.useContext(kf);return eg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var tg=R.createContext(void 0);tg.displayName="FrameworkContext";function WS(){let n=R.useContext(tg);return eg(n,"You must render this element inside a <HydratedRouter> element"),n}function uN(n,e){let t=R.useContext(tg),[r,s]=R.useState(!1),[o,u]=R.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:y}=e,b=R.useRef(null);R.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let v=C=>{C.forEach(O=>{u(O.isIntersecting)})},A=new IntersectionObserver(v,{threshold:.5});return b.current&&A.observe(b.current),()=>{A.disconnect()}}},[n]),R.useEffect(()=>{if(r){let v=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(v)}}},[r]);let S=()=>{s(!0)},x=()=>{s(!1),u(!1)};return t?n!=="intent"?[o,b,{}]:[o,b,{onFocus:ra(c,S),onBlur:ra(d,x),onMouseEnter:ra(h,S),onMouseLeave:ra(m,x),onTouchStart:ra(y,S)}]:[!1,b,{}]}function ra(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function cN({page:n,...e}){let{router:t}=QS(),r=R.useMemo(()=>PS(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?R.createElement(dN,{page:n,matches:r,...e}):null}function fN(n){let{manifest:e,routeModules:t}=WS(),[r,s]=R.useState([]);return R.useEffect(()=>{let o=!1;return tN(n,e,t).then(u=>{o||s(u)}),()=>{o=!0}},[n,e,t]),r}function dN({page:n,matches:e,...t}){let r=oi(),{manifest:s,routeModules:o}=WS(),{basename:u}=QS(),{loaderData:c,matches:d}=aN(),h=R.useMemo(()=>_1(n,e,d,s,r,"data"),[n,e,d,s,r]),m=R.useMemo(()=>_1(n,e,d,s,r,"assets"),[n,e,d,s,r]),y=R.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let x=new Set,v=!1;if(e.forEach(C=>{var _;let O=s.routes[C.route.id];!O||!O.hasLoader||(!h.some(q=>q.route.id===C.route.id)&&C.route.id in c&&((_=o[C.route.id])!=null&&_.shouldRevalidate)||O.hasClientLoader?v=!0:x.add(C.route.id))}),x.size===0)return[];let A=oN(n,u);return v&&x.size>0&&A.searchParams.set("_routes",e.filter(C=>x.has(C.route.id)).map(C=>C.route.id).join(",")),[A.pathname+A.search]},[u,c,r,s,h,e,n,o]),b=R.useMemo(()=>nN(m,s),[m,s]),S=fN(m);return R.createElement(R.Fragment,null,y.map(x=>R.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),b.map(x=>R.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),S.map(({key:x,link:v})=>R.createElement("link",{key:x,...v})))}function hN(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ZS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZS&&(window.__reactRouterVersion="7.6.1")}catch{}function pN({basename:n,children:e,window:t}){let r=R.useRef();r.current==null&&(r.current=tC({window:t,v5Compat:!0}));let s=r.current,[o,u]=R.useState({action:s.action,location:s.location}),c=R.useCallback(d=>{R.startTransition(()=>u(d))},[u]);return R.useLayoutEffect(()=>s.listen(c),[s,c]),R.createElement(VC,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s})}var ev=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ke=R.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:o,replace:u,state:c,target:d,to:h,preventScrollReset:m,viewTransition:y,...b},S){let{basename:x}=R.useContext(Nr),v=typeof h=="string"&&ev.test(h),A,C=!1;if(typeof h=="string"&&v&&(A=h,ZS))try{let Z=new URL(window.location.href),Me=h.startsWith("//")?new URL(Z.protocol+h):new URL(h),ve=li(Me.pathname,x);Me.origin===Z.origin&&ve!=null?h=ve+Me.search+Me.hash:C=!0}catch{Tr(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=OC(h,{relative:s}),[_,q,P]=uN(r,b),W=bN(h,{replace:u,state:c,target:d,preventScrollReset:m,relative:s,viewTransition:y});function ee(Z){e&&e(Z),Z.defaultPrevented||W(Z)}let oe=R.createElement("a",{...b,...P,href:A||O,onClick:C||o?e:ee,ref:hN(S,q),target:d,"data-discover":!v&&t==="render"?"true":void 0});return _&&!v?R.createElement(R.Fragment,null,oe,R.createElement(cN,{page:O})):oe});ke.displayName="Link";var mN=R.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:o,to:u,viewTransition:c,children:d,...h},m){let y=Va(u,{relative:h.relative}),b=oi(),S=R.useContext(kf),{navigator:x,basename:v}=R.useContext(Nr),A=S!=null&&TN(y)&&c===!0,C=x.encodeLocation?x.encodeLocation(y).pathname:y.pathname,O=b.pathname,_=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(O=O.toLowerCase(),_=_?_.toLowerCase():null,C=C.toLowerCase()),_&&v&&(_=li(_,v)||_);const q=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let P=O===C||!s&&O.startsWith(C)&&O.charAt(q)==="/",W=_!=null&&(_===C||!s&&_.startsWith(C)&&_.charAt(C.length)==="/"),ee={isActive:P,isPending:W,isTransitioning:A},oe=P?e:void 0,Z;typeof r=="function"?Z=r(ee):Z=[r,P?"active":null,W?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let Me=typeof o=="function"?o(ee):o;return R.createElement(ke,{...h,"aria-current":oe,className:Z,ref:m,style:Me,to:u,viewTransition:c},typeof d=="function"?d(ee):d)});mN.displayName="NavLink";var gN=R.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:o,method:u=Sc,action:c,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:y,...b},S)=>{let x=vN(),v=EN(c,{relative:h}),A=u.toLowerCase()==="get"?"get":"post",C=typeof c=="string"&&ev.test(c),O=_=>{if(d&&d(_),_.defaultPrevented)return;_.preventDefault();let q=_.nativeEvent.submitter,P=(q==null?void 0:q.getAttribute("formmethod"))||u;x(q||_.currentTarget,{fetcherKey:e,method:P,navigate:t,replace:s,state:o,relative:h,preventScrollReset:m,viewTransition:y})};return R.createElement("form",{ref:S,method:A,action:v,onSubmit:r?d:O,...b,"data-discover":!C&&n==="render"?"true":void 0})});gN.displayName="Form";function yN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tv(n){let e=R.useContext(Kl);return tt(e,yN(n)),e}function bN(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:o,viewTransition:u}={}){let c=Xn(),d=oi(),h=Va(n,{relative:o});return R.useCallback(m=>{if(XC(m,e)){m.preventDefault();let y=t!==void 0?t:Na(d)===Na(h);c(n,{replace:y,state:r,preventScrollReset:s,relative:o,viewTransition:u})}},[d,c,h,t,r,e,n,s,o,u])}var xN=0,SN=()=>`__${String(++xN)}__`;function vN(){let{router:n}=tv("useSubmit"),{basename:e}=R.useContext(Nr),t=UC();return R.useCallback(async(r,s={})=>{let{action:o,method:u,encType:c,formData:d,body:h}=WC(r,e);if(s.navigate===!1){let m=s.fetcherKey||SN();await n.fetch(m,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||u,formEncType:s.encType||c,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||u,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function EN(n,{relative:e}={}){let{basename:t}=R.useContext(Nr),r=R.useContext(Or);tt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...Va(n||".",{relative:e})},u=oi();if(n==null){o.search=u.search;let c=new URLSearchParams(o.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(y=>y).forEach(y=>c.append("index",y));let m=c.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:ri([t,o.pathname])),Na(o)}function TN(n,e={}){let t=R.useContext(GS);tt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=tv("useViewTransitionState"),s=Va(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=li(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=li(t.nextLocation.pathname,r)||t.nextLocation.pathname;return jc(s.pathname,u)!=null||jc(s.pathname,o)!=null}[...lN];var AN=US();const wN=Qi(AN),nv=R.createContext();function CN({children:n}){const[e,t]=R.useState(null),[r,s]=R.useState(null);R.useEffect(()=>{const c=localStorage.getItem("user"),d=localStorage.getItem("token");c&&d&&(t(JSON.parse(c)),s(d))},[]);const o=(c,d)=>{localStorage.setItem("user",JSON.stringify(c)),localStorage.setItem("token",d),t(c),s(d)},u=()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),t(null),s(null)};return T.jsx(nv.Provider,{value:{user:e,token:r,login:o,logout:u},children:n})}const or=()=>R.useContext(nv);function NN(){const{user:n,logout:e}=or(),[t,r]=R.useState(!1),[s,o]=R.useState(!1),u=Xn(),c=["Teologji","Filozofi","Kulturë","Politikë","Histori"];return T.jsxs("header",{className:"border-b border-gray-200 shadow-sm bg-white w-full",children:[T.jsxs("div",{className:"max-w-6xl mx-auto h-20 flex items-center justify-between px-4 relative",children:[T.jsx("button",{onClick:()=>o(!s),className:"md:hidden text-2xl absolute left-4",children:"☰"}),T.jsx("div",{className:"flex-1 flex justify-center min-w-0",children:T.jsx(ke,{to:"/",className:"flex items-center justify-center",children:T.jsx("img",{src:"/Logo-horizontal.png",alt:"Udhëkryqi Logo",className:"h-10 md:h-16 w-auto max-w-[100%] sm:max-w-[100%] md:max-w-full transition-all duration-200"})})}),T.jsx("div",{style:{fontFamily:"Georgia, serif"},className:`absolute right-4 pr-2 sm:pr-4 flex flex-wrap justify-end ${n?"flex-row items-center gap-2":"flex-col items-center gap-1 sm:flex-row sm:gap-2"}`,children:n?T.jsxs("div",{className:"relative",children:[T.jsx("button",{onClick:()=>r(!t),className:"w-9 h-9 rounded-full bg-gray-800 text-white",children:n.name[0].toUpperCase()}),t&&T.jsxs("div",{className:"absolute right-0 mt-2 bg-white border rounded shadow-lg w-40 z-10 divide-y divide-gray-200",children:[n.role==="admin"?T.jsxs(T.Fragment,{children:[T.jsx(ke,{to:"/admin",className:"block px-4 py-2 hover:bg-gray-100",onClick:()=>r(!1),children:"Paneli"}),T.jsx(ke,{to:"/admin/new-post",className:"block px-4 py-2 hover:bg-gray-100",onClick:()=>r(!1),children:"Posto Artikull"})]}):T.jsx(ke,{to:"/dashboard",className:"block px-4 py-2 hover:bg-gray-100",onClick:()=>r(!1),children:"Paneli"}),T.jsx("button",{onClick:()=>{e(),u("/"),r(!1)},className:"block w-full text-left px-4 py-2 hover:bg-gray-100",children:"Dil"})]})]}):T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"relative flex sm:hidden",children:[T.jsx("button",{onClick:()=>r(!t),className:"w-10 h-10 flex items-center justify-center border border-gray-400 rounded-full text-sm font-semibold hover:bg-gray-100",children:"Hyr"}),t&&T.jsxs("div",{className:"absolute right-0 mt-7 bg-white border rounded shadow-lg w-36 z-10 divide-y divide-gray-200",children:[T.jsx(ke,{to:"/login",className:"block px-4 py-2 hover:bg-gray-100",onClick:()=>r(!1),children:"Hyr"}),T.jsx(ke,{to:"/register",className:"block px-4 py-2 hover:bg-gray-100",onClick:()=>r(!1),children:"Regjistrohu"})]})]}),T.jsxs("div",{className:"hidden sm:flex gap-2",children:[T.jsx(ke,{to:"/login",className:"w-24 text-center py-1 border border-gray-400 rounded text-sm hover:bg-gray-100",children:"Hyr"}),T.jsx(ke,{to:"/register",className:"w-24 text-center py-1 bg-black text-white rounded text-sm hover:bg-gray-800",children:"Regjistrohu"})]})]})})]}),T.jsxs("nav",{style:{fontFamily:"Georgia, serif"},className:"hidden md:flex max-w-6xl mx-auto justify-center gap-5 px-4 py-2 text-sm font-bold",children:[T.jsx(ke,{to:"/",children:"Home"}),c.map(d=>T.jsx(ke,{to:`/category/${encodeURIComponent(d.toLowerCase())}`,children:d},d)),T.jsx(ke,{to:"/rreth-nesh",children:"Rreth Nesh"})]}),s&&T.jsxs("nav",{style:{fontFamily:"Georgia, serif"},className:"md:hidden max-w-6xl mx-auto px-4 pb-4 pt-2 divide-y divide-gray-200 text-sm font-medium bg-white border-t shadow-sm",children:[T.jsx(ke,{to:"/",className:"block py-2",onClick:()=>o(!1),children:"Home"}),c.map(d=>T.jsx(ke,{to:`/category/${encodeURIComponent(d.toLowerCase())}`,className:"block py-2",onClick:()=>o(!1),children:d},d)),T.jsx(ke,{to:"/rreth-nesh",className:"block py-2",onClick:()=>o(!1),children:"Rreth Nesh"})]})]})}function rv(n,e){return function(){return n.apply(e,arguments)}}const{toString:ON}=Object.prototype,{getPrototypeOf:ng}=Object,{iterator:Df,toStringTag:iv}=Symbol,jf=(n=>e=>{const t=ON.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ar=n=>(n=n.toLowerCase(),e=>jf(e)===n),_f=n=>e=>typeof e===n,{isArray:Xl}=Array,Oa=_f("undefined");function kN(n){return n!==null&&!Oa(n)&&n.constructor!==null&&!Oa(n.constructor)&&mn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const sv=ar("ArrayBuffer");function MN(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&sv(n.buffer),e}const RN=_f("string"),mn=_f("function"),lv=_f("number"),Lf=n=>n!==null&&typeof n=="object",DN=n=>n===!0||n===!1,Ec=n=>{if(jf(n)!=="object")return!1;const e=ng(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(iv in n)&&!(Df in n)},jN=ar("Date"),_N=ar("File"),LN=ar("Blob"),zN=ar("FileList"),BN=n=>Lf(n)&&mn(n.pipe),HN=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||mn(n.append)&&((e=jf(n))==="formdata"||e==="object"&&mn(n.toString)&&n.toString()==="[object FormData]"))},UN=ar("URLSearchParams"),[PN,IN,qN,VN]=["ReadableStream","Request","Response","Headers"].map(ar),FN=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fa(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,s;if(typeof n!="object"&&(n=[n]),Xl(n))for(r=0,s=n.length;r<s;r++)e.call(null,n[r],r,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),u=o.length;let c;for(r=0;r<u;r++)c=o[r],e.call(null,n[c],c,n)}}function ov(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,s;for(;r-- >0;)if(s=t[r],e===s.toLowerCase())return s;return null}const Ns=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,av=n=>!Oa(n)&&n!==Ns;function cm(){const{caseless:n}=av(this)&&this||{},e={},t=(r,s)=>{const o=n&&ov(e,s)||s;Ec(e[o])&&Ec(r)?e[o]=cm(e[o],r):Ec(r)?e[o]=cm({},r):Xl(r)?e[o]=r.slice():e[o]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Fa(arguments[r],t);return e}const $N=(n,e,t,{allOwnKeys:r}={})=>(Fa(e,(s,o)=>{t&&mn(s)?n[o]=rv(s,t):n[o]=s},{allOwnKeys:r}),n),GN=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),YN=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},KN=(n,e,t,r)=>{let s,o,u;const c={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),o=s.length;o-- >0;)u=s[o],(!r||r(u,n,e))&&!c[u]&&(e[u]=n[u],c[u]=!0);n=t!==!1&&ng(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},XN=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},JN=n=>{if(!n)return null;if(Xl(n))return n;let e=n.length;if(!lv(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},QN=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&ng(Uint8Array)),WN=(n,e)=>{const r=(n&&n[Df]).call(n);let s;for(;(s=r.next())&&!s.done;){const o=s.value;e.call(n,o[0],o[1])}},ZN=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},eO=ar("HTMLFormElement"),tO=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,s){return r.toUpperCase()+s}),L1=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),nO=ar("RegExp"),uv=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Fa(t,(s,o)=>{let u;(u=e(s,o,n))!==!1&&(r[o]=u||s)}),Object.defineProperties(n,r)},rO=n=>{uv(n,(e,t)=>{if(mn(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(mn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},iO=(n,e)=>{const t={},r=s=>{s.forEach(o=>{t[o]=!0})};return Xl(n)?r(n):r(String(n).split(e)),t},sO=()=>{},lO=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function oO(n){return!!(n&&mn(n.append)&&n[iv]==="FormData"&&n[Df])}const aO=n=>{const e=new Array(10),t=(r,s)=>{if(Lf(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const o=Xl(r)?[]:{};return Fa(r,(u,c)=>{const d=t(u,s+1);!Oa(d)&&(o[c]=d)}),e[s]=void 0,o}}return r};return t(n,0)},uO=ar("AsyncFunction"),cO=n=>n&&(Lf(n)||mn(n))&&mn(n.then)&&mn(n.catch),cv=((n,e)=>n?setImmediate:e?((t,r)=>(Ns.addEventListener("message",({source:s,data:o})=>{s===Ns&&o===t&&r.length&&r.shift()()},!1),s=>{r.push(s),Ns.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",mn(Ns.postMessage)),fO=typeof queueMicrotask<"u"?queueMicrotask.bind(Ns):typeof process<"u"&&process.nextTick||cv,dO=n=>n!=null&&mn(n[Df]),I={isArray:Xl,isArrayBuffer:sv,isBuffer:kN,isFormData:HN,isArrayBufferView:MN,isString:RN,isNumber:lv,isBoolean:DN,isObject:Lf,isPlainObject:Ec,isReadableStream:PN,isRequest:IN,isResponse:qN,isHeaders:VN,isUndefined:Oa,isDate:jN,isFile:_N,isBlob:LN,isRegExp:nO,isFunction:mn,isStream:BN,isURLSearchParams:UN,isTypedArray:QN,isFileList:zN,forEach:Fa,merge:cm,extend:$N,trim:FN,stripBOM:GN,inherits:YN,toFlatObject:KN,kindOf:jf,kindOfTest:ar,endsWith:XN,toArray:JN,forEachEntry:WN,matchAll:ZN,isHTMLForm:eO,hasOwnProperty:L1,hasOwnProp:L1,reduceDescriptors:uv,freezeMethods:rO,toObjectSet:iO,toCamelCase:tO,noop:sO,toFiniteNumber:lO,findKey:ov,global:Ns,isContextDefined:av,isSpecCompliantForm:oO,toJSONObject:aO,isAsyncFn:uO,isThenable:cO,setImmediate:cv,asap:fO,isIterable:dO};function Te(n,e,t,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}I.inherits(Te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.status}}});const fv=Te.prototype,dv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{dv[n]={value:n}});Object.defineProperties(Te,dv);Object.defineProperty(fv,"isAxiosError",{value:!0});Te.from=(n,e,t,r,s,o)=>{const u=Object.create(fv);return I.toFlatObject(n,u,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),Te.call(u,n.message,e,t,r,s),u.cause=n,u.name=n.name,o&&Object.assign(u,o),u};const hO=null;function fm(n){return I.isPlainObject(n)||I.isArray(n)}function hv(n){return I.endsWith(n,"[]")?n.slice(0,-2):n}function z1(n,e,t){return n?n.concat(e).map(function(s,o){return s=hv(s),!t&&o?"["+s+"]":s}).join(t?".":""):e}function pO(n){return I.isArray(n)&&!n.some(fm)}const mO=I.toFlatObject(I,{},null,function(e){return/^is[A-Z]/.test(e)});function zf(n,e,t){if(!I.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=I.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,A){return!I.isUndefined(A[v])});const r=t.metaTokens,s=t.visitor||m,o=t.dots,u=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(e);if(!I.isFunction(s))throw new TypeError("visitor must be a function");function h(x){if(x===null)return"";if(I.isDate(x))return x.toISOString();if(!d&&I.isBlob(x))throw new Te("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(x)||I.isTypedArray(x)?d&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function m(x,v,A){let C=x;if(x&&!A&&typeof x=="object"){if(I.endsWith(v,"{}"))v=r?v:v.slice(0,-2),x=JSON.stringify(x);else if(I.isArray(x)&&pO(x)||(I.isFileList(x)||I.endsWith(v,"[]"))&&(C=I.toArray(x)))return v=hv(v),C.forEach(function(_,q){!(I.isUndefined(_)||_===null)&&e.append(u===!0?z1([v],q,o):u===null?v:v+"[]",h(_))}),!1}return fm(x)?!0:(e.append(z1(A,v,o),h(x)),!1)}const y=[],b=Object.assign(mO,{defaultVisitor:m,convertValue:h,isVisitable:fm});function S(x,v){if(!I.isUndefined(x)){if(y.indexOf(x)!==-1)throw Error("Circular reference detected in "+v.join("."));y.push(x),I.forEach(x,function(C,O){(!(I.isUndefined(C)||C===null)&&s.call(e,C,I.isString(O)?O.trim():O,v,b))===!0&&S(C,v?v.concat(O):[O])}),y.pop()}}if(!I.isObject(n))throw new TypeError("data must be an object");return S(n),e}function B1(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function rg(n,e){this._pairs=[],n&&zf(n,this,e)}const pv=rg.prototype;pv.append=function(e,t){this._pairs.push([e,t])};pv.toString=function(e){const t=e?function(r){return e.call(this,r,B1)}:B1;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function gO(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function mv(n,e,t){if(!e)return n;const r=t&&t.encode||gO;I.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let o;if(s?o=s(e,t):o=I.isURLSearchParams(e)?e.toString():new rg(e,t).toString(r),o){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class H1{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){I.forEach(this.handlers,function(r){r!==null&&e(r)})}}const gv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},yO=typeof URLSearchParams<"u"?URLSearchParams:rg,bO=typeof FormData<"u"?FormData:null,xO=typeof Blob<"u"?Blob:null,SO={isBrowser:!0,classes:{URLSearchParams:yO,FormData:bO,Blob:xO},protocols:["http","https","file","blob","url","data"]},ig=typeof window<"u"&&typeof document<"u",dm=typeof navigator=="object"&&navigator||void 0,vO=ig&&(!dm||["ReactNative","NativeScript","NS"].indexOf(dm.product)<0),EO=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",TO=ig&&window.location.href||"http://localhost",AO=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ig,hasStandardBrowserEnv:vO,hasStandardBrowserWebWorkerEnv:EO,navigator:dm,origin:TO},Symbol.toStringTag,{value:"Module"})),Kt={...AO,...SO};function wO(n,e){return zf(n,new Kt.classes.URLSearchParams,Object.assign({visitor:function(t,r,s,o){return Kt.isNode&&I.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function CO(n){return I.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function NO(n){const e={},t=Object.keys(n);let r;const s=t.length;let o;for(r=0;r<s;r++)o=t[r],e[o]=n[o];return e}function yv(n){function e(t,r,s,o){let u=t[o++];if(u==="__proto__")return!0;const c=Number.isFinite(+u),d=o>=t.length;return u=!u&&I.isArray(s)?s.length:u,d?(I.hasOwnProp(s,u)?s[u]=[s[u],r]:s[u]=r,!c):((!s[u]||!I.isObject(s[u]))&&(s[u]=[]),e(t,r,s[u],o)&&I.isArray(s[u])&&(s[u]=NO(s[u])),!c)}if(I.isFormData(n)&&I.isFunction(n.entries)){const t={};return I.forEachEntry(n,(r,s)=>{e(CO(r),s,t,0)}),t}return null}function OO(n,e,t){if(I.isString(n))try{return(e||JSON.parse)(n),I.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const $a={transitional:gv,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",s=r.indexOf("application/json")>-1,o=I.isObject(e);if(o&&I.isHTMLForm(e)&&(e=new FormData(e)),I.isFormData(e))return s?JSON.stringify(yv(e)):e;if(I.isArrayBuffer(e)||I.isBuffer(e)||I.isStream(e)||I.isFile(e)||I.isBlob(e)||I.isReadableStream(e))return e;if(I.isArrayBufferView(e))return e.buffer;if(I.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return wO(e,this.formSerializer).toString();if((c=I.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return zf(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||s?(t.setContentType("application/json",!1),OO(e)):e}],transformResponse:[function(e){const t=this.transitional||$a.transitional,r=t&&t.forcedJSONParsing,s=this.responseType==="json";if(I.isResponse(e)||I.isReadableStream(e))return e;if(e&&I.isString(e)&&(r&&!this.responseType||s)){const u=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(c){if(u)throw c.name==="SyntaxError"?Te.from(c,Te.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kt.classes.FormData,Blob:Kt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};I.forEach(["delete","get","head","post","put","patch"],n=>{$a.headers[n]={}});const kO=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),MO=n=>{const e={};let t,r,s;return n&&n.split(`
`).forEach(function(u){s=u.indexOf(":"),t=u.substring(0,s).trim().toLowerCase(),r=u.substring(s+1).trim(),!(!t||e[t]&&kO[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},U1=Symbol("internals");function ia(n){return n&&String(n).trim().toLowerCase()}function Tc(n){return n===!1||n==null?n:I.isArray(n)?n.map(Tc):String(n)}function RO(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const DO=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function gp(n,e,t,r,s){if(I.isFunction(r))return r.call(this,e,t);if(s&&(e=t),!!I.isString(e)){if(I.isString(r))return e.indexOf(r)!==-1;if(I.isRegExp(r))return r.test(e)}}function jO(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function _O(n,e){const t=I.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(s,o,u){return this[r].call(this,e,s,o,u)},configurable:!0})})}let gn=class{constructor(e){e&&this.set(e)}set(e,t,r){const s=this;function o(c,d,h){const m=ia(d);if(!m)throw new Error("header name must be a non-empty string");const y=I.findKey(s,m);(!y||s[y]===void 0||h===!0||h===void 0&&s[y]!==!1)&&(s[y||d]=Tc(c))}const u=(c,d)=>I.forEach(c,(h,m)=>o(h,m,d));if(I.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(I.isString(e)&&(e=e.trim())&&!DO(e))u(MO(e),t);else if(I.isObject(e)&&I.isIterable(e)){let c={},d,h;for(const m of e){if(!I.isArray(m))throw TypeError("Object iterator must return a key-value pair");c[h=m[0]]=(d=c[h])?I.isArray(d)?[...d,m[1]]:[d,m[1]]:m[1]}u(c,t)}else e!=null&&o(t,e,r);return this}get(e,t){if(e=ia(e),e){const r=I.findKey(this,e);if(r){const s=this[r];if(!t)return s;if(t===!0)return RO(s);if(I.isFunction(t))return t.call(this,s,r);if(I.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ia(e),e){const r=I.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||gp(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let s=!1;function o(u){if(u=ia(u),u){const c=I.findKey(r,u);c&&(!t||gp(r,r[c],c,t))&&(delete r[c],s=!0)}}return I.isArray(e)?e.forEach(o):o(e),s}clear(e){const t=Object.keys(this);let r=t.length,s=!1;for(;r--;){const o=t[r];(!e||gp(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const t=this,r={};return I.forEach(this,(s,o)=>{const u=I.findKey(r,o);if(u){t[u]=Tc(s),delete t[o];return}const c=e?jO(o):String(o).trim();c!==o&&delete t[o],t[c]=Tc(s),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return I.forEach(this,(r,s)=>{r!=null&&r!==!1&&(t[s]=e&&I.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[U1]=this[U1]={accessors:{}}).accessors,s=this.prototype;function o(u){const c=ia(u);r[c]||(_O(s,u),r[c]=!0)}return I.isArray(e)?e.forEach(o):o(e),this}};gn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);I.reduceDescriptors(gn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});I.freezeMethods(gn);function yp(n,e){const t=this||$a,r=e||t,s=gn.from(r.headers);let o=r.data;return I.forEach(n,function(c){o=c.call(t,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function bv(n){return!!(n&&n.__CANCEL__)}function Jl(n,e,t){Te.call(this,n??"canceled",Te.ERR_CANCELED,e,t),this.name="CanceledError"}I.inherits(Jl,Te,{__CANCEL__:!0});function xv(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Te("Request failed with status code "+t.status,[Te.ERR_BAD_REQUEST,Te.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function LO(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function zO(n,e){n=n||10;const t=new Array(n),r=new Array(n);let s=0,o=0,u;return e=e!==void 0?e:1e3,function(d){const h=Date.now(),m=r[o];u||(u=h),t[s]=d,r[s]=h;let y=o,b=0;for(;y!==s;)b+=t[y++],y=y%n;if(s=(s+1)%n,s===o&&(o=(o+1)%n),h-u<e)return;const S=m&&h-m;return S?Math.round(b*1e3/S):void 0}}function BO(n,e){let t=0,r=1e3/e,s,o;const u=(h,m=Date.now())=>{t=m,s=null,o&&(clearTimeout(o),o=null),n.apply(null,h)};return[(...h)=>{const m=Date.now(),y=m-t;y>=r?u(h,m):(s=h,o||(o=setTimeout(()=>{o=null,u(s)},r-y)))},()=>s&&u(s)]}const _c=(n,e,t=3)=>{let r=0;const s=zO(50,250);return BO(o=>{const u=o.loaded,c=o.lengthComputable?o.total:void 0,d=u-r,h=s(d),m=u<=c;r=u;const y={loaded:u,total:c,progress:c?u/c:void 0,bytes:d,rate:h||void 0,estimated:h&&c&&m?(c-u)/h:void 0,event:o,lengthComputable:c!=null,[e?"download":"upload"]:!0};n(y)},t)},P1=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},I1=n=>(...e)=>I.asap(()=>n(...e)),HO=Kt.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Kt.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Kt.origin),Kt.navigator&&/(msie|trident)/i.test(Kt.navigator.userAgent)):()=>!0,UO=Kt.hasStandardBrowserEnv?{write(n,e,t,r,s,o){const u=[n+"="+encodeURIComponent(e)];I.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),I.isString(r)&&u.push("path="+r),I.isString(s)&&u.push("domain="+s),o===!0&&u.push("secure"),document.cookie=u.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function PO(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function IO(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Sv(n,e,t){let r=!PO(e);return n&&(r||t==!1)?IO(n,e):e}const q1=n=>n instanceof gn?{...n}:n;function Us(n,e){e=e||{};const t={};function r(h,m,y,b){return I.isPlainObject(h)&&I.isPlainObject(m)?I.merge.call({caseless:b},h,m):I.isPlainObject(m)?I.merge({},m):I.isArray(m)?m.slice():m}function s(h,m,y,b){if(I.isUndefined(m)){if(!I.isUndefined(h))return r(void 0,h,y,b)}else return r(h,m,y,b)}function o(h,m){if(!I.isUndefined(m))return r(void 0,m)}function u(h,m){if(I.isUndefined(m)){if(!I.isUndefined(h))return r(void 0,h)}else return r(void 0,m)}function c(h,m,y){if(y in e)return r(h,m);if(y in n)return r(void 0,h)}const d={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:c,headers:(h,m,y)=>s(q1(h),q1(m),y,!0)};return I.forEach(Object.keys(Object.assign({},n,e)),function(m){const y=d[m]||s,b=y(n[m],e[m],m);I.isUndefined(b)&&y!==c||(t[m]=b)}),t}const vv=n=>{const e=Us({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:u,auth:c}=e;e.headers=u=gn.from(u),e.url=mv(Sv(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),c&&u.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(I.isFormData(t)){if(Kt.hasStandardBrowserEnv||Kt.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((d=u.getContentType())!==!1){const[h,...m]=d?d.split(";").map(y=>y.trim()).filter(Boolean):[];u.setContentType([h||"multipart/form-data",...m].join("; "))}}if(Kt.hasStandardBrowserEnv&&(r&&I.isFunction(r)&&(r=r(e)),r||r!==!1&&HO(e.url))){const h=s&&o&&UO.read(o);h&&u.set(s,h)}return e},qO=typeof XMLHttpRequest<"u",VO=qO&&function(n){return new Promise(function(t,r){const s=vv(n);let o=s.data;const u=gn.from(s.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:h}=s,m,y,b,S,x;function v(){S&&S(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(m),s.signal&&s.signal.removeEventListener("abort",m)}let A=new XMLHttpRequest;A.open(s.method.toUpperCase(),s.url,!0),A.timeout=s.timeout;function C(){if(!A)return;const _=gn.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),P={data:!c||c==="text"||c==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:_,config:n,request:A};xv(function(ee){t(ee),v()},function(ee){r(ee),v()},P),A=null}"onloadend"in A?A.onloadend=C:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(C)},A.onabort=function(){A&&(r(new Te("Request aborted",Te.ECONNABORTED,n,A)),A=null)},A.onerror=function(){r(new Te("Network Error",Te.ERR_NETWORK,n,A)),A=null},A.ontimeout=function(){let q=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const P=s.transitional||gv;s.timeoutErrorMessage&&(q=s.timeoutErrorMessage),r(new Te(q,P.clarifyTimeoutError?Te.ETIMEDOUT:Te.ECONNABORTED,n,A)),A=null},o===void 0&&u.setContentType(null),"setRequestHeader"in A&&I.forEach(u.toJSON(),function(q,P){A.setRequestHeader(P,q)}),I.isUndefined(s.withCredentials)||(A.withCredentials=!!s.withCredentials),c&&c!=="json"&&(A.responseType=s.responseType),h&&([b,x]=_c(h,!0),A.addEventListener("progress",b)),d&&A.upload&&([y,S]=_c(d),A.upload.addEventListener("progress",y),A.upload.addEventListener("loadend",S)),(s.cancelToken||s.signal)&&(m=_=>{A&&(r(!_||_.type?new Jl(null,n,A):_),A.abort(),A=null)},s.cancelToken&&s.cancelToken.subscribe(m),s.signal&&(s.signal.aborted?m():s.signal.addEventListener("abort",m)));const O=LO(s.url);if(O&&Kt.protocols.indexOf(O)===-1){r(new Te("Unsupported protocol "+O+":",Te.ERR_BAD_REQUEST,n));return}A.send(o||null)})},FO=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,s;const o=function(h){if(!s){s=!0,c();const m=h instanceof Error?h:this.reason;r.abort(m instanceof Te?m:new Jl(m instanceof Error?m.message:m))}};let u=e&&setTimeout(()=>{u=null,o(new Te(`timeout ${e} of ms exceeded`,Te.ETIMEDOUT))},e);const c=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),n=null)};n.forEach(h=>h.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>I.asap(c),d}},$O=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,s;for(;r<t;)s=r+e,yield n.slice(r,s),r=s},GO=async function*(n,e){for await(const t of YO(n))yield*$O(t,e)},YO=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},V1=(n,e,t,r)=>{const s=GO(n,e);let o=0,u,c=d=>{u||(u=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:h,value:m}=await s.next();if(h){c(),d.close();return}let y=m.byteLength;if(t){let b=o+=y;t(b)}d.enqueue(new Uint8Array(m))}catch(h){throw c(h),h}},cancel(d){return c(d),s.return()}},{highWaterMark:2})},Bf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Ev=Bf&&typeof ReadableStream=="function",KO=Bf&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),Tv=(n,...e)=>{try{return!!n(...e)}catch{return!1}},XO=Ev&&Tv(()=>{let n=!1;const e=new Request(Kt.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),F1=64*1024,hm=Ev&&Tv(()=>I.isReadableStream(new Response("").body)),Lc={stream:hm&&(n=>n.body)};Bf&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Lc[e]&&(Lc[e]=I.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Te(`Response type '${e}' is not supported`,Te.ERR_NOT_SUPPORT,r)})})})(new Response);const JO=async n=>{if(n==null)return 0;if(I.isBlob(n))return n.size;if(I.isSpecCompliantForm(n))return(await new Request(Kt.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(I.isArrayBufferView(n)||I.isArrayBuffer(n))return n.byteLength;if(I.isURLSearchParams(n)&&(n=n+""),I.isString(n))return(await KO(n)).byteLength},QO=async(n,e)=>{const t=I.toFiniteNumber(n.getContentLength());return t??JO(e)},WO=Bf&&(async n=>{let{url:e,method:t,data:r,signal:s,cancelToken:o,timeout:u,onDownloadProgress:c,onUploadProgress:d,responseType:h,headers:m,withCredentials:y="same-origin",fetchOptions:b}=vv(n);h=h?(h+"").toLowerCase():"text";let S=FO([s,o&&o.toAbortSignal()],u),x;const v=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let A;try{if(d&&XO&&t!=="get"&&t!=="head"&&(A=await QO(m,r))!==0){let P=new Request(e,{method:"POST",body:r,duplex:"half"}),W;if(I.isFormData(r)&&(W=P.headers.get("content-type"))&&m.setContentType(W),P.body){const[ee,oe]=P1(A,_c(I1(d)));r=V1(P.body,F1,ee,oe)}}I.isString(y)||(y=y?"include":"omit");const C="credentials"in Request.prototype;x=new Request(e,{...b,signal:S,method:t.toUpperCase(),headers:m.normalize().toJSON(),body:r,duplex:"half",credentials:C?y:void 0});let O=await fetch(x);const _=hm&&(h==="stream"||h==="response");if(hm&&(c||_&&v)){const P={};["status","statusText","headers"].forEach(Z=>{P[Z]=O[Z]});const W=I.toFiniteNumber(O.headers.get("content-length")),[ee,oe]=c&&P1(W,_c(I1(c),!0))||[];O=new Response(V1(O.body,F1,ee,()=>{oe&&oe(),v&&v()}),P)}h=h||"text";let q=await Lc[I.findKey(Lc,h)||"text"](O,n);return!_&&v&&v(),await new Promise((P,W)=>{xv(P,W,{data:q,headers:gn.from(O.headers),status:O.status,statusText:O.statusText,config:n,request:x})})}catch(C){throw v&&v(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new Te("Network Error",Te.ERR_NETWORK,n,x),{cause:C.cause||C}):Te.from(C,C&&C.code,n,x)}}),pm={http:hO,xhr:VO,fetch:WO};I.forEach(pm,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const $1=n=>`- ${n}`,ZO=n=>I.isFunction(n)||n===null||n===!1,Av={getAdapter:n=>{n=I.isArray(n)?n:[n];const{length:e}=n;let t,r;const s={};for(let o=0;o<e;o++){t=n[o];let u;if(r=t,!ZO(t)&&(r=pm[(u=String(t)).toLowerCase()],r===void 0))throw new Te(`Unknown adapter '${u}'`);if(r)break;s[u||"#"+o]=r}if(!r){const o=Object.entries(s).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let u=e?o.length>1?`since :
`+o.map($1).join(`
`):" "+$1(o[0]):"as no adapter specified";throw new Te("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:pm};function bp(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Jl(null,n)}function G1(n){return bp(n),n.headers=gn.from(n.headers),n.data=yp.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Av.getAdapter(n.adapter||$a.adapter)(n).then(function(r){return bp(n),r.data=yp.call(n,n.transformResponse,r),r.headers=gn.from(r.headers),r},function(r){return bv(r)||(bp(n),r&&r.response&&(r.response.data=yp.call(n,n.transformResponse,r.response),r.response.headers=gn.from(r.response.headers))),Promise.reject(r)})}const wv="1.9.0",Hf={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Hf[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const Y1={};Hf.transitional=function(e,t,r){function s(o,u){return"[Axios v"+wv+"] Transitional option '"+o+"'"+u+(r?". "+r:"")}return(o,u,c)=>{if(e===!1)throw new Te(s(u," has been removed"+(t?" in "+t:"")),Te.ERR_DEPRECATED);return t&&!Y1[u]&&(Y1[u]=!0,console.warn(s(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,u,c):!0}};Hf.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function ek(n,e,t){if(typeof n!="object")throw new Te("options must be an object",Te.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let s=r.length;for(;s-- >0;){const o=r[s],u=e[o];if(u){const c=n[o],d=c===void 0||u(c,o,n);if(d!==!0)throw new Te("option "+o+" must be "+d,Te.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Te("Unknown option "+o,Te.ERR_BAD_OPTION)}}const Ac={assertOptions:ek,validators:Hf},br=Ac.validators;let Ds=class{constructor(e){this.defaults=e||{},this.interceptors={request:new H1,response:new H1}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Us(this.defaults,t);const{transitional:r,paramsSerializer:s,headers:o}=t;r!==void 0&&Ac.assertOptions(r,{silentJSONParsing:br.transitional(br.boolean),forcedJSONParsing:br.transitional(br.boolean),clarifyTimeoutError:br.transitional(br.boolean)},!1),s!=null&&(I.isFunction(s)?t.paramsSerializer={serialize:s}:Ac.assertOptions(s,{encode:br.function,serialize:br.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Ac.assertOptions(t,{baseUrl:br.spelling("baseURL"),withXsrfToken:br.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=o&&I.merge(o.common,o[t.method]);o&&I.forEach(["delete","get","head","post","put","patch","common"],x=>{delete o[x]}),t.headers=gn.concat(u,o);const c=[];let d=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(t)===!1||(d=d&&v.synchronous,c.unshift(v.fulfilled,v.rejected))});const h=[];this.interceptors.response.forEach(function(v){h.push(v.fulfilled,v.rejected)});let m,y=0,b;if(!d){const x=[G1.bind(this),void 0];for(x.unshift.apply(x,c),x.push.apply(x,h),b=x.length,m=Promise.resolve(t);y<b;)m=m.then(x[y++],x[y++]);return m}b=c.length;let S=t;for(y=0;y<b;){const x=c[y++],v=c[y++];try{S=x(S)}catch(A){v.call(this,A);break}}try{m=G1.call(this,S)}catch(x){return Promise.reject(x)}for(y=0,b=h.length;y<b;)m=m.then(h[y++],h[y++]);return m}getUri(e){e=Us(this.defaults,e);const t=Sv(e.baseURL,e.url,e.allowAbsoluteUrls);return mv(t,e.params,e.paramsSerializer)}};I.forEach(["delete","get","head","options"],function(e){Ds.prototype[e]=function(t,r){return this.request(Us(r||{},{method:e,url:t,data:(r||{}).data}))}});I.forEach(["post","put","patch"],function(e){function t(r){return function(o,u,c){return this.request(Us(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}Ds.prototype[e]=t(),Ds.prototype[e+"Form"]=t(!0)});let tk=class Cv{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const u=new Promise(c=>{r.subscribe(c),o=c}).then(s);return u.cancel=function(){r.unsubscribe(o)},u},e(function(o,u,c){r.reason||(r.reason=new Jl(o,u,c),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Cv(function(s){e=s}),cancel:e}}};function nk(n){return function(t){return n.apply(null,t)}}function rk(n){return I.isObject(n)&&n.isAxiosError===!0}const mm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mm).forEach(([n,e])=>{mm[e]=n});function Nv(n){const e=new Ds(n),t=rv(Ds.prototype.request,e);return I.extend(t,Ds.prototype,e,{allOwnKeys:!0}),I.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return Nv(Us(n,s))},t}const be=Nv($a);be.Axios=Ds;be.CanceledError=Jl;be.CancelToken=tk;be.isCancel=bv;be.VERSION=wv;be.toFormData=zf;be.AxiosError=Te;be.Cancel=be.CanceledError;be.all=function(e){return Promise.all(e)};be.spread=nk;be.isAxiosError=rk;be.mergeConfig=Us;be.AxiosHeaders=gn;be.formToJSON=n=>yv(I.isHTMLForm(n)?new FormData(n):n);be.getAdapter=Av.getAdapter;be.HttpStatusCode=mm;be.default=be;const{Axios:DL,AxiosError:jL,CanceledError:_L,isCancel:LL,CancelToken:zL,VERSION:BL,all:HL,Cancel:UL,isAxiosError:PL,spread:IL,toFormData:qL,AxiosHeaders:VL,HttpStatusCode:FL,formToJSON:$L,getAdapter:GL,mergeConfig:YL}=be;function ik(){const[n,e]=R.useState({name:"",email:"",password:""}),[t,r]=R.useState(""),s=Xn(),o=c=>{e({...n,[c.target.name]:c.target.value})},u=async c=>{var d,h;c.preventDefault(),r("");try{const m=await be.post("https://udhekryqi.com/api/auth/register",n);r(m.data.message||"Registration successful!"),setTimeout(()=>s("/login"),1e3)}catch(m){r(((h=(d=m.response)==null?void 0:d.data)==null?void 0:h.message)||"Something went wrong")}};return T.jsxs("div",{className:"max-w-md mx-auto mt-10 p-6 border rounded shadow-sm",children:[T.jsx("h2",{className:"text-2xl mb-4 font-semibold",children:"Regjistrohu"}),T.jsxs("form",{onSubmit:u,className:"space-y-4",children:[T.jsx("input",{name:"name",type:"text",placeholder:"Emri",value:n.name,onChange:o,className:"w-full border px-3 py-2 rounded",required:!0}),T.jsx("input",{name:"email",type:"email",placeholder:"Email",value:n.email,onChange:o,className:"w-full border px-3 py-2 rounded",required:!0}),T.jsx("input",{name:"password",type:"password",placeholder:"Password",value:n.password,onChange:o,className:"w-full border px-3 py-2 rounded",required:!0}),T.jsx("button",{type:"submit",className:"w-full bg-black text-white py-2 rounded hover:bg-gray-800",children:"Regjistrohu"})]}),t&&T.jsx("p",{className:"mt-4 text-sm text-center text-gray-700",children:t})]})}function sk(){const[n,e]=R.useState({email:"",password:""}),[t,r]=R.useState(""),s=Xn(),{login:o}=or(),u=d=>{e({...n,[d.target.name]:d.target.value})},c=async d=>{var h,m;d.preventDefault(),r("");try{const y=await be.post("https://udhekryqi.com/api/auth/login",n),b=y.data.user,S=y.data.token;if(!b.verified)return r("Please verify your email before logging in.");o(b,S),r("Login successful!"),s("/")}catch(y){r(((m=(h=y.response)==null?void 0:h.data)==null?void 0:m.message)||"Login failed")}};return T.jsxs("div",{className:"max-w-md mx-auto mt-10 p-6 border rounded shadow-sm",children:[T.jsx("h2",{className:"text-2xl mb-4 font-semibold",children:"Hyr"}),T.jsxs("form",{onSubmit:c,className:"space-y-4",children:[T.jsx("input",{name:"email",type:"email",placeholder:"Email",value:n.email,onChange:u,className:"w-full border px-3 py-2 rounded",required:!0}),T.jsx("input",{name:"password",type:"password",placeholder:"Password",value:n.password,onChange:u,className:"w-full border px-3 py-2 rounded",required:!0}),T.jsx("button",{type:"submit",className:"w-full bg-black text-white py-2 rounded hover:bg-gray-800",children:"Hyr"}),T.jsx("div",{className:"text-center mt-3",children:T.jsxs("p",{className:"text-sm",children:[T.jsx("div",{children:T.jsx("a",{href:"/forgot-password",className:"text-black hover:underline",children:"Ke harruar fjalëkalimin?"})}),T.jsx("a",{href:"/register",className:"text-black hover:underline",children:"Nuk jeni regjistruar?"})]})})]}),t&&T.jsx("p",{className:"mt-4 text-sm text-center text-gray-700",children:t})]})}var wc={exports:{}},lk=wc.exports,K1;function ok(){return K1||(K1=1,function(n){(function(e){if(typeof t!="function"){var t=function(x){return x};t.nonNative=!0}const r=t("plaintext"),s=t("html"),o=t("comment"),u=/<(\w*)>/g,c=/<\/?([^\s\/>]+)/;function d(x,v,A){x=x||"",v=v||[],A=A||"";let C=m(v,A);return y(x,C)}function h(x,v){x=x||[],v=v||"";let A=m(x,v);return function(O){return y(O||"",A)}}d.init_streaming_mode=h;function m(x,v){return x=b(x),{allowable_tags:x,tag_replacement:v,state:r,tag_buffer:"",depth:0,in_quote_char:""}}function y(x,v){if(typeof x!="string")throw new TypeError("'html' parameter must be a string");let A=v.allowable_tags,C=v.tag_replacement,O=v.state,_=v.tag_buffer,q=v.depth,P=v.in_quote_char,W="";for(let ee=0,oe=x.length;ee<oe;ee++){let Z=x[ee];if(O===r)switch(Z){case"<":O=s,_+=Z;break;default:W+=Z;break}else if(O===s)switch(Z){case"<":if(P)break;q++;break;case">":if(P)break;if(q){q--;break}P="",O=r,_+=">",A.has(S(_))?W+=_:W+=C,_="";break;case'"':case"'":Z===P?P="":P=P||Z,_+=Z;break;case"-":_==="<!-"&&(O=o),_+=Z;break;case" ":case`
`:if(_==="<"){O=r,W+="< ",_="";break}_+=Z;break;default:_+=Z;break}else if(O===o)switch(Z){case">":_.slice(-2)=="--"&&(O=r),_="";break;default:_+=Z;break}}return v.state=O,v.tag_buffer=_,v.depth=q,v.in_quote_char=P,W}function b(x){let v=new Set;if(typeof x=="string"){let A;for(;A=u.exec(x);)v.add(A[1])}else!t.nonNative&&typeof x[t.iterator]=="function"?v=new Set(x):typeof x.forEach=="function"&&x.forEach(v.add,v);return v}function S(x){let v=c.exec(x);return v?v[1].toLowerCase():null}n.exports?n.exports=d:e.striptags=d})(lk)}(wc)),wc.exports}var ak=ok();const zc=Qi(ak),uk=["teologji","filozofi","kulturë","politikë","histori"];function ck(){var d,h;const[n,e]=R.useState([]),{user:t}=or();Xn(),R.useEffect(()=>{be.get("https://udhekryqi.com/api/posts").then(m=>e(m.data)).catch(m=>console.error("Failed to fetch posts:",m))},[]);const r=n.slice(0,5),[s,...o]=r,u=async m=>{if(confirm("Delete this post?"))try{await be.delete(`https://udhekryqi.com/api/posts/${m}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),e(b=>b.filter(S=>S._id!==m))}catch(b){alert("Error deleting post."),console.error(b)}},c=(m,y=90)=>{if(!m)return"";const b=zc(m).replace(/\s+/g," ");return b.length>y?b.slice(0,y)+"...":b};return T.jsxs("div",{className:"max-w-6xl mx-auto mt-14 mb-14 px-4 sm:px-6",children:[s&&T.jsxs("div",{className:"grid md:grid-cols-3 gap-6 border-b pb-14",children:[T.jsx("div",{className:"md:col-span-2",children:T.jsxs(ke,{to:`/posts/${s._id}`,className:"block",children:[((d=s.media)==null?void 0:d[0])&&T.jsx("img",{src:s.media[0],alt:s.title,className:"w-full h-72 object-cover rounded mb-4"}),T.jsx("h1",{style:{fontFamily:"Georgia, serif"},className:"text-3xl md:text-4xl font-bold mb-2",children:s.title}),T.jsx("p",{className:"text-sm md:text-base uppercase text-red-700 font-semibold mb-3",children:s.authorName||((h=s.author)==null?void 0:h.name)}),T.jsx("div",{className:"text-gray-700 text-base md:text-lg break-words",style:{fontFamily:"Georgia, serif"},dangerouslySetInnerHTML:{__html:c(s.content,200)}})]})}),T.jsxs("div",{className:"border-l pl-6",children:[T.jsx("h2",{style:{fontFamily:"Georgia, serif"},className:"text-2xl md:text-3xl font-semibold text-gray-500 mb-4 tracking-wider uppercase",children:"TË FUNDIT"}),T.jsx("div",{className:"space-y-4",children:r.map(m=>{var y;return T.jsxs(ke,{to:`/posts/${m._id}`,className:"block group border-b pb-3",children:[T.jsx("h4",{style:{fontFamily:"Georgia, serif"},className:"text-base md:text-lg font-bold group-hover:underline",children:m.title}),T.jsx("p",{className:"text-xs md:text-sm text-red-700 uppercase font-medium",children:m.authorName||((y=m.author)==null?void 0:y.name)})]},m._id)})}),T.jsx("div",{className:"pt-4",children:T.jsx(ke,{to:"/all",className:"inline-block px-6 py-2 rounded bg-red-700 text-white text-sm font-semibold uppercase hover:bg-red-800 transition",style:{fontFamily:"Georgia, serif"},children:"TË TJERË →"})})]})]}),uk.map((m,y)=>{const b=n.filter(S=>S.tags.includes(m)).slice(0,3);return b.length===0?null:T.jsxs("section",{className:`space-y-4 pt-14 pb-14 ${y===0?"":"border-t"}`,children:[T.jsx("h2",{style:{fontFamily:"Georgia, serif"},className:"text-3xl md:text-4xl font-semibold text-gray-500 mb-4 tracking-wider uppercase",children:m}),T.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:b.map(S=>{var x,v;return T.jsxs("div",{className:"group border rounded overflow-hidden bg-white shadow-sm hover:shadow-md transition relative",children:[(t==null?void 0:t.role)==="admin"&&T.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 z-10",children:[T.jsx(ke,{to:`/edit-post/${S._id}`,className:"text-xs",children:"✏️"}),T.jsx("button",{onClick:()=>u(S._id),className:"text-xs",children:"❌"})]}),T.jsxs(ke,{to:`/posts/${S._id}`,children:[((x=S.media)==null?void 0:x[0])&&T.jsx("img",{src:S.media[0],alt:S.title,className:"h-48 w-full object-cover"}),T.jsxs("div",{className:"p-4 space-y-2",children:[T.jsx("h3",{style:{fontFamily:"Georgia, serif"},className:"text-lg md:text-xl font-bold group-hover:underline",children:S.title}),T.jsx("p",{className:"text-xs md:text-sm uppercase text-red-700 font-semibold",children:S.authorName||((v=S.author)==null?void 0:v.name)}),T.jsx("div",{className:"text-sm md:text-base text-gray-600 break-words",style:{fontFamily:"Georgia, serif"},dangerouslySetInnerHTML:{__html:c(S.content,90)}})]})]})]},S._id)})}),T.jsx("div",{className:"pt-4 text-center",children:T.jsxs(ke,{to:`/category/${m}`,className:"inline-block px-6 py-2 rounded bg-red-700 text-white text-sm font-semibold uppercase hover:bg-red-800 transition",style:{fontFamily:"Georgia, serif"},children:["Më shumë ",m]})})]},m)})]})}var Ov={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},X1=Fe.createContext&&Fe.createContext(Ov),fk=["attr","size","title"];function dk(n,e){if(n==null)return{};var t=hk(n,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function hk(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Bc(){return Bc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Bc.apply(this,arguments)}function J1(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Hc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?J1(Object(t),!0).forEach(function(r){pk(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):J1(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function pk(n,e,t){return e=mk(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function mk(n){var e=gk(n,"string");return typeof e=="symbol"?e:e+""}function gk(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function kv(n){return n&&n.map((e,t)=>Fe.createElement(e.tag,Hc({key:t},e.attr),kv(e.child)))}function Uf(n){return e=>Fe.createElement(yk,Bc({attr:Hc({},n.attr)},e),kv(n.child))}function yk(n){var e=t=>{var{attr:r,size:s,title:o}=n,u=dk(n,fk),c=s||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),Fe.createElement("svg",Bc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:d,style:Hc(Hc({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&Fe.createElement("title",null,o),n.children)};return X1!==void 0?Fe.createElement(X1.Consumer,null,t=>e(t)):e(Ov)}function bk(n){return Uf({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5V334.2H141.4V256h52.8V222.3c0-87.1 39.4-127.5 125-127.5c16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1c-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287V510.1C413.8 494.8 512 386.9 512 256h0z"},child:[]}]})(n)}function xk(n){return Uf({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function Sk(n){return Uf({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"},child:[]}]})(n)}function vk(n){return Uf({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(n)}const Ek=["Teologji","Filozofi","Kulturë","Politikë","Histori"];function Tk(){const[n,e]=R.useState(""),t=Xn(),r=oi(),s=o=>{o.key==="Enter"&&n.trim()&&t(`/all?search=${encodeURIComponent(n.trim())}`)};return R.useEffect(()=>{r.pathname.startsWith("/all")||e("")},[r.pathname]),T.jsx("footer",{className:"bg-gray-100 border-t text-sm text-gray-700 py-10",children:T.jsxs("div",{className:"max-w-6xl mx-auto px-4 flex flex-col items-center gap-6",children:[T.jsx(ke,{to:"/",children:T.jsx("img",{src:"/Logo-horizontal.png",alt:"Udhëkryqi",className:"h-10 md:h-16 w-auto transition-all duration-200"})}),T.jsxs("div",{className:"w-full flex flex-col gap-6 md:flex-row md:items-center md:justify-between",children:[T.jsx("div",{className:"flex flex-wrap justify-center gap-4 md:justify-start",children:Ek.map(o=>T.jsx(ke,{to:`/all?search=${encodeURIComponent(o)}`,className:"text-gray-700 hover:text-red-600 hover:underline font-medium",children:o},o))}),T.jsxs("div",{className:"flex justify-center gap-5 text-xl",children:[T.jsx("a",{href:"https://x.com/udhekryqi",target:"_blank",rel:"noopener noreferrer",children:T.jsx(Sk,{className:"hover:text-red-600 cursor-pointer"})}),T.jsx("a",{href:"https://www.instagram.com/revista.udhekryqi/",target:"_blank",rel:"noopener noreferrer",children:T.jsx(xk,{className:"hover:text-red-600 cursor-pointer"})}),T.jsx("a",{href:"https://www.youtube.com/channel/UCm9ar2kaThxhIJjbQicrEAA",target:"_blank",rel:"noopener noreferrer",children:T.jsx(vk,{className:"hover:text-red-600 cursor-pointer"})}),T.jsx("a",{href:"https://www.facebook.com/udhekryqi",target:"_blank",rel:"noopener noreferrer",children:T.jsx(bk,{className:"hover:text-red-600 cursor-pointer"})})]}),T.jsx("div",{className:"flex justify-center",children:T.jsx("input",{type:"text",placeholder:"Search...",value:n,onChange:o=>e(o.target.value),onKeyDown:s,className:"w-75 border border-gray-300 rounded px-4 py-2 focus:outline-none focus:ring focus:ring-red-200"})})]})]})})}const xp=12;function Ak(){const{name:n}=Mf(),e=decodeURIComponent(n),[t,r]=R.useState([]),[s,o]=R.useState(1),{user:u}=or(),c=(u==null?void 0:u.role)==="admin";R.useEffect(()=>{(async()=>{try{const v=(await be.get("https://udhekryqi.com/api/posts")).data.filter(A=>A.tags.some(C=>C.toLowerCase()===e.toLowerCase()));r(v),o(1)}catch(x){console.error("Failed to load posts:",x)}})()},[e]);const d=Math.ceil(t.length/xp),h=t.slice((s-1)*xp,s*xp);function m(S){const x=document.createElement("textarea");return x.innerHTML=S,x.value}const y=(S,x=90)=>{const v=zc(S||"").replace(/\s+/g," ").trim(),A=m(v);return A.length>x?A.slice(0,x)+"...":A},b=async S=>{if(confirm("Delete this post?"))try{await be.delete(`https://udhekryqi.com/api/posts/${S}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),r(v=>v.filter(A=>A._id!==S))}catch(v){alert("Error deleting post."),console.error(v)}};return T.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-14",children:[T.jsx("h1",{style:{fontFamily:"Georgia, serif"},className:"text-3xl font-bold mb-6 capitalize",children:e}),T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:h.map(S=>{var x,v;return T.jsxs("div",{className:"group border rounded overflow-hidden bg-white shadow-sm hover:shadow-md transition relative",children:[c&&T.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 z-10",children:[T.jsx(ke,{to:`/edit-post/${S._id}`,className:"text-xs",children:"✏️"}),T.jsx("button",{onClick:()=>b(S._id),className:"text-xs",children:"❌"})]}),T.jsxs(ke,{to:`/posts/${S._id}`,children:[((x=S.media)==null?void 0:x[0])&&T.jsx("img",{src:S.media[0],alt:S.title,className:"h-48 w-full object-cover"}),T.jsxs("div",{className:"p-4 space-y-2",children:[T.jsx("h3",{style:{fontFamily:"Georgia, serif"},className:"text-lg font-bold group-hover:underline",children:S.title}),T.jsx("p",{className:"text-xs uppercase text-red-700 font-semibold",children:S.authorName||((v=S.author)==null?void 0:v.name)}),T.jsx("p",{className:"text-sm text-gray-600 break-words",children:y(S.content)})]})]})]},S._id)})}),d>1&&T.jsx("div",{className:"flex justify-center mt-8 space-x-2",children:Array.from({length:d},(S,x)=>T.jsx("button",{onClick:()=>o(x+1),className:`px-3 py-1 rounded ${s===x+1?"bg-black text-white":"bg-gray-200 text-gray-800"}`,children:x+1},x+1))})]})}var Sp={exports:{}},vp,Q1;function wk(){if(Q1)return vp;Q1=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return vp=n,vp}var Ep,W1;function Ck(){if(W1)return Ep;W1=1;var n=wk();function e(){}function t(){}return t.resetWarningCache=e,Ep=function(){function r(u,c,d,h,m,y){if(y!==n){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function s(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},Ep}var Z1;function Nk(){return Z1||(Z1=1,Sp.exports=Ck()()),Sp.exports}var Ok=Nk();const We=Qi(Ok);var Tp,ex;function kk(){if(ex)return Tp;ex=1;function n(c){return c&&typeof c=="object"&&"default"in c?c.default:c}var e=Of(),t=n(e);function r(c,d,h){return d in c?Object.defineProperty(c,d,{value:h,enumerable:!0,configurable:!0,writable:!0}):c[d]=h,c}function s(c,d){c.prototype=Object.create(d.prototype),c.prototype.constructor=c,c.__proto__=d}var o=!!(typeof window<"u"&&window.document&&window.document.createElement);function u(c,d,h){if(typeof c!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof d!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof h<"u"&&typeof h!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function m(y){return y.displayName||y.name||"Component"}return function(b){if(typeof b!="function")throw new Error("Expected WrappedComponent to be a React component.");var S=[],x;function v(){x=c(S.map(function(C){return C.props})),A.canUseDOM?d(x):h&&(x=h(x))}var A=function(C){s(O,C);function O(){return C.apply(this,arguments)||this}O.peek=function(){return x},O.rewind=function(){if(O.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var P=x;return x=void 0,S=[],P};var _=O.prototype;return _.UNSAFE_componentWillMount=function(){S.push(this),v()},_.componentDidUpdate=function(){v()},_.componentWillUnmount=function(){var P=S.indexOf(this);S.splice(P,1),v()},_.render=function(){return t.createElement(b,this.props)},O}(e.PureComponent);return r(A,"displayName","SideEffect("+m(b)+")"),r(A,"canUseDOM",o),A}}return Tp=u,Tp}var Mk=kk();const Rk=Qi(Mk);var Ap,tx;function Dk(){if(tx)return Ap;tx=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function s(o,u){if(o===u)return!0;if(o&&u&&typeof o=="object"&&typeof u=="object"){if(o.constructor!==u.constructor)return!1;var c,d,h;if(Array.isArray(o)){if(c=o.length,c!=u.length)return!1;for(d=c;d--!==0;)if(!s(o[d],u[d]))return!1;return!0}var m;if(e&&o instanceof Map&&u instanceof Map){if(o.size!==u.size)return!1;for(m=o.entries();!(d=m.next()).done;)if(!u.has(d.value[0]))return!1;for(m=o.entries();!(d=m.next()).done;)if(!s(d.value[1],u.get(d.value[0])))return!1;return!0}if(t&&o instanceof Set&&u instanceof Set){if(o.size!==u.size)return!1;for(m=o.entries();!(d=m.next()).done;)if(!u.has(d.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(o)&&ArrayBuffer.isView(u)){if(c=o.length,c!=u.length)return!1;for(d=c;d--!==0;)if(o[d]!==u[d])return!1;return!0}if(o.constructor===RegExp)return o.source===u.source&&o.flags===u.flags;if(o.valueOf!==Object.prototype.valueOf&&typeof o.valueOf=="function"&&typeof u.valueOf=="function")return o.valueOf()===u.valueOf();if(o.toString!==Object.prototype.toString&&typeof o.toString=="function"&&typeof u.toString=="function")return o.toString()===u.toString();if(h=Object.keys(o),c=h.length,c!==Object.keys(u).length)return!1;for(d=c;d--!==0;)if(!Object.prototype.hasOwnProperty.call(u,h[d]))return!1;if(n&&o instanceof Element)return!1;for(d=c;d--!==0;)if(!((h[d]==="_owner"||h[d]==="__v"||h[d]==="__o")&&o.$$typeof)&&!s(o[h[d]],u[h[d]]))return!1;return!0}return o!==o&&u!==u}return Ap=function(u,c){try{return s(u,c)}catch(d){if((d.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw d}},Ap}var jk=Dk();const _k=Qi(jk);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var wp,nx;function Lk(){if(nx)return wp;nx=1;var n=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function r(o){if(o==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(o)}function s(){try{if(!Object.assign)return!1;var o=new String("abc");if(o[5]="de",Object.getOwnPropertyNames(o)[0]==="5")return!1;for(var u={},c=0;c<10;c++)u["_"+String.fromCharCode(c)]=c;var d=Object.getOwnPropertyNames(u).map(function(m){return u[m]});if(d.join("")!=="0123456789")return!1;var h={};return"abcdefghijklmnopqrst".split("").forEach(function(m){h[m]=m}),Object.keys(Object.assign({},h)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return wp=s()?Object.assign:function(o,u){for(var c,d=r(o),h,m=1;m<arguments.length;m++){c=Object(arguments[m]);for(var y in c)e.call(c,y)&&(d[y]=c[y]);if(n){h=n(c);for(var b=0;b<h.length;b++)t.call(c,h[b])&&(d[h[b]]=c[h[b]])}}return d},wp}var zk=Lk();const Bk=Qi(zk);var js={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Ee={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Ee).map(function(n){return Ee[n]});var Ze={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},Uc={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},ka={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},Hk=Object.keys(Uc).reduce(function(n,e){return n[Uc[e]]=e,n},{}),Uk=[Ee.NOSCRIPT,Ee.SCRIPT,Ee.STYLE],sr="data-react-helmet",Pk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ik=function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")},qk=function(){function n(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),hn=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Vk=function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)},rx=function(n,e){var t={};for(var r in n)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},Fk=function(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n},gm=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},$k=function(e){var t=Hl(e,Ee.TITLE),r=Hl(e,ka.TITLE_TEMPLATE);if(r&&t)return r.replace(/%s/g,function(){return Array.isArray(t)?t.join(""):t});var s=Hl(e,ka.DEFAULT_TITLE);return t||s||void 0},Gk=function(e){return Hl(e,ka.ON_CHANGE_CLIENT_STATE)||function(){}},Cp=function(e,t){return t.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,s){return hn({},r,s)},{})},Yk=function(e,t){return t.filter(function(r){return typeof r[Ee.BASE]<"u"}).map(function(r){return r[Ee.BASE]}).reverse().reduce(function(r,s){if(!r.length)for(var o=Object.keys(s),u=0;u<o.length;u++){var c=o[u],d=c.toLowerCase();if(e.indexOf(d)!==-1&&s[d])return r.concat(s)}return r},[])},sa=function(e,t,r){var s={};return r.filter(function(o){return Array.isArray(o[e])?!0:(typeof o[e]<"u"&&Qk("Helmet: "+e+' should be of type "Array". Instead found type "'+Pk(o[e])+'"'),!1)}).map(function(o){return o[e]}).reverse().reduce(function(o,u){var c={};u.filter(function(b){for(var S=void 0,x=Object.keys(b),v=0;v<x.length;v++){var A=x[v],C=A.toLowerCase();t.indexOf(C)!==-1&&!(S===Ze.REL&&b[S].toLowerCase()==="canonical")&&!(C===Ze.REL&&b[C].toLowerCase()==="stylesheet")&&(S=C),t.indexOf(A)!==-1&&(A===Ze.INNER_HTML||A===Ze.CSS_TEXT||A===Ze.ITEM_PROP)&&(S=A)}if(!S||!b[S])return!1;var O=b[S].toLowerCase();return s[S]||(s[S]={}),c[S]||(c[S]={}),s[S][O]?!1:(c[S][O]=!0,!0)}).reverse().forEach(function(b){return o.push(b)});for(var d=Object.keys(c),h=0;h<d.length;h++){var m=d[h],y=Bk({},s[m],c[m]);s[m]=y}return o},[]).reverse()},Hl=function(e,t){for(var r=e.length-1;r>=0;r--){var s=e[r];if(s.hasOwnProperty(t))return s[t]}return null},Kk=function(e){return{baseTag:Yk([Ze.HREF,Ze.TARGET],e),bodyAttributes:Cp(js.BODY,e),defer:Hl(e,ka.DEFER),encode:Hl(e,ka.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Cp(js.HTML,e),linkTags:sa(Ee.LINK,[Ze.REL,Ze.HREF],e),metaTags:sa(Ee.META,[Ze.NAME,Ze.CHARSET,Ze.HTTPEQUIV,Ze.PROPERTY,Ze.ITEM_PROP],e),noscriptTags:sa(Ee.NOSCRIPT,[Ze.INNER_HTML],e),onChangeClientState:Gk(e),scriptTags:sa(Ee.SCRIPT,[Ze.SRC,Ze.INNER_HTML],e),styleTags:sa(Ee.STYLE,[Ze.CSS_TEXT],e),title:$k(e),titleAttributes:Cp(js.TITLE,e)}},ym=function(){var n=Date.now();return function(e){var t=Date.now();t-n>16?(n=t,e(t)):setTimeout(function(){ym(e)},0)}}(),ix=function(e){return clearTimeout(e)},Xk=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||ym:global.requestAnimationFrame||ym,Jk=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||ix:global.cancelAnimationFrame||ix,Qk=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},la=null,Wk=function(e){la&&Jk(la),e.defer?la=Xk(function(){sx(e,function(){la=null})}):(sx(e),la=null)},sx=function(e,t){var r=e.baseTag,s=e.bodyAttributes,o=e.htmlAttributes,u=e.linkTags,c=e.metaTags,d=e.noscriptTags,h=e.onChangeClientState,m=e.scriptTags,y=e.styleTags,b=e.title,S=e.titleAttributes;bm(Ee.BODY,s),bm(Ee.HTML,o),Zk(b,S);var x={baseTag:Ml(Ee.BASE,r),linkTags:Ml(Ee.LINK,u),metaTags:Ml(Ee.META,c),noscriptTags:Ml(Ee.NOSCRIPT,d),scriptTags:Ml(Ee.SCRIPT,m),styleTags:Ml(Ee.STYLE,y)},v={},A={};Object.keys(x).forEach(function(C){var O=x[C],_=O.newTags,q=O.oldTags;_.length&&(v[C]=_),q.length&&(A[C]=x[C].oldTags)}),t&&t(),h(e,v,A)},Mv=function(e){return Array.isArray(e)?e.join(""):e},Zk=function(e,t){typeof e<"u"&&document.title!==e&&(document.title=Mv(e)),bm(Ee.TITLE,t)},bm=function(e,t){var r=document.getElementsByTagName(e)[0];if(r){for(var s=r.getAttribute(sr),o=s?s.split(","):[],u=[].concat(o),c=Object.keys(t),d=0;d<c.length;d++){var h=c[d],m=t[h]||"";r.getAttribute(h)!==m&&r.setAttribute(h,m),o.indexOf(h)===-1&&o.push(h);var y=u.indexOf(h);y!==-1&&u.splice(y,1)}for(var b=u.length-1;b>=0;b--)r.removeAttribute(u[b]);o.length===u.length?r.removeAttribute(sr):r.getAttribute(sr)!==c.join(",")&&r.setAttribute(sr,c.join(","))}},Ml=function(e,t){var r=document.head||document.querySelector(Ee.HEAD),s=r.querySelectorAll(e+"["+sr+"]"),o=Array.prototype.slice.call(s),u=[],c=void 0;return t&&t.length&&t.forEach(function(d){var h=document.createElement(e);for(var m in d)if(d.hasOwnProperty(m))if(m===Ze.INNER_HTML)h.innerHTML=d.innerHTML;else if(m===Ze.CSS_TEXT)h.styleSheet?h.styleSheet.cssText=d.cssText:h.appendChild(document.createTextNode(d.cssText));else{var y=typeof d[m]>"u"?"":d[m];h.setAttribute(m,y)}h.setAttribute(sr,"true"),o.some(function(b,S){return c=S,h.isEqualNode(b)})?o.splice(c,1):u.push(h)}),o.forEach(function(d){return d.parentNode.removeChild(d)}),u.forEach(function(d){return r.appendChild(d)}),{oldTags:o,newTags:u}},Rv=function(e){return Object.keys(e).reduce(function(t,r){var s=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return t?t+" "+s:s},"")},eM=function(e,t,r,s){var o=Rv(r),u=Mv(t);return o?"<"+e+" "+sr+'="true" '+o+">"+gm(u,s)+"</"+e+">":"<"+e+" "+sr+'="true">'+gm(u,s)+"</"+e+">"},tM=function(e,t,r){return t.reduce(function(s,o){var u=Object.keys(o).filter(function(h){return!(h===Ze.INNER_HTML||h===Ze.CSS_TEXT)}).reduce(function(h,m){var y=typeof o[m]>"u"?m:m+'="'+gm(o[m],r)+'"';return h?h+" "+y:y},""),c=o.innerHTML||o.cssText||"",d=Uk.indexOf(e)===-1;return s+"<"+e+" "+sr+'="true" '+u+(d?"/>":">"+c+"</"+e+">")},"")},Dv=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[Uc[s]||s]=e[s],r},t)},nM=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,s){return r[Hk[s]||s]=e[s],r},t)},rM=function(e,t,r){var s,o=(s={key:t},s[sr]=!0,s),u=Dv(r,o);return[Fe.createElement(Ee.TITLE,u,t)]},iM=function(e,t){return t.map(function(r,s){var o,u=(o={key:s},o[sr]=!0,o);return Object.keys(r).forEach(function(c){var d=Uc[c]||c;if(d===Ze.INNER_HTML||d===Ze.CSS_TEXT){var h=r.innerHTML||r.cssText;u.dangerouslySetInnerHTML={__html:h}}else u[d]=r[c]}),Fe.createElement(e,u)})},Xr=function(e,t,r){switch(e){case Ee.TITLE:return{toComponent:function(){return rM(e,t.title,t.titleAttributes)},toString:function(){return eM(e,t.title,t.titleAttributes,r)}};case js.BODY:case js.HTML:return{toComponent:function(){return Dv(t)},toString:function(){return Rv(t)}};default:return{toComponent:function(){return iM(e,t)},toString:function(){return tM(e,t,r)}}}},jv=function(e){var t=e.baseTag,r=e.bodyAttributes,s=e.encode,o=e.htmlAttributes,u=e.linkTags,c=e.metaTags,d=e.noscriptTags,h=e.scriptTags,m=e.styleTags,y=e.title,b=y===void 0?"":y,S=e.titleAttributes;return{base:Xr(Ee.BASE,t,s),bodyAttributes:Xr(js.BODY,r,s),htmlAttributes:Xr(js.HTML,o,s),link:Xr(Ee.LINK,u,s),meta:Xr(Ee.META,c,s),noscript:Xr(Ee.NOSCRIPT,d,s),script:Xr(Ee.SCRIPT,h,s),style:Xr(Ee.STYLE,m,s),title:Xr(Ee.TITLE,{title:b,titleAttributes:S},s)}},sM=function(e){var t,r;return r=t=function(s){Vk(o,s);function o(){return Ik(this,o),Fk(this,s.apply(this,arguments))}return o.prototype.shouldComponentUpdate=function(c){return!_k(this.props,c)},o.prototype.mapNestedChildrenToProps=function(c,d){if(!d)return null;switch(c.type){case Ee.SCRIPT:case Ee.NOSCRIPT:return{innerHTML:d};case Ee.STYLE:return{cssText:d}}throw new Error("<"+c.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},o.prototype.flattenArrayTypeChildren=function(c){var d,h=c.child,m=c.arrayTypeChildren,y=c.newChildProps,b=c.nestedChildren;return hn({},m,(d={},d[h.type]=[].concat(m[h.type]||[],[hn({},y,this.mapNestedChildrenToProps(h,b))]),d))},o.prototype.mapObjectTypeChildren=function(c){var d,h,m=c.child,y=c.newProps,b=c.newChildProps,S=c.nestedChildren;switch(m.type){case Ee.TITLE:return hn({},y,(d={},d[m.type]=S,d.titleAttributes=hn({},b),d));case Ee.BODY:return hn({},y,{bodyAttributes:hn({},b)});case Ee.HTML:return hn({},y,{htmlAttributes:hn({},b)})}return hn({},y,(h={},h[m.type]=hn({},b),h))},o.prototype.mapArrayTypeChildrenToProps=function(c,d){var h=hn({},d);return Object.keys(c).forEach(function(m){var y;h=hn({},h,(y={},y[m]=c[m],y))}),h},o.prototype.warnOnInvalidChildren=function(c,d){return!0},o.prototype.mapChildrenToProps=function(c,d){var h=this,m={};return Fe.Children.forEach(c,function(y){if(!(!y||!y.props)){var b=y.props,S=b.children,x=rx(b,["children"]),v=nM(x);switch(h.warnOnInvalidChildren(y,S),y.type){case Ee.LINK:case Ee.META:case Ee.NOSCRIPT:case Ee.SCRIPT:case Ee.STYLE:m=h.flattenArrayTypeChildren({child:y,arrayTypeChildren:m,newChildProps:v,nestedChildren:S});break;default:d=h.mapObjectTypeChildren({child:y,newProps:d,newChildProps:v,nestedChildren:S});break}}}),d=this.mapArrayTypeChildrenToProps(m,d),d},o.prototype.render=function(){var c=this.props,d=c.children,h=rx(c,["children"]),m=hn({},h);return d&&(m=this.mapChildrenToProps(d,m)),Fe.createElement(e,m)},qk(o,null,[{key:"canUseDOM",set:function(c){e.canUseDOM=c}}]),o}(Fe.Component),t.propTypes={base:We.object,bodyAttributes:We.object,children:We.oneOfType([We.arrayOf(We.node),We.node]),defaultTitle:We.string,defer:We.bool,encodeSpecialCharacters:We.bool,htmlAttributes:We.object,link:We.arrayOf(We.object),meta:We.arrayOf(We.object),noscript:We.arrayOf(We.object),onChangeClientState:We.func,script:We.arrayOf(We.object),style:We.arrayOf(We.object),title:We.string,titleAttributes:We.object,titleTemplate:We.string},t.defaultProps={defer:!0,encodeSpecialCharacters:!0},t.peek=e.peek,t.rewind=function(){var s=e.rewind();return s||(s=jv({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},r},lM=function(){return null},oM=Rk(Kk,Wk,jv)(lM),xm=sM(oM);xm.renderStatic=xm.rewind;function aM(){var xe,ct,vt;const{id:n}=Mf(),e=Xn(),{user:t}=or(),[r,s]=R.useState(null),[o,u]=R.useState(""),[c,d]=R.useState(!1),[h,m]=R.useState(0),[y,b]=R.useState([]),[S,x]=R.useState(""),[v,A]=R.useState(null),[C,O]=R.useState(""),[_,q]=R.useState(!1);R.useEffect(()=>{(async()=>{try{const B=await be.get(`https://udhekryqi.com/api/posts/${n}`);s(B.data),m(B.data.likes.length),b(B.data.comments||[]),t&&d(B.data.likes.includes(t.id))}catch{u("Post not found or server error.")}})()},[n,t]);const P=async()=>{if(confirm("Are you sure you want to delete this post?"))try{await be.delete(`https://udhekryqi.com/api/posts/${n}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),e("/")}catch{alert("Failed to delete post.")}},W=async()=>{if(!t)return alert("Please log in to like posts");try{const he=await be.post(`https://udhekryqi.com/api/posts/${n}/like`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});d(he.data.liked),m(he.data.likesCount),s(B=>({...B,likes:he.data.likes}))}catch(he){console.error("Like error:",he)}},ee=async he=>{if(he.preventDefault(),!t)return alert("Please log in to comment");if(S.trim())try{const B=await be.post(`https://udhekryqi.com/api/posts/${n}/comments`,{content:S,name:t.name},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});b([...y,B.data.comment]),x("")}catch(B){alert("Failed to post comment."),console.error(B)}},oe=async(he,B)=>{if(he.preventDefault(),!!C.trim())try{const Y=await be.post(`https://udhekryqi.com/api/posts/${n}/comments`,{content:C,parentId:B,name:t.name},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});b([...y,Y.data.comment]),O(""),A(null)}catch(Y){alert("Failed to post reply."),console.error(Y)}},Z=he=>{const B=le=>y.filter(k=>k.parentId===le).reduce((k,V)=>[...k,V._id,...B(V._id)],[]),Y=[he,...B(he)];b(y.filter(le=>!Y.includes(le._id)))},Me=async he=>{if(confirm("Delete this comment and all its replies?"))try{await be.delete(`https://udhekryqi.com/api/posts/${n}/comments/${he}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),Z(he)}catch(B){alert("Failed to delete comment."),console.error(B)}},ve=(he=null,B=0)=>y.filter(Y=>Y.parentId===he).sort((Y,le)=>new Date(le.createdAt)-new Date(Y.createdAt)).map(Y=>T.jsxs("div",{className:`ml-${B*4} border-l pl-4 mt-4`,children:[T.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[T.jsx("span",{className:"font-medium",children:Y.name})," •"," ",new Date(Y.createdAt).toLocaleDateString()]}),T.jsx("p",{className:"text-gray-800",children:Y.content}),T.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[T.jsx("button",{onClick:()=>{A(Y._id),O("")},className:"text-xs text-blue-600 hover:underline",children:"Përgjigju"}),((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.name)===Y.name)&&T.jsx("button",{onClick:()=>Me(Y._id),className:"text-xs text-red-600 hover:underline",children:"Fshij"})]}),t&&v===Y._id&&T.jsxs("form",{onSubmit:le=>oe(le,Y._id),className:"mt-2",children:[T.jsx("textarea",{className:"w-full p-2 border rounded mb-2",rows:2,value:C,onChange:le=>O(le.target.value),placeholder:"Shkruaj një përgjigje..."}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{type:"submit",className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Posto Përgjigjen"}),T.jsx("button",{type:"button",className:"text-sm text-gray-500 hover:underline",onClick:()=>A(null),children:"Anulloje"})]})]}),ve(Y._id,B+1)]},Y._id));return o?T.jsx("div",{className:"text-center text-red-500 mt-10",children:o}):r?T.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[T.jsxs(xm,{children:[T.jsx("title",{children:r.title}),T.jsx("meta",{name:"description",content:r.content.replace(/<[^>]+>/g,"").slice(0,150)}),T.jsx("meta",{property:"og:title",content:r.title}),T.jsx("meta",{property:"og:description",content:r.content.replace(/<[^>]+>/g,"").slice(0,150)}),T.jsx("meta",{property:"og:url",content:window.location.href}),((xe=r.media)==null?void 0:xe[0])&&T.jsx("meta",{property:"og:image",content:r.media[0]}),T.jsx("meta",{name:"twitter:card",content:"summary_large_image"})]}),T.jsx("h1",{className:"text-3xl font-bold font-serif mb-2",children:r.title}),T.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Nga ",T.jsx("span",{className:"font-medium",children:r.authorName||((ct=r.author)==null?void 0:ct.name)})," •"," ",new Date(r.createdAt).toLocaleDateString()]}),T.jsx("div",{className:"mb-4 flex flex-wrap gap-2",children:r.tags.map((he,B)=>T.jsx("span",{className:"text-xs px-2 py-1 bg-gray-200 rounded-full capitalize",children:he},B))}),(t==null?void 0:t.role)==="admin"&&T.jsxs("div",{className:"mb-4 flex gap-3",children:[T.jsx(ke,{to:`/edit-post/${r._id}`,className:"px-4 py-1 border rounded text-sm font-medium hover:bg-gray-100",children:"✏️ Ndrysho Artikullin"}),T.jsx("button",{onClick:P,className:"px-4 py-1 border border-red-600 text-red-600 rounded text-sm font-medium hover:bg-red-50",children:"❌ Fshij Artikullin"})]}),((vt=r.media)==null?void 0:vt.length)>0&&T.jsx("div",{className:"mb-4",children:r.media.filter(he=>he&&he.trim()).map((he,B)=>T.jsx("img",{src:he,alt:`media-${B}`,className:"rounded w-full mb-4",onError:Y=>Y.target.style.display="none"},B))}),T.jsx("div",{className:"post-content max-w-none mb-6 [&>p]:my-4 [&>ul]:my-4 [&>ol]:my-4 [&>h2]:my-5",dangerouslySetInnerHTML:{__html:r.content}}),T.jsxs("div",{className:"relative mb-6",children:[T.jsx("button",{onClick:()=>q(!_),className:"bg-red-700 text-white px-4 py-2 rounded-full text-sm font-semibold hover:bg-red-800",children:"Ndaje Artikullin"}),_&&T.jsxs("div",{className:"absolute mt-2 bg-red-700 shadow-md rounded p-3 border border-gray-200 z-10",children:[T.jsx("a",{href:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}`,target:"_blank",rel:"noopener noreferrer",className:"block text-white font-semibold hover:underline text-sm mb-2",children:"Facebook"}),T.jsx("a",{href:`https://twitter.com/intent/tweet?url=${encodeURIComponent(window.location.href)}&text=${encodeURIComponent(r.title)}`,target:"_blank",rel:"noopener noreferrer",className:"block text-white font-semibold hover:underline text-sm mb-2",children:"X"}),T.jsx("a",{href:`https://www.linkedin.com/shareArticle?mini=true&url=${encodeURIComponent(window.location.href)}&title=${encodeURIComponent(r.title)}`,target:"_blank",rel:"noopener noreferrer",className:"block text-white font-semibold hover:underline text-sm mb-2",children:"LinkedIn"})]})]}),T.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[T.jsx("button",{onClick:W,className:`text-2xl focus:outline-none ${c?"text-red-600":"text-gray-400"}`,title:c?"Unlike":"Like",children:c?"❤️":"🤍"}),T.jsxs("span",{className:"text-sm text-gray-600",children:[h," ",h===1?"pëlqim":"pëlqime"]})]}),T.jsxs("div",{className:"mt-10",children:[T.jsx("h3",{className:"text-xl font-semibold mb-2",children:"💬 Komentet"}),t?T.jsxs("form",{onSubmit:ee,className:"mb-6",children:[T.jsx("textarea",{value:S,onChange:he=>x(he.target.value),className:"w-full p-3 border rounded mb-2",rows:3,placeholder:"Shkruaj një koment..."}),T.jsx("button",{type:"submit",className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 text-sm",children:"Posto Komentin"})]}):T.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:["Duhet të"," ",T.jsx(ke,{to:"/login",className:"text-red-600 font-medium hover:underline",children:"hyni në portal"})," ","për të komentuar."]}),T.jsx("div",{children:ve()}),!y.length&&T.jsx("p",{className:"text-gray-500 text-sm mt-4",children:"Asnjë koment akoma. Komento i pari!"})]})]}):T.jsx("div",{className:"text-center mt-10",children:"Loading..."})}function Bt(n){this.content=n}Bt.prototype={constructor:Bt,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,s=r.find(n),o=r.content.slice();return s==-1?o.push(t||n,e):(o[s+1]=e,t&&(o[s]=t)),new Bt(o)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new Bt(t)},addToStart:function(n,e){return new Bt([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new Bt(t)},addBefore:function(n,e,t){var r=this.remove(e),s=r.content.slice(),o=r.find(n);return s.splice(o==-1?s.length:o,0,e,t),new Bt(s)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=Bt.from(n),n.size?new Bt(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=Bt.from(n),n.size?new Bt(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=Bt.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};Bt.from=function(n){if(n instanceof Bt)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new Bt(e)};function _v(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let s=n.child(r),o=e.child(r);if(s==o){t+=s.nodeSize;continue}if(!s.sameMarkup(o))return t;if(s.isText&&s.text!=o.text){for(let u=0;s.text[u]==o.text[u];u++)t++;return t}if(s.content.size||o.content.size){let u=_v(s.content,o.content,t+1);if(u!=null)return u}t+=s.nodeSize}}function Lv(n,e,t,r){for(let s=n.childCount,o=e.childCount;;){if(s==0||o==0)return s==o?null:{a:t,b:r};let u=n.child(--s),c=e.child(--o),d=u.nodeSize;if(u==c){t-=d,r-=d;continue}if(!u.sameMarkup(c))return{a:t,b:r};if(u.isText&&u.text!=c.text){let h=0,m=Math.min(u.text.length,c.text.length);for(;h<m&&u.text[u.text.length-h-1]==c.text[c.text.length-h-1];)h++,t--,r--;return{a:t,b:r}}if(u.content.size||c.content.size){let h=Lv(u.content,c.content,t-1,r-1);if(h)return h}t-=d,r-=d}}class K{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,s=0,o){for(let u=0,c=0;c<t;u++){let d=this.content[u],h=c+d.nodeSize;if(h>e&&r(d,s+c,o||null,u)!==!1&&d.content.size){let m=c+1;d.nodesBetween(Math.max(0,e-m),Math.min(d.content.size,t-m),r,s+m)}c=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,s){let o="",u=!0;return this.nodesBetween(e,t,(c,d)=>{let h=c.isText?c.text.slice(Math.max(e,d)-d,t-d):c.isLeaf?s?typeof s=="function"?s(c):s:c.type.spec.leafText?c.type.spec.leafText(c):"":"";c.isBlock&&(c.isLeaf&&h||c.isTextblock)&&r&&(u?u=!1:o+=r),o+=h},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,s=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(r)&&(s[s.length-1]=t.withText(t.text+r.text),o=1);o<e.content.length;o++)s.push(e.content[o]);return new K(s,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],s=0;if(t>e)for(let o=0,u=0;u<t;o++){let c=this.content[o],d=u+c.nodeSize;d>e&&((u<e||d>t)&&(c.isText?c=c.cut(Math.max(0,e-u),Math.min(c.text.length,t-u)):c=c.cut(Math.max(0,e-u-1),Math.min(c.content.size,t-u-1))),r.push(c),s+=c.nodeSize),u=d}return new K(r,s)}cutByIndex(e,t){return e==t?K.empty:e==0&&t==this.content.length?this:new K(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let s=this.content.slice(),o=this.size+t.nodeSize-r.nodeSize;return s[e]=t,new K(s,o)}addToStart(e){return new K([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new K(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let s=this.content[t];e(s,r,t),r+=s.nodeSize}}findDiffStart(e,t=0){return _v(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return Lv(this,e,t,r)}findIndex(e,t=-1){if(e==0)return ac(0,e);if(e==this.size)return ac(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,s=0;;r++){let o=this.child(r),u=s+o.nodeSize;if(u>=e)return u==e||t>0?ac(r+1,u):ac(r,s);s=u}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return K.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new K(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return K.empty;let t,r=0;for(let s=0;s<e.length;s++){let o=e[s];r+=o.nodeSize,s&&o.isText&&e[s-1].sameMarkup(o)?(t||(t=e.slice(0,s)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new K(t||e,r)}static from(e){if(!e)return K.empty;if(e instanceof K)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new K([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}K.empty=new K([],0);const Np={index:0,offset:0};function ac(n,e){return Np.index=n,Np.offset=e,Np}function Pc(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!Pc(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!Pc(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let Ye=class Sm{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let s=0;s<e.length;s++){let o=e[s];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,s));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,s)),t.push(this),r=!0),t&&t.push(o)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Pc(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let s=r.create(t.attrs);return r.checkAttrs(s.attrs),s}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Sm.none;if(e instanceof Sm)return[e];let t=e.slice();return t.sort((r,s)=>r.type.rank-s.type.rank),t}};Ye.none=[];class Ic extends Error{}class te{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=Bv(this.content,e+this.openStart,t);return r&&new te(r,this.openStart,this.openEnd)}removeBetween(e,t){return new te(zv(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return te.empty;let r=t.openStart||0,s=t.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new te(K.fromJSON(e,t.content),r,s)}static maxOpen(e,t=!0){let r=0,s=0;for(let o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.lastChild)s++;return new te(e,r,s)}}te.empty=new te(K.empty,0,0);function zv(n,e,t){let{index:r,offset:s}=n.findIndex(e),o=n.maybeChild(r),{index:u,offset:c}=n.findIndex(t);if(s==e||o.isText){if(c!=t&&!n.child(u).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=u)throw new RangeError("Removing non-flat range");return n.replaceChild(r,o.copy(zv(o.content,e-s-1,t-s-1)))}function Bv(n,e,t,r){let{index:s,offset:o}=n.findIndex(e),u=n.maybeChild(s);if(o==e||u.isText)return n.cut(0,e).append(t).append(n.cut(e));let c=Bv(u.content,e-o-1,t);return c&&n.replaceChild(s,u.copy(c))}function uM(n,e,t){if(t.openStart>n.depth)throw new Ic("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new Ic("Inconsistent open depths");return Hv(n,e,t,0)}function Hv(n,e,t,r){let s=n.index(r),o=n.node(r);if(s==e.index(r)&&r<n.depth-t.openStart){let u=Hv(n,e,t,r+1);return o.copy(o.content.replaceChild(s,u))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let u=n.parent,c=u.content;return Ls(u,c.cut(0,n.parentOffset).append(t.content).append(c.cut(e.parentOffset)))}else{let{start:u,end:c}=cM(t,n);return Ls(o,Pv(n,u,c,e,r))}else return Ls(o,qc(n,e,r))}function Uv(n,e){if(!e.type.compatibleContent(n.type))throw new Ic("Cannot join "+e.type.name+" onto "+n.type.name)}function vm(n,e,t){let r=n.node(t);return Uv(r,e.node(t)),r}function _s(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function ba(n,e,t,r){let s=(e||n).node(t),o=0,u=e?e.index(t):s.childCount;n&&(o=n.index(t),n.depth>t?o++:n.textOffset&&(_s(n.nodeAfter,r),o++));for(let c=o;c<u;c++)_s(s.child(c),r);e&&e.depth==t&&e.textOffset&&_s(e.nodeBefore,r)}function Ls(n,e){return n.type.checkContent(e),n.copy(e)}function Pv(n,e,t,r,s){let o=n.depth>s&&vm(n,e,s+1),u=r.depth>s&&vm(t,r,s+1),c=[];return ba(null,n,s,c),o&&u&&e.index(s)==t.index(s)?(Uv(o,u),_s(Ls(o,Pv(n,e,t,r,s+1)),c)):(o&&_s(Ls(o,qc(n,e,s+1)),c),ba(e,t,s,c),u&&_s(Ls(u,qc(t,r,s+1)),c)),ba(r,null,s,c),new K(c)}function qc(n,e,t){let r=[];if(ba(null,n,t,r),n.depth>t){let s=vm(n,e,t+1);_s(Ls(s,qc(n,e,t+1)),r)}return ba(e,null,t,r),new K(r)}function cM(n,e){let t=e.depth-n.openStart,s=e.node(t).copy(n.content);for(let o=t-1;o>=0;o--)s=e.node(o).copy(K.from(s));return{start:s.resolveNoCache(n.openStart+t),end:s.resolveNoCache(s.content.size-n.openEnd-t)}}class Ma{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(t);return r?e.child(t).cut(r):s}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],s=t==0?0:this.path[t*3-1]+1;for(let o=0;o<e;o++)s+=r.child(o).nodeSize;return s}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Ye.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),s=e.maybeChild(t);if(!r){let c=r;r=s,s=c}let o=r.marks;for(var u=0;u<o.length;u++)o[u].type.spec.inclusive===!1&&(!s||!o[u].isInSet(s.marks))&&(o=o[u--].removeFromSet(o));return o}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,s=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!s||!r[o].isInSet(s.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new Vc(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],s=0,o=t;for(let u=e;;){let{index:c,offset:d}=u.content.findIndex(o),h=o-d;if(r.push(u,c,s+d),!h||(u=u.child(c),u.isText))break;o=h-1,s+=d+1}return new Ma(t,r,o)}static resolveCached(e,t){let r=lx.get(e);if(r)for(let o=0;o<r.elts.length;o++){let u=r.elts[o];if(u.pos==t)return u}else lx.set(e,r=new fM);let s=r.elts[r.i]=Ma.resolve(e,t);return r.i=(r.i+1)%dM,s}}class fM{constructor(){this.elts=[],this.i=0}}const dM=12,lx=new WeakMap;class Vc{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const hM=Object.create(null);let $i=class Em{constructor(e,t,r,s=Ye.none){this.type=e,this.attrs=t,this.marks=s,this.content=r||K.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,s=0){this.content.nodesBetween(e,t,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,s){return this.content.textBetween(e,t,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&Pc(this.attrs,t||e.defaultAttrs||hM)&&Ye.sameSet(this.marks,r||Ye.none)}copy(e=null){return e==this.content?this:new Em(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Em(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return te.empty;let s=this.resolve(e),o=this.resolve(t),u=r?0:s.sharedDepth(t),c=s.start(u),h=s.node(u).content.cut(s.pos-c,o.pos-c);return new te(h,s.depth-u,o.depth-u)}replace(e,t,r){return uM(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:s}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(s==e||t.isText)return t;e-=s+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let s=this.content.child(t-1);return{node:s,index:t-1,offset:r-s.nodeSize}}resolve(e){return Ma.resolveCached(this,e)}resolveNoCache(e){return Ma.resolve(this,e)}rangeHasMark(e,t,r){let s=!1;return t>e&&this.nodesBetween(e,t,o=>(r.isInSet(o.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Iv(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=K.empty,s=0,o=r.childCount){let u=this.contentMatchAt(e).matchFragment(r,s,o),c=u&&u.matchFragment(this.content,t);if(!c||!c.validEnd)return!1;for(let d=s;d<o;d++)if(!this.type.allowsMarks(r.child(d).marks))return!1;return!0}canReplaceWith(e,t,r,s){if(s&&!this.type.allowsMarks(s))return!1;let o=this.contentMatchAt(e).matchType(r),u=o&&o.matchFragment(this.content,t);return u?u.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Ye.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Ye.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let s=K.fromJSON(e,t.content),o=e.nodeType(t.type).create(t.attrs,s,r);return o.type.checkAttrs(o.attrs),o}};$i.prototype.text=void 0;class Fc extends $i{constructor(e,t,r,s){if(super(e,t,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Iv(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Fc(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Fc(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Iv(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class Ps{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new pM(e,t);if(r.next==null)return Ps.empty;let s=qv(r);r.next&&r.err("Unexpected trailing text");let o=vM(SM(s));return EM(o,r),o}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let s=this;for(let o=t;s&&o<r;o++)s=s.matchType(e.child(o).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let s=[this];function o(u,c){let d=u.matchFragment(e,r);if(d&&(!t||d.validEnd))return K.from(c.map(h=>h.createAndFill()));for(let h=0;h<u.next.length;h++){let{type:m,next:y}=u.next[h];if(!(m.isText||m.hasRequiredAttrs())&&s.indexOf(y)==-1){s.push(y);let b=o(y,c.concat(m));if(b)return b}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),o=s.match;if(o.matchType(e)){let u=[];for(let c=s;c.type;c=c.via)u.push(c.type);return u.reverse()}for(let u=0;u<o.next.length;u++){let{type:c,next:d}=o.next[u];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in t)&&(!s.type||d.validEnd)&&(r.push({match:c.contentMatch,type:c,via:s}),t[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&t(r.next[s].next)}return t(this),e.map((r,s)=>{let o=s+(r.validEnd?"*":" ")+" ";for(let u=0;u<r.next.length;u++)o+=(u?", ":"")+r.next[u].type.name+"->"+e.indexOf(r.next[u].next);return o}).join(`
`)}}Ps.empty=new Ps(!0);class pM{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function qv(n){let e=[];do e.push(mM(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function mM(n){let e=[];do e.push(gM(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function gM(n){let e=xM(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=yM(n,e);else break;return e}function ox(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function yM(n,e){let t=ox(n),r=t;return n.eat(",")&&(n.next!="}"?r=ox(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function bM(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let s=[];for(let o in t){let u=t[o];u.isInGroup(e)&&s.push(u)}return s.length==0&&n.err("No node type or group '"+e+"' found"),s}function xM(n){if(n.eat("(")){let e=qv(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=bM(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function SM(n){let e=[[]];return s(o(n,0),t()),e;function t(){return e.push([])-1}function r(u,c,d){let h={term:d,to:c};return e[u].push(h),h}function s(u,c){u.forEach(d=>d.to=c)}function o(u,c){if(u.type=="choice")return u.exprs.reduce((d,h)=>d.concat(o(h,c)),[]);if(u.type=="seq")for(let d=0;;d++){let h=o(u.exprs[d],c);if(d==u.exprs.length-1)return h;s(h,c=t())}else if(u.type=="star"){let d=t();return r(c,d),s(o(u.expr,d),d),[r(d)]}else if(u.type=="plus"){let d=t();return s(o(u.expr,c),d),s(o(u.expr,d),d),[r(d)]}else{if(u.type=="opt")return[r(c)].concat(o(u.expr,c));if(u.type=="range"){let d=c;for(let h=0;h<u.min;h++){let m=t();s(o(u.expr,d),m),d=m}if(u.max==-1)s(o(u.expr,d),d);else for(let h=u.min;h<u.max;h++){let m=t();r(d,m),s(o(u.expr,d),m),d=m}return[r(d)]}else{if(u.type=="name")return[r(c,void 0,u.value)];throw new Error("Unknown expr type")}}}}function Vv(n,e){return e-n}function ax(n,e){let t=[];return r(e),t.sort(Vv);function r(s){let o=n[s];if(o.length==1&&!o[0].term)return r(o[0].to);t.push(s);for(let u=0;u<o.length;u++){let{term:c,to:d}=o[u];!c&&t.indexOf(d)==-1&&r(d)}}}function vM(n){let e=Object.create(null);return t(ax(n,0));function t(r){let s=[];r.forEach(u=>{n[u].forEach(({term:c,to:d})=>{if(!c)return;let h;for(let m=0;m<s.length;m++)s[m][0]==c&&(h=s[m][1]);ax(n,d).forEach(m=>{h||s.push([c,h=[]]),h.indexOf(m)==-1&&h.push(m)})})});let o=e[r.join(",")]=new Ps(r.indexOf(n.length-1)>-1);for(let u=0;u<s.length;u++){let c=s[u][1].sort(Vv);o.next.push({type:s[u][0],next:e[c.join(",")]||t(c)})}return o}}function EM(n,e){for(let t=0,r=[n];t<r.length;t++){let s=r[t],o=!s.validEnd,u=[];for(let c=0;c<s.next.length;c++){let{type:d,next:h}=s.next[c];u.push(d.name),o&&!(d.isText||d.hasRequiredAttrs())&&(o=!1),r.indexOf(h)==-1&&r.push(h)}o&&e.err("Only non-generatable nodes ("+u.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Fv(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function $v(n,e){let t=Object.create(null);for(let r in n){let s=e&&e[r];if(s===void 0){let o=n[r];if(o.hasDefault)s=o.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=s}return t}function Gv(n,e,t,r){for(let s in e)if(!(s in n))throw new RangeError(`Unsupported attribute ${s} for ${t} of type ${s}`);for(let s in n){let o=n[s];o.validate&&o.validate(e[s])}}function Yv(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new AM(n,r,e[r]);return t}let ux=class Kv{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Yv(e,r.attrs),this.defaultAttrs=Fv(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ps.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:$v(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new $i(this,this.computeAttrs(e),K.from(t),Ye.setFrom(r))}createChecked(e=null,t,r){return t=K.from(t),this.checkContent(t),new $i(this,this.computeAttrs(e),t,Ye.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=K.from(t),t.size){let u=this.contentMatch.fillBefore(t);if(!u)return null;t=u.append(t)}let s=this.contentMatch.matchFragment(t),o=s&&s.fillBefore(K.empty,!0);return o?new $i(this,e,t.append(o),Ye.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Gv(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:Ye.none:e}static compile(e,t){let r=Object.create(null);e.forEach((o,u)=>r[o]=new Kv(o,t,u));let s=t.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function TM(n,e,t){let r=t.split("|");return s=>{let o=s===null?"null":typeof s;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${o}`)}}class AM{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?TM(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Pf{constructor(e,t,r,s){this.name=e,this.rank=t,this.schema=r,this.spec=s,this.attrs=Yv(e,s.attrs),this.excluded=null;let o=Fv(this.attrs);this.instance=o?new Ye(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Ye(this,$v(this.attrs,e))}static compile(e,t){let r=Object.create(null),s=0;return e.forEach((o,u)=>r[o]=new Pf(o,s++,t,u)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){Gv(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class Xv{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let s in e)t[s]=e[s];t.nodes=Bt.from(e.nodes),t.marks=Bt.from(e.marks||{}),this.nodes=ux.compile(this.spec.nodes,this),this.marks=Pf.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let o=this.nodes[s],u=o.spec.content||"",c=o.spec.marks;if(o.contentMatch=r[u]||(r[u]=Ps.parse(u,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=c=="_"?null:c?cx(this,c.split(" ")):c==""||!o.inlineContent?[]:null}for(let s in this.marks){let o=this.marks[s],u=o.spec.excludes;o.excluded=u==null?[o]:u==""?[]:cx(this,u.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof ux){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,s)}text(e,t){let r=this.nodes.text;return new Fc(r,r.defaultAttrs,e,Ye.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return $i.fromJSON(this,e)}markFromJSON(e){return Ye.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function cx(n,e){let t=[];for(let r=0;r<e.length;r++){let s=e[r],o=n.marks[s],u=o;if(o)t.push(o);else for(let c in n.marks){let d=n.marks[c];(s=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(s)>-1)&&t.push(u=d)}if(!u)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function wM(n){return n.tag!=null}function CM(n){return n.style!=null}class Gi{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(s=>{if(wM(s))this.tags.push(s);else if(CM(s)){let o=/[^=]*/.exec(s.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let o=e.nodes[s.node];return o.contentMatch.matchType(o)})}parse(e,t={}){let r=new dx(this,t,!1);return r.addAll(e,Ye.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new dx(this,t,!0);return r.addAll(e,Ye.none,t.from,t.to),te.maxOpen(r.finish())}matchTag(e,t,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let o=this.tags[s];if(kM(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||t.matchesContext(o.context))){if(o.getAttrs){let u=o.getAttrs(e);if(u===!1)continue;o.attrs=u||void 0}return o}}}matchStyle(e,t,r,s){for(let o=s?this.styles.indexOf(s)+1:0;o<this.styles.length;o++){let u=this.styles[o],c=u.style;if(!(c.indexOf(e)!=0||u.context&&!r.matchesContext(u.context)||c.length>e.length&&(c.charCodeAt(e.length)!=61||c.slice(e.length+1)!=t))){if(u.getAttrs){let d=u.getAttrs(t);if(d===!1)continue;u.attrs=d||void 0}return u}}}static schemaRules(e){let t=[];function r(s){let o=s.priority==null?50:s.priority,u=0;for(;u<t.length;u++){let c=t[u];if((c.priority==null?50:c.priority)<o)break}t.splice(u,0,s)}for(let s in e.marks){let o=e.marks[s].spec.parseDOM;o&&o.forEach(u=>{r(u=hx(u)),u.mark||u.ignore||u.clearMark||(u.mark=s)})}for(let s in e.nodes){let o=e.nodes[s].spec.parseDOM;o&&o.forEach(u=>{r(u=hx(u)),u.node||u.ignore||u.mark||(u.node=s)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Gi(e,Gi.schemaRules(e)))}}const Jv={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},NM={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Qv={ol:!0,ul:!0},Ra=1,Tm=2,Cc=4;function fx(n,e,t){return e!=null?(e?Ra:0)|(e==="full"?Tm:0):n&&n.whitespace=="pre"?Ra|Tm:t&-5}class uc{constructor(e,t,r,s,o,u){this.type=e,this.attrs=t,this.marks=r,this.solid=s,this.options=u,this.content=[],this.activeMarks=Ye.none,this.match=o||(u&Cc?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(K.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Ra)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-s[0].length))}}let t=K.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(K.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Jv.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class dx{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let s=t.topNode,o,u=fx(null,t.preserveWhitespace,0)|(r?Cc:0);s?o=new uc(s.type,s.attrs,Ye.none,!0,t.topMatch||s.type.contentMatch,u):r?o=new uc(null,null,Ye.none,!0,null,u):o=new uc(e.schema.topNodeType,null,Ye.none,!0,null,u),this.nodes=[o],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,s=this.top,o=s.options&Tm?"full":this.localPreserveWS||(s.options&Ra)>0;if(o==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(o)o!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let u=s.content[s.content.length-1],c=e.previousSibling;(!u||c&&c.nodeName=="BR"||u.isText&&/[ \t\r\n\u000c]$/.test(u.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let s=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let u=e.nodeName.toLowerCase(),c;Qv.hasOwnProperty(u)&&this.parser.normalizeLists&&OM(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(c=this.parser.matchTag(e,this,r));e:if(d?d.ignore:NM.hasOwnProperty(u))this.findInside(e),this.ignoreFallback(e,t);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let h,m=this.needsBlock;if(Jv.hasOwnProperty(u))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),h=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let y=d&&d.skip?t:this.readStyles(e,t);y&&this.addAll(e,y),h&&this.sync(o),this.needsBlock=m}else{let h=this.readStyles(e,t);h&&this.addElementByRule(e,d,h,d.consuming===!1?c:void 0)}this.localPreserveWS=s}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let o=this.parser.matchedStyles[s],u=r.getPropertyValue(o);if(u)for(let c=void 0;;){let d=this.parser.matchStyle(o,u,this,c);if(!d)break;if(d.ignore)return null;if(d.clearMark?t=t.filter(h=>!d.clearMark(h)):t=t.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)c=d;else break}}return t}addElementByRule(e,t,r,s){let o,u;if(t.node)if(u=this.parser.schema.nodes[t.node],u.isLeaf)this.insertNode(u.create(t.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let d=this.enter(u,t.attrs||null,r,t.preserveWhitespace);d&&(o=!0,r=d)}else{let d=this.parser.schema.marks[t.mark];r=r.concat(d.create(t.attrs))}let c=this.top;if(u&&u.isLeaf)this.findInside(e);else if(s)this.addElement(e,r,s);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,r,!1));else{let d=e;typeof t.contentElement=="string"?d=e.querySelector(t.contentElement):typeof t.contentElement=="function"?d=t.contentElement(e):t.contentElement&&(d=t.contentElement),this.findAround(e,d,!0),this.addAll(d,r),this.findAround(e,d,!1)}o&&this.sync(c)&&this.open--}addAll(e,t,r,s){let o=r||0;for(let u=r?e.childNodes[r]:e.firstChild,c=s==null?null:e.childNodes[s];u!=c;u=u.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(u,t);this.findAtPoint(e,o)}findPlace(e,t,r){let s,o;for(let u=this.open,c=0;u>=0;u--){let d=this.nodes[u],h=d.findWrapping(e);if(h&&(!s||s.length>h.length+c)&&(s=h,o=d,!h.length))break;if(d.solid){if(r)break;c+=2}}if(!s)return null;this.sync(o);for(let u=0;u<s.length;u++)t=this.enterInner(s[u],null,t,!1);return t}insertNode(e,t,r){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(t=this.enterInner(o,null,t))}let s=this.findPlace(e,t,r);if(s){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let u=Ye.none;for(let c of s.concat(e.marks))(o.type?o.type.allowsMarkType(c.type):px(c.type,e.type))&&(u=c.addToSet(u));return o.content.push(e.mark(u)),!0}return!1}enter(e,t,r,s){let o=this.findPlace(e.create(t),r,!1);return o&&(o=this.enterInner(e,t,r,!0,s)),o}enterInner(e,t,r,s=!1,o){this.closeExtra();let u=this.top;u.match=u.match&&u.match.matchType(e);let c=fx(e,o,u.options);u.options&Cc&&u.content.length==0&&(c|=Cc);let d=Ye.none;return r=r.filter(h=>(u.type?u.type.allowsMarkType(h.type):px(h.type,e))?(d=h.addToSet(d),!1):!0),this.nodes.push(new uc(e,t,d,s,null,c)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=Ra)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&t.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(s?0:1),u=(c,d)=>{for(;c>=0;c--){let h=t[c];if(h==""){if(c==t.length-1||c==0)continue;for(;d>=o;d--)if(u(c-1,d))return!0;return!1}else{let m=d>0||d==0&&s?this.nodes[d].type:r&&d>=o?r.node(d-o).type:null;if(!m||m.name!=h&&!m.isInGroup(h))return!1;d--}}return!0};return u(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function OM(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&Qv.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function kM(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function hx(n){let e={};for(let t in n)e[t]=n[t];return e}function px(n,e){let t=e.schema.nodes;for(let r in t){let s=t[r];if(!s.allowsMarkType(n))continue;let o=[],u=c=>{o.push(c);for(let d=0;d<c.edgeCount;d++){let{type:h,next:m}=c.edge(d);if(h==e||o.indexOf(m)<0&&u(m))return!0}};if(u(s.contentMatch))return!0}}class $s{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=Op(t).createDocumentFragment());let s=r,o=[];return e.forEach(u=>{if(o.length||u.marks.length){let c=0,d=0;for(;c<o.length&&d<u.marks.length;){let h=u.marks[d];if(!this.marks[h.type.name]){d++;continue}if(!h.eq(o[c][0])||h.type.spec.spanning===!1)break;c++,d++}for(;c<o.length;)s=o.pop()[1];for(;d<u.marks.length;){let h=u.marks[d++],m=this.serializeMark(h,u.isInline,t);m&&(o.push([h,s]),s.appendChild(m.dom),s=m.contentDOM||m.dom)}}s.appendChild(this.serializeNodeInner(u,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:s}=Nc(Op(t),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,s)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let s=e.marks.length-1;s>=0;s--){let o=this.serializeMark(e.marks[s],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,t,r={}){let s=this.marks[e.type.name];return s&&Nc(Op(r),s(e,t),null,e.attrs)}static renderSpec(e,t,r=null,s){return Nc(e,t,r,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new $s(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=mx(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return mx(e.marks)}}function mx(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function Op(n){return n.document||window.document}const gx=new WeakMap;function MM(n){let e=gx.get(n);return e===void 0&&gx.set(n,e=RM(n)),e}function RM(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let s=0;s<r.length;s++)t(r[s]);else for(let s in r)t(r[s])}return t(n),e}function Nc(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],o;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=MM(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let u=s.indexOf(" ");u>0&&(t=s.slice(0,u),s=s.slice(u+1));let c,d=t?n.createElementNS(t,s):n.createElement(s),h=e[1],m=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){m=2;for(let y in h)if(h[y]!=null){let b=y.indexOf(" ");b>0?d.setAttributeNS(y.slice(0,b),y.slice(b+1),h[y]):d.setAttribute(y,h[y])}}for(let y=m;y<e.length;y++){let b=e[y];if(b===0){if(y<e.length-1||y>m)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:S,contentDOM:x}=Nc(n,b,t,r);if(d.appendChild(S),x){if(c)throw new RangeError("Multiple content holes");c=x}}}return{dom:d,contentDOM:c}}const Wv=65535,Zv=Math.pow(2,16);function DM(n,e){return n+e*Zv}function yx(n){return n&Wv}function jM(n){return(n-(n&Wv))/Zv}const eE=1,tE=2,Oc=4,nE=8;class Am{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&nE)>0}get deletedBefore(){return(this.delInfo&(eE|Oc))>0}get deletedAfter(){return(this.delInfo&(tE|Oc))>0}get deletedAcross(){return(this.delInfo&Oc)>0}}class On{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&On.empty)return On.empty}recover(e){let t=0,r=yx(e);if(!this.inverted)for(let s=0;s<r;s++)t+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+t+jM(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let s=0,o=this.inverted?2:1,u=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?s:0);if(d>e)break;let h=this.ranges[c+o],m=this.ranges[c+u],y=d+h;if(e<=y){let b=h?e==d?-1:e==y?1:t:t,S=d+s+(b<0?0:m);if(r)return S;let x=e==(t<0?d:y)?null:DM(c/3,e-d),v=e==d?tE:e==y?eE:Oc;return(t<0?e!=d:e!=y)&&(v|=nE),new Am(S,v,x)}s+=m-h}return r?e+s:new Am(e+s,0,null)}touches(e,t){let r=0,s=yx(t),o=this.inverted?2:1,u=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?r:0);if(d>e)break;let h=this.ranges[c+o],m=d+h;if(e<=m&&c==s*3)return!0;r+=this.ranges[c+u]-h}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,o=0;s<this.ranges.length;s+=3){let u=this.ranges[s],c=u-(this.inverted?o:0),d=u+(this.inverted?0:o),h=this.ranges[s+t],m=this.ranges[s+r];e(c,c+h,d,d+m),o+=m-h}}invert(){return new On(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?On.empty:new On(e<0?[0,-e,0]:[0,0,e])}}On.empty=new On([]);class Da{constructor(e,t,r=0,s=e?e.length:0){this.mirror=t,this.from=r,this.to=s,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new Da(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let s=e.getMirror(t);this.appendMap(e._maps[t],s!=null&&s<t?r+s:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let s=e.getMirror(t);this.appendMap(e._maps[t].invert(),s!=null&&s>t?r-s-1:void 0)}}invert(){let e=new Da;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let s=0;for(let o=this.from;o<this.to;o++){let u=this._maps[o],c=u.mapResult(e,t);if(c.recover!=null){let d=this.getMirror(o);if(d!=null&&d>o&&d<this.to){o=d,e=this._maps[d].recover(c.recover);continue}}s|=c.delInfo,e=c.pos}return r?e:new Am(e,s,null)}}const kp=Object.create(null);class Jt{getMap(){return On.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=kp[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in kp)throw new RangeError("Duplicate use of step JSON ID "+e);return kp[e]=t,t.prototype.jsonID=e,t}}class mt{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new mt(e,null)}static fail(e){return new mt(null,e)}static fromReplace(e,t,r,s){try{return mt.ok(e.replace(t,r,s))}catch(o){if(o instanceof Ic)return mt.fail(o.message);throw o}}}function sg(n,e,t){let r=[];for(let s=0;s<n.childCount;s++){let o=n.child(s);o.content.size&&(o=o.copy(sg(o.content,e,o))),o.isInline&&(o=e(o,t,s)),r.push(o)}return K.fromArray(r)}class qi extends Jt{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),o=new te(sg(t.content,(u,c)=>!u.isAtom||!c.type.allowsMarkType(this.mark.type)?u:u.mark(this.mark.addToSet(u.marks)),s),t.openStart,t.openEnd);return mt.fromReplace(e,this.from,this.to,o)}invert(){return new Er(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new qi(t.pos,r.pos,this.mark)}merge(e){return e instanceof qi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new qi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new qi(t.from,t.to,e.markFromJSON(t.mark))}}Jt.jsonID("addMark",qi);class Er extends Jt{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new te(sg(t.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),t.openStart,t.openEnd);return mt.fromReplace(e,this.from,this.to,r)}invert(){return new qi(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Er(t.pos,r.pos,this.mark)}merge(e){return e instanceof Er&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Er(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Er(t.from,t.to,e.markFromJSON(t.mark))}}Jt.jsonID("removeMark",Er);class Vi extends Jt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return mt.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return mt.fromReplace(e,this.pos,this.pos+1,new te(K.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let s=0;s<t.marks.length;s++)if(!t.marks[s].isInSet(r))return new Vi(this.pos,t.marks[s]);return new Vi(this.pos,this.mark)}}return new Is(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Vi(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Vi(t.pos,e.markFromJSON(t.mark))}}Jt.jsonID("addNodeMark",Vi);class Is extends Jt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return mt.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return mt.fromReplace(e,this.pos,this.pos+1,new te(K.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Vi(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Is(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Is(t.pos,e.markFromJSON(t.mark))}}Jt.jsonID("removeNodeMark",Is);class wt extends Jt{constructor(e,t,r,s=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=s}apply(e){return this.structure&&wm(e,this.from,this.to)?mt.fail("Structure replace would overwrite content"):mt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new On([this.from,this.to-this.from,this.slice.size])}invert(e){return new wt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new wt(t.pos,Math.max(t.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof wt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?te.empty:new te(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new wt(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?te.empty:new te(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new wt(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new wt(t.from,t.to,te.fromJSON(e,t.slice),!!t.structure)}}Jt.jsonID("replace",wt);class Ct extends Jt{constructor(e,t,r,s,o,u,c=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=s,this.slice=o,this.insert=u,this.structure=c}apply(e){if(this.structure&&(wm(e,this.from,this.gapFrom)||wm(e,this.gapTo,this.to)))return mt.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return mt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?mt.fromReplace(e,this.from,this.to,r):mt.fail("Content does not fit in gap")}getMap(){return new On([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Ct(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||s<t.pos||o>r.pos?null:new Ct(t.pos,r.pos,s,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ct(t.from,t.to,t.gapFrom,t.gapTo,te.fromJSON(e,t.slice),t.insert,!!t.structure)}}Jt.jsonID("replaceAround",Ct);function wm(n,e,t){let r=n.resolve(e),s=t-e,o=r.depth;for(;s>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,s--;if(s>0){let u=r.node(o).maybeChild(r.indexAfter(o));for(;s>0;){if(!u||u.isLeaf)return!0;u=u.firstChild,s--}}return!1}function _M(n,e,t,r){let s=[],o=[],u,c;n.doc.nodesBetween(e,t,(d,h,m)=>{if(!d.isInline)return;let y=d.marks;if(!r.isInSet(y)&&m.type.allowsMarkType(r.type)){let b=Math.max(h,e),S=Math.min(h+d.nodeSize,t),x=r.addToSet(y);for(let v=0;v<y.length;v++)y[v].isInSet(x)||(u&&u.to==b&&u.mark.eq(y[v])?u.to=S:s.push(u=new Er(b,S,y[v])));c&&c.to==b?c.to=S:o.push(c=new qi(b,S,r))}}),s.forEach(d=>n.step(d)),o.forEach(d=>n.step(d))}function LM(n,e,t,r){let s=[],o=0;n.doc.nodesBetween(e,t,(u,c)=>{if(!u.isInline)return;o++;let d=null;if(r instanceof Pf){let h=u.marks,m;for(;m=r.isInSet(h);)(d||(d=[])).push(m),h=m.removeFromSet(h)}else r?r.isInSet(u.marks)&&(d=[r]):d=u.marks;if(d&&d.length){let h=Math.min(c+u.nodeSize,t);for(let m=0;m<d.length;m++){let y=d[m],b;for(let S=0;S<s.length;S++){let x=s[S];x.step==o-1&&y.eq(s[S].style)&&(b=x)}b?(b.to=h,b.step=o):s.push({style:y,from:Math.max(c,e),to:h,step:o})}}}),s.forEach(u=>n.step(new Er(u.from,u.to,u.style)))}function lg(n,e,t,r=t.contentMatch,s=!0){let o=n.doc.nodeAt(e),u=[],c=e+1;for(let d=0;d<o.childCount;d++){let h=o.child(d),m=c+h.nodeSize,y=r.matchType(h.type);if(!y)u.push(new wt(c,m,te.empty));else{r=y;for(let b=0;b<h.marks.length;b++)t.allowsMarkType(h.marks[b].type)||n.step(new Er(c,m,h.marks[b]));if(s&&h.isText&&t.whitespace!="pre"){let b,S=/\r?\n|\r/g,x;for(;b=S.exec(h.text);)x||(x=new te(K.from(t.schema.text(" ",t.allowedMarks(h.marks))),0,0)),u.push(new wt(c+b.index,c+b.index+b[0].length,x))}}c=m}if(!r.validEnd){let d=r.fillBefore(K.empty,!0);n.replace(c,c,new te(d,0,0))}for(let d=u.length-1;d>=0;d--)n.step(u[d])}function zM(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function Ql(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let s=n.$from.node(r),o=n.$from.index(r),u=n.$to.indexAfter(r);if(r<n.depth&&s.canReplace(o,u,t))return r;if(r==0||s.type.spec.isolating||!zM(s,o,u))break}return null}function BM(n,e,t){let{$from:r,$to:s,depth:o}=e,u=r.before(o+1),c=s.after(o+1),d=u,h=c,m=K.empty,y=0;for(let x=o,v=!1;x>t;x--)v||r.index(x)>0?(v=!0,m=K.from(r.node(x).copy(m)),y++):d--;let b=K.empty,S=0;for(let x=o,v=!1;x>t;x--)v||s.after(x+1)<s.end(x)?(v=!0,b=K.from(s.node(x).copy(b)),S++):h++;n.step(new Ct(d,h,u,c,new te(m.append(b),y,S),m.size-y,!0))}function og(n,e,t=null,r=n){let s=HM(n,e),o=s&&UM(r,e);return o?s.map(bx).concat({type:e,attrs:t}).concat(o.map(bx)):null}function bx(n){return{type:n,attrs:null}}function HM(n,e){let{parent:t,startIndex:r,endIndex:s}=n,o=t.contentMatchAt(r).findWrapping(e);if(!o)return null;let u=o.length?o[0]:e;return t.canReplaceWith(r,s,u)?o:null}function UM(n,e){let{parent:t,startIndex:r,endIndex:s}=n,o=t.child(r),u=e.contentMatch.findWrapping(o.type);if(!u)return null;let d=(u.length?u[u.length-1]:e).contentMatch;for(let h=r;d&&h<s;h++)d=d.matchType(t.child(h).type);return!d||!d.validEnd?null:u}function PM(n,e,t){let r=K.empty;for(let u=t.length-1;u>=0;u--){if(r.size){let c=t[u].type.contentMatch.matchFragment(r);if(!c||!c.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=K.from(t[u].type.create(t[u].attrs,r))}let s=e.start,o=e.end;n.step(new Ct(s,o,s,o,new te(r,0,0),t.length,!0))}function IM(n,e,t,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=n.steps.length;n.doc.nodesBetween(e,t,(u,c)=>{let d=typeof s=="function"?s(u):s;if(u.isTextblock&&!u.hasMarkup(r,d)&&qM(n.doc,n.mapping.slice(o).map(c),r)){let h=null;if(r.schema.linebreakReplacement){let S=r.whitespace=="pre",x=!!r.contentMatch.matchType(r.schema.linebreakReplacement);S&&!x?h=!1:!S&&x&&(h=!0)}h===!1&&iE(n,u,c,o),lg(n,n.mapping.slice(o).map(c,1),r,void 0,h===null);let m=n.mapping.slice(o),y=m.map(c,1),b=m.map(c+u.nodeSize,1);return n.step(new Ct(y,b,y+1,b-1,new te(K.from(r.create(d,null,u.marks)),0,0),1,!0)),h===!0&&rE(n,u,c,o),!1}})}function rE(n,e,t,r){e.forEach((s,o)=>{if(s.isText){let u,c=/\r?\n|\r/g;for(;u=c.exec(s.text);){let d=n.mapping.slice(r).map(t+1+o+u.index);n.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function iE(n,e,t,r){e.forEach((s,o)=>{if(s.type==s.type.schema.linebreakReplacement){let u=n.mapping.slice(r).map(t+1+o);n.replaceWith(u,u+1,e.type.schema.text(`
`))}})}function qM(n,e,t){let r=n.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,t)}function VM(n,e,t,r,s){let o=n.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");t||(t=o.type);let u=t.create(r,null,s||o.marks);if(o.isLeaf)return n.replaceWith(e,e+o.nodeSize,u);if(!t.validContent(o.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new Ct(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new te(K.from(u),0,0),1,!0))}function ii(n,e,t=1,r){let s=n.resolve(e),o=s.depth-t,u=r&&r[r.length-1]||s.parent;if(o<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!u.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let h=s.depth-1,m=t-2;h>o;h--,m--){let y=s.node(h),b=s.index(h);if(y.type.spec.isolating)return!1;let S=y.content.cutByIndex(b,y.childCount),x=r&&r[m+1];x&&(S=S.replaceChild(0,x.type.create(x.attrs)));let v=r&&r[m]||y;if(!y.canReplace(b+1,y.childCount)||!v.type.validContent(S))return!1}let c=s.indexAfter(o),d=r&&r[0];return s.node(o).canReplaceWith(c,c,d?d.type:s.node(o+1).type)}function FM(n,e,t=1,r){let s=n.doc.resolve(e),o=K.empty,u=K.empty;for(let c=s.depth,d=s.depth-t,h=t-1;c>d;c--,h--){o=K.from(s.node(c).copy(o));let m=r&&r[h];u=K.from(m?m.type.create(m.attrs,u):s.node(c).copy(u))}n.step(new wt(e,e,new te(o.append(u),t,t),!0))}function Wi(n,e){let t=n.resolve(e),r=t.index();return sE(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function $M(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let s=0;s<e.childCount;s++){let o=e.child(s),u=o.type==r?n.type.schema.nodes.text:o.type;if(t=t.matchType(u),!t||!n.type.allowsMarks(o.marks))return!1}return t.validEnd}function sE(n,e){return!!(n&&e&&!n.isLeaf&&$M(n,e))}function If(n,e,t=-1){let r=n.resolve(e);for(let s=r.depth;;s--){let o,u,c=r.index(s);if(s==r.depth?(o=r.nodeBefore,u=r.nodeAfter):t>0?(o=r.node(s+1),c++,u=r.node(s).maybeChild(c)):(o=r.node(s).maybeChild(c-1),u=r.node(s+1)),o&&!o.isTextblock&&sE(o,u)&&r.node(s).canReplace(c,c+1))return e;if(s==0)break;e=t<0?r.before(s):r.after(s)}}function GM(n,e,t){let r=null,{linebreakReplacement:s}=n.doc.type.schema,o=n.doc.resolve(e-t),u=o.node().type;if(s&&u.inlineContent){let m=u.whitespace=="pre",y=!!u.contentMatch.matchType(s);m&&!y?r=!1:!m&&y&&(r=!0)}let c=n.steps.length;if(r===!1){let m=n.doc.resolve(e+t);iE(n,m.node(),m.before(),c)}u.inlineContent&&lg(n,e+t-1,u,o.node().contentMatchAt(o.index()),r==null);let d=n.mapping.slice(c),h=d.map(e-t);if(n.step(new wt(h,d.map(e+t,-1),te.empty,!0)),r===!0){let m=n.doc.resolve(h);rE(n,m.node(),m.before(),n.steps.length)}return n}function YM(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let o=r.index(s);if(r.node(s).canReplaceWith(o,o,t))return r.before(s+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let o=r.indexAfter(s);if(r.node(s).canReplaceWith(o,o,t))return r.after(s+1);if(o<r.node(s).childCount)return null}return null}function lE(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let s=t.content;for(let o=0;o<t.openStart;o++)s=s.firstChild.content;for(let o=1;o<=(t.openStart==0&&t.size?2:1);o++)for(let u=r.depth;u>=0;u--){let c=u==r.depth?0:r.pos<=(r.start(u+1)+r.end(u+1))/2?-1:1,d=r.index(u)+(c>0?1:0),h=r.node(u),m=!1;if(o==1)m=h.canReplace(d,d,s);else{let y=h.contentMatchAt(d).findWrapping(s.firstChild.type);m=y&&h.canReplaceWith(d,d,y[0])}if(m)return c==0?r.pos:c<0?r.before(u+1):r.after(u+1)}return null}function qf(n,e,t=e,r=te.empty){if(e==t&&!r.size)return null;let s=n.resolve(e),o=n.resolve(t);return oE(s,o,r)?new wt(e,t,r):new KM(s,o,r).fit()}function oE(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class KM{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=K.empty;for(let s=0;s<=e.depth;s++){let o=e.node(s);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=K.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let o=this.placed,u=r.depth,c=s.depth;for(;u&&c&&o.childCount==1;)o=o.firstChild.content,u--,c--;let d=new te(o,u,c);return e>-1?new Ct(r.pos,e,this.$to.pos,this.$to.end(),d,t):d.size||r.pos!=this.$to.pos?new wt(r.pos,s.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let o=t.firstChild;if(t.childCount>1&&(s=0),o.type.spec.isolating&&s<=r){e=r;break}t=o.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let s,o=null;r?(o=Mp(this.unplaced.content,r-1).firstChild,s=o.content):s=this.unplaced.content;let u=s.firstChild;for(let c=this.depth;c>=0;c--){let{type:d,match:h}=this.frontier[c],m,y=null;if(t==1&&(u?h.matchType(u.type)||(y=h.fillBefore(K.from(u),!1)):o&&d.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:c,parent:o,inject:y};if(t==2&&u&&(m=h.findWrapping(u.type)))return{sliceDepth:r,frontierDepth:c,parent:o,wrap:m};if(o&&h.matchType(o.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,s=Mp(e,t);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new te(e,t+1,Math.max(r,s.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,s=Mp(e,t);if(s.childCount<=1&&t>0){let o=e.size-t<=t+s.size;this.unplaced=new te(pa(e,t-1,1),t-1,o?t-1:r)}else this.unplaced=new te(pa(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:s,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let v=0;v<o.length;v++)this.openFrontierNode(o[v]);let u=this.unplaced,c=r?r.content:u.content,d=u.openStart-e,h=0,m=[],{match:y,type:b}=this.frontier[t];if(s){for(let v=0;v<s.childCount;v++)m.push(s.child(v));y=y.matchFragment(s)}let S=c.size+e-(u.content.size-u.openEnd);for(;h<c.childCount;){let v=c.child(h),A=y.matchType(v.type);if(!A)break;h++,(h>1||d==0||v.content.size)&&(y=A,m.push(aE(v.mark(b.allowedMarks(v.marks)),h==1?d:0,h==c.childCount?S:-1)))}let x=h==c.childCount;x||(S=-1),this.placed=ma(this.placed,t,K.from(m)),this.frontier[t].match=y,x&&S<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let v=0,A=c;v<S;v++){let C=A.lastChild;this.frontier.push({type:C.type,match:C.contentMatchAt(C.childCount)}),A=C.content}this.unplaced=x?e==0?te.empty:new te(pa(u.content,e-1,1),e-1,S<0?u.openEnd:e-1):new te(pa(u.content,e,h),u.openStart,u.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!Rp(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:s}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),u=Rp(e,t,s,r,o);if(u){for(let c=t-1;c>=0;c--){let{match:d,type:h}=this.frontier[c],m=Rp(e,c,h,d,!0);if(!m||m.childCount)continue e}return{depth:t,fit:u,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=ma(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let s=e.node(r),o=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,o)}return e}openFrontierNode(e,t=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=ma(this.placed,this.depth,K.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(K.empty,!0);t.childCount&&(this.placed=ma(this.placed,this.frontier.length,t))}}function pa(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(pa(n.firstChild.content,e-1,t)))}function ma(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(ma(n.lastChild.content,e-1,t)))}function Mp(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function aE(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,aE(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(K.empty,!0)))),n.copy(r)}function Rp(n,e,t,r,s){let o=n.node(e),u=s?n.indexAfter(e):n.index(e);if(u==o.childCount&&!t.compatibleContent(o.type))return null;let c=r.fillBefore(o.content,!0,u);return c&&!XM(t,o.content,u)?c:null}function XM(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function JM(n){return n.spec.defining||n.spec.definingForContent}function QM(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let s=n.doc.resolve(e),o=n.doc.resolve(t);if(oE(s,o,r))return n.step(new wt(e,t,r));let u=cE(s,n.doc.resolve(t));u[u.length-1]==0&&u.pop();let c=-(s.depth+1);u.unshift(c);for(let b=s.depth,S=s.pos-1;b>0;b--,S--){let x=s.node(b).type.spec;if(x.defining||x.definingAsContext||x.isolating)break;u.indexOf(b)>-1?c=b:s.before(b)==S&&u.splice(1,0,-b)}let d=u.indexOf(c),h=[],m=r.openStart;for(let b=r.content,S=0;;S++){let x=b.firstChild;if(h.push(x),S==r.openStart)break;b=x.content}for(let b=m-1;b>=0;b--){let S=h[b],x=JM(S.type);if(x&&!S.sameMarkup(s.node(Math.abs(c)-1)))m=b;else if(x||!S.type.isTextblock)break}for(let b=r.openStart;b>=0;b--){let S=(b+m+1)%(r.openStart+1),x=h[S];if(x)for(let v=0;v<u.length;v++){let A=u[(v+d)%u.length],C=!0;A<0&&(C=!1,A=-A);let O=s.node(A-1),_=s.index(A-1);if(O.canReplaceWith(_,_,x.type,x.marks))return n.replace(s.before(A),C?o.after(A):t,new te(uE(r.content,0,r.openStart,S),S,r.openEnd))}}let y=n.steps.length;for(let b=u.length-1;b>=0&&(n.replace(e,t,r),!(n.steps.length>y));b--){let S=u[b];S<0||(e=s.before(S),t=o.after(S))}}function uE(n,e,t,r,s){if(e<t){let o=n.firstChild;n=n.replaceChild(0,o.copy(uE(o.content,e+1,t,r,o)))}if(e>r){let o=s.contentMatchAt(0),u=o.fillBefore(n).append(n);n=u.append(o.matchFragment(u).fillBefore(K.empty,!0))}return n}function WM(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let s=YM(n.doc,e,r.type);s!=null&&(e=t=s)}n.replaceRange(e,t,new te(K.from(r),0,0))}function ZM(n,e,t){let r=n.doc.resolve(e),s=n.doc.resolve(t),o=cE(r,s);for(let u=0;u<o.length;u++){let c=o[u],d=u==o.length-1;if(d&&c==0||r.node(c).type.contentMatch.validEnd)return n.delete(r.start(c),s.end(c));if(c>0&&(d||r.node(c-1).canReplace(r.index(c-1),s.indexAfter(c-1))))return n.delete(r.before(c),s.after(c))}for(let u=1;u<=r.depth&&u<=s.depth;u++)if(e-r.start(u)==r.depth-u&&t>r.end(u)&&s.end(u)-t!=s.depth-u&&r.start(u-1)==s.start(u-1)&&r.node(u-1).canReplace(r.index(u-1),s.index(u-1)))return n.delete(r.before(u),t);n.delete(e,t)}function cE(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let s=r;s>=0;s--){let o=n.start(s);if(o<n.pos-(n.depth-s)||e.end(s)>e.pos+(e.depth-s)||n.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(o==e.start(s)||s==n.depth&&s==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==o-1)&&t.push(s)}return t}class Ul extends Jt{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return mt.fail("No node at attribute step's position");let r=Object.create(null);for(let o in t.attrs)r[o]=t.attrs[o];r[this.attr]=this.value;let s=t.type.create(r,null,t.marks);return mt.fromReplace(e,this.pos,this.pos+1,new te(K.from(s),0,t.isLeaf?0:1))}getMap(){return On.empty}invert(e){return new Ul(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Ul(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Ul(t.pos,t.attr,t.value)}}Jt.jsonID("attr",Ul);class ja extends Jt{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let s in e.attrs)t[s]=e.attrs[s];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return mt.ok(r)}getMap(){return On.empty}invert(e){return new ja(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new ja(t.attr,t.value)}}Jt.jsonID("docAttr",ja);let Il=class extends Error{};Il=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};Il.prototype=Object.create(Error.prototype);Il.prototype.constructor=Il;Il.prototype.name="TransformError";class fE{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Da}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Il(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=te.empty){let s=qf(this.doc,e,t,r);return s&&this.step(s),this}replaceWith(e,t,r){return this.replace(e,t,new te(K.from(r),0,0))}delete(e,t){return this.replace(e,t,te.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return QM(this,e,t,r),this}replaceRangeWith(e,t,r){return WM(this,e,t,r),this}deleteRange(e,t){return ZM(this,e,t),this}lift(e,t){return BM(this,e,t),this}join(e,t=1){return GM(this,e,t),this}wrap(e,t){return PM(this,e,t),this}setBlockType(e,t=e,r,s=null){return IM(this,e,t,r,s),this}setNodeMarkup(e,t,r=null,s){return VM(this,e,t,r,s),this}setNodeAttribute(e,t,r){return this.step(new Ul(e,t,r)),this}setDocAttribute(e,t){return this.step(new ja(e,t)),this}addNodeMark(e,t){return this.step(new Vi(e,t)),this}removeNodeMark(e,t){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t instanceof Ye)t.isInSet(r.marks)&&this.step(new Is(e,t));else{let s=r.marks,o,u=[];for(;o=t.isInSet(s);)u.push(new Is(e,o)),s=o.removeFromSet(s);for(let c=u.length-1;c>=0;c--)this.step(u[c])}return this}split(e,t=1,r){return FM(this,e,t,r),this}addMark(e,t,r){return _M(this,e,t,r),this}removeMark(e,t,r){return LM(this,e,t,r),this}clearIncompatible(e,t,r){return lg(this,e,t,r),this}}const Dp=Object.create(null);class we{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new eR(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=te.empty){let r=t.content.lastChild,s=null;for(let c=0;c<t.openEnd;c++)s=r,r=r.lastChild;let o=e.steps.length,u=this.ranges;for(let c=0;c<u.length;c++){let{$from:d,$to:h}=u[c],m=e.mapping.slice(o);e.replaceRange(m.map(d.pos),m.map(h.pos),c?te.empty:t),c==0&&vx(e,o,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,s=this.ranges;for(let o=0;o<s.length;o++){let{$from:u,$to:c}=s[o],d=e.mapping.slice(r),h=d.map(u.pos),m=d.map(c.pos);o?e.deleteRange(h,m):(e.replaceRangeWith(h,m,t),vx(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let s=e.parent.inlineContent?new Se(e):jl(e.node(0),e.parent,e.pos,e.index(),t,r);if(s)return s;for(let o=e.depth-1;o>=0;o--){let u=t<0?jl(e.node(0),e.node(o),e.before(o+1),e.index(o),t,r):jl(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,r);if(u)return u}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new kn(e.node(0))}static atStart(e){return jl(e,e,0,0,1)||new kn(e)}static atEnd(e){return jl(e,e,e.content.size,e.childCount,-1)||new kn(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Dp[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Dp)throw new RangeError("Duplicate use of selection JSON ID "+e);return Dp[e]=t,t.prototype.jsonID=e,t}getBookmark(){return Se.between(this.$anchor,this.$head).getBookmark()}}we.prototype.visible=!0;class eR{constructor(e,t){this.$from=e,this.$to=t}}let xx=!1;function Sx(n){!xx&&!n.parent.inlineContent&&(xx=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class Se extends we{constructor(e,t=e){Sx(e),Sx(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return we.near(r);let s=e.resolve(t.map(this.anchor));return new Se(s.parent.inlineContent?s:r,r)}replace(e,t=te.empty){if(super.replace(e,t),t==te.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Se&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Vf(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Se(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let s=e.resolve(t);return new this(s,r==t?s:e.resolve(r))}static between(e,t,r){let s=e.pos-t.pos;if((!r||s)&&(r=s>=0?1:-1),!t.parent.inlineContent){let o=we.findFrom(t,r,!0)||we.findFrom(t,-r,!0);if(o)t=o.$head;else return we.near(t,r)}return e.parent.inlineContent||(s==0?e=t:(e=(we.findFrom(e,-r,!0)||we.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=s<0&&(e=t))),new Se(e,t)}}we.jsonID("text",Se);class Vf{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Vf(e.map(this.anchor),e.map(this.head))}resolve(e){return Se.between(e.resolve(this.anchor),e.resolve(this.head))}}class de extends we{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:s}=t.mapResult(this.anchor),o=e.resolve(s);return r?we.near(o):new de(o)}content(){return new te(K.from(this.node),0,0)}eq(e){return e instanceof de&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new ag(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new de(e.resolve(t.anchor))}static create(e,t){return new de(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}de.prototype.visible=!1;we.jsonID("node",de);class ag{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new Vf(r,r):new ag(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&de.isSelectable(r)?new de(t):we.near(t)}}class kn extends we{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=te.empty){if(t==te.empty){e.delete(0,e.doc.content.size);let r=we.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new kn(e)}map(e){return new kn(e)}eq(e){return e instanceof kn}getBookmark(){return tR}}we.jsonID("all",kn);const tR={map(){return this},resolve(n){return new kn(n)}};function jl(n,e,t,r,s,o=!1){if(e.inlineContent)return Se.create(n,t);for(let u=r-(s>0?0:1);s>0?u<e.childCount:u>=0;u+=s){let c=e.child(u);if(c.isAtom){if(!o&&de.isSelectable(c))return de.create(n,t-(s<0?c.nodeSize:0))}else{let d=jl(n,c,t+s,s<0?c.childCount:0,s,o);if(d)return d}t+=c.nodeSize*s}return null}function vx(n,e,t){let r=n.steps.length-1;if(r<e)return;let s=n.steps[r];if(!(s instanceof wt||s instanceof Ct))return;let o=n.mapping.maps[r],u;o.forEach((c,d,h,m)=>{u==null&&(u=m)}),n.setSelection(we.near(n.doc.resolve(u),t))}const Ex=1,Tx=2,Ax=4;class nR extends fE{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Ex)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&Ex)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Tx,this}ensureMarks(e){return Ye.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Tx)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Ye.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let s=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let o=this.storedMarks;if(!o){let u=this.doc.resolve(t);o=r==t?u.marks():u.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,s.text(e,o)),this.selection.empty||this.setSelection(we.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Ax,this}get scrolledIntoView(){return(this.updated&Ax)>0}}function wx(n,e){return!e||!n?n:n.bind(e)}class ga{constructor(e,t,r){this.name=e,this.init=wx(t.init,r),this.apply=wx(t.apply,r)}}const rR=[new ga("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new ga("selection",{init(n,e){return n.selection||we.atStart(e.doc)},apply(n){return n.selection}}),new ga("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new ga("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class jp{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=rR.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new ga(r.key,r.spec.state,r))})}}class zl{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),s=null;for(;;){let o=!1;for(let u=0;u<this.config.plugins.length;u++){let c=this.config.plugins[u];if(c.spec.appendTransaction){let d=s?s[u].n:0,h=s?s[u].state:this,m=d<t.length&&c.spec.appendTransaction.call(c,d?t.slice(d):t,h,r);if(m&&r.filterTransaction(m,u)){if(m.setMeta("appendedTransaction",e),!s){s=[];for(let y=0;y<this.config.plugins.length;y++)s.push(y<u?{state:r,n:t.length}:{state:this,n:0})}t.push(m),r=r.applyInner(m),o=!0}s&&(s[u]={state:r,n:t.length})}}if(!o)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new zl(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let o=r[s];t[o.name]=o.apply(e,this[o.name],this,t)}return t}get tr(){return new nR(this)}static create(e){let t=new jp(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new zl(t);for(let s=0;s<t.fields.length;s++)r[t.fields[s].name]=t.fields[s].init(e,r);return r}reconfigure(e){let t=new jp(this.schema,e.plugins),r=t.fields,s=new zl(t);for(let o=0;o<r.length;o++){let u=r[o].name;s[u]=this.hasOwnProperty(u)?this[u]:r[o].init(e,s)}return s}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],o=s.spec.state;o&&o.toJSON&&(t[r]=o.toJSON.call(s,this[s.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new jp(e.schema,e.plugins),o=new zl(s);return s.fields.forEach(u=>{if(u.name=="doc")o.doc=$i.fromJSON(e.schema,t.doc);else if(u.name=="selection")o.selection=we.fromJSON(o.doc,t.selection);else if(u.name=="storedMarks")t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let c in r){let d=r[c],h=d.spec.state;if(d.key==u.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(t,c)){o[u.name]=h.fromJSON.call(d,e,t[c],o);return}}o[u.name]=u.init(e,o)}}),o}}function dE(n,e,t){for(let r in n){let s=n[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=dE(s,e,{})),t[r]=s}return t}class Pt{constructor(e){this.spec=e,this.props={},e.props&&dE(e.props,this,this.props),this.key=e.key?e.key.key:hE("plugin")}getState(e){return e[this.key]}}const _p=Object.create(null);function hE(n){return n in _p?n+"$"+ ++_p[n]:(_p[n]=0,n+"$")}class Mn{constructor(e="key"){this.key=hE(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Ht=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},ql=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let Cm=null;const ti=function(n,e,t){let r=Cm||(Cm=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},iR=function(){Cm=null},qs=function(n,e,t,r){return t&&(Cx(n,e,t,r,-1)||Cx(n,e,t,r,1))},sR=/^(img|br|input|textarea|hr)$/i;function Cx(n,e,t,r,s){for(;;){if(n==t&&e==r)return!0;if(e==(s<0?0:$n(n))){let o=n.parentNode;if(!o||o.nodeType!=1||Ga(n)||sR.test(n.nodeName)||n.contentEditable=="false")return!1;e=Ht(n)+(s<0?0:1),n=o}else if(n.nodeType==1){if(n=n.childNodes[e+(s<0?-1:0)],n.contentEditable=="false")return!1;e=s<0?$n(n):0}else return!1}}function $n(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function lR(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=$n(n)}else if(n.parentNode&&!Ga(n))e=Ht(n),n=n.parentNode;else return null}}function oR(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!Ga(n))e=Ht(n)+1,n=n.parentNode;else return null}}function aR(n,e,t){for(let r=e==0,s=e==$n(n);r||s;){if(n==t)return!0;let o=Ht(n);if(n=n.parentNode,!n)return!1;r=r&&o==0,s=s&&o==$n(n)}}function Ga(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const Ff=function(n){return n.focusNode&&qs(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function ws(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function uR(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function cR(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min($n(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min($n(r.startContainer),r.startOffset)}}}const Ar=typeof navigator<"u"?navigator:null,Nx=typeof document<"u"?document:null,Zi=Ar&&Ar.userAgent||"",Nm=/Edge\/(\d+)/.exec(Zi),pE=/MSIE \d/.exec(Zi),Om=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Zi),yn=!!(pE||Om||Nm),Yi=pE?document.documentMode:Om?+Om[1]:Nm?+Nm[1]:0,lr=!yn&&/gecko\/(\d+)/i.test(Zi);lr&&+(/Firefox\/(\d+)/.exec(Zi)||[0,0])[1];const km=!yn&&/Chrome\/(\d+)/.exec(Zi),Xt=!!km,mE=km?+km[1]:0,Zt=!yn&&!!Ar&&/Apple Computer/.test(Ar.vendor),Vl=Zt&&(/Mobile\/\w+/.test(Zi)||!!Ar&&Ar.maxTouchPoints>2),Fn=Vl||(Ar?/Mac/.test(Ar.platform):!1),fR=Ar?/Win/.test(Ar.platform):!1,ni=/Android \d/.test(Zi),Ya=!!Nx&&"webkitFontSmoothing"in Nx.documentElement.style,dR=Ya?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function hR(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function Jr(n,e){return typeof n=="number"?n:n[e]}function pR(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function Ox(n,e,t){let r=n.someProp("scrollThreshold")||0,s=n.someProp("scrollMargin")||5,o=n.dom.ownerDocument;for(let u=t||n.dom;u;){if(u.nodeType!=1){u=ql(u);continue}let c=u,d=c==o.body,h=d?hR(o):pR(c),m=0,y=0;if(e.top<h.top+Jr(r,"top")?y=-(h.top-e.top+Jr(s,"top")):e.bottom>h.bottom-Jr(r,"bottom")&&(y=e.bottom-e.top>h.bottom-h.top?e.top+Jr(s,"top")-h.top:e.bottom-h.bottom+Jr(s,"bottom")),e.left<h.left+Jr(r,"left")?m=-(h.left-e.left+Jr(s,"left")):e.right>h.right-Jr(r,"right")&&(m=e.right-h.right+Jr(s,"right")),m||y)if(d)o.defaultView.scrollBy(m,y);else{let S=c.scrollLeft,x=c.scrollTop;y&&(c.scrollTop+=y),m&&(c.scrollLeft+=m);let v=c.scrollLeft-S,A=c.scrollTop-x;e={left:e.left-v,top:e.top-A,right:e.right-v,bottom:e.bottom-A}}let b=d?"fixed":getComputedStyle(u).position;if(/^(fixed|sticky)$/.test(b))break;u=b=="absolute"?u.offsetParent:ql(u)}}function mR(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,s;for(let o=(e.left+e.right)/2,u=t+1;u<Math.min(innerHeight,e.bottom);u+=5){let c=n.root.elementFromPoint(o,u);if(!c||c==n.dom||!n.dom.contains(c))continue;let d=c.getBoundingClientRect();if(d.top>=t-20){r=c,s=d.top;break}}return{refDOM:r,refTop:s,stack:gE(n.dom)}}function gE(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=ql(r));return e}function gR({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;yE(t,r==0?0:r-e)}function yE(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:s,left:o}=n[t];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let Rl=null;function yR(n){if(n.setActive)return n.setActive();if(Rl)return n.focus(Rl);let e=gE(n);n.focus(Rl==null?{get preventScroll(){return Rl={preventScroll:!0},!0}}:void 0),Rl||(Rl=!1,yE(e,0))}function bE(n,e){let t,r=2e8,s,o=0,u=e.top,c=e.top,d,h;for(let m=n.firstChild,y=0;m;m=m.nextSibling,y++){let b;if(m.nodeType==1)b=m.getClientRects();else if(m.nodeType==3)b=ti(m).getClientRects();else continue;for(let S=0;S<b.length;S++){let x=b[S];if(x.top<=u&&x.bottom>=c){u=Math.max(x.bottom,u),c=Math.min(x.top,c);let v=x.left>e.left?x.left-e.left:x.right<e.left?e.left-x.right:0;if(v<r){t=m,r=v,s=v&&t.nodeType==3?{left:x.right<e.left?x.right:x.left,top:e.top}:e,m.nodeType==1&&v&&(o=y+(e.left>=(x.left+x.right)/2?1:0));continue}}else x.top>e.top&&!d&&x.left<=e.left&&x.right>=e.left&&(d=m,h={left:Math.max(x.left,Math.min(x.right,e.left)),top:x.top});!t&&(e.left>=x.right&&e.top>=x.top||e.left>=x.left&&e.top>=x.bottom)&&(o=y+1)}}return!t&&d&&(t=d,s=h,r=0),t&&t.nodeType==3?bR(t,s):!t||r&&t.nodeType==1?{node:n,offset:o}:bE(t,s)}function bR(n,e){let t=n.nodeValue.length,r=document.createRange();for(let s=0;s<t;s++){r.setEnd(n,s+1),r.setStart(n,s);let o=zi(r,1);if(o.top!=o.bottom&&ug(e,o))return{node:n,offset:s+(e.left>=(o.left+o.right)/2?1:0)}}return{node:n,offset:0}}function ug(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function xR(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function SR(n,e,t){let{node:r,offset:s}=bE(e,t),o=-1;if(r.nodeType==1&&!r.firstChild){let u=r.getBoundingClientRect();o=u.left!=u.right&&t.left>(u.left+u.right)/2?1:-1}return n.docView.posFromDOM(r,s,o)}function vR(n,e,t,r){let s=-1;for(let o=e,u=!1;o!=n.dom;){let c=n.docView.nearestDesc(o,!0),d;if(!c)return null;if(c.dom.nodeType==1&&(c.node.isBlock&&c.parent||!c.contentDOM)&&((d=c.dom.getBoundingClientRect()).width||d.height)&&(c.node.isBlock&&c.parent&&(!u&&d.left>r.left||d.top>r.top?s=c.posBefore:(!u&&d.right<r.left||d.bottom<r.top)&&(s=c.posAfter),u=!0),!c.contentDOM&&s<0&&!c.node.isText))return(c.node.isBlock?r.top<(d.top+d.bottom)/2:r.left<(d.left+d.right)/2)?c.posBefore:c.posAfter;o=c.dom.parentNode}return s>-1?s:n.docView.posFromDOM(e,t,-1)}function xE(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),o=s;;){let u=n.childNodes[o];if(u.nodeType==1){let c=u.getClientRects();for(let d=0;d<c.length;d++){let h=c[d];if(ug(e,h))return xE(u,e,h)}}if((o=(o+1)%r)==s)break}return n}function ER(n,e){let t=n.dom.ownerDocument,r,s=0,o=cR(t,e.left,e.top);o&&({node:r,offset:s}=o);let u=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),c;if(!u||!n.dom.contains(u.nodeType!=1?u.parentNode:u)){let h=n.dom.getBoundingClientRect();if(!ug(e,h)||(u=xE(n.dom,e,h),!u))return null}if(Zt)for(let h=u;r&&h;h=ql(h))h.draggable&&(r=void 0);if(u=xR(u,e),r){if(lr&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let m=r.childNodes[s],y;m.nodeName=="IMG"&&(y=m.getBoundingClientRect()).right<=e.left&&y.bottom>e.top&&s++}let h;Ya&&s&&r.nodeType==1&&(h=r.childNodes[s-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=e.top&&s--,r==n.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?c=n.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(c=vR(n,r,s,e))}c==null&&(c=SR(n,u,e));let d=n.docView.nearestDesc(u,!0);return{pos:c,inside:d?d.posAtStart-d.border:-1}}function kx(n){return n.top<n.bottom||n.left<n.right}function zi(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(kx(r))return r}return Array.prototype.find.call(t,kx)||n.getBoundingClientRect()}const TR=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function SE(n,e,t){let{node:r,offset:s,atom:o}=n.docView.domFromPos(e,t<0?-1:1),u=Ya||lr;if(r.nodeType==3)if(u&&(TR.test(r.nodeValue)||(t<0?!s:s==r.nodeValue.length))){let d=zi(ti(r,s,s),t);if(lr&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let h=zi(ti(r,s-1,s-1),-1);if(h.top==d.top){let m=zi(ti(r,s,s+1),-1);if(m.top!=d.top)return oa(m,m.left<h.left)}}return d}else{let d=s,h=s,m=t<0?1:-1;return t<0&&!s?(h++,m=-1):t>=0&&s==r.nodeValue.length?(d--,m=1):t<0?d--:h++,oa(zi(ti(r,d,h),m),m<0)}if(!n.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&s&&(t<0||s==$n(r))){let d=r.childNodes[s-1];if(d.nodeType==1)return Lp(d.getBoundingClientRect(),!1)}if(o==null&&s<$n(r)){let d=r.childNodes[s];if(d.nodeType==1)return Lp(d.getBoundingClientRect(),!0)}return Lp(r.getBoundingClientRect(),t>=0)}if(o==null&&s&&(t<0||s==$n(r))){let d=r.childNodes[s-1],h=d.nodeType==3?ti(d,$n(d)-(u?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(h)return oa(zi(h,1),!1)}if(o==null&&s<$n(r)){let d=r.childNodes[s];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let h=d?d.nodeType==3?ti(d,0,u?0:1):d.nodeType==1?d:null:null;if(h)return oa(zi(h,-1),!0)}return oa(zi(r.nodeType==3?ti(r):r,-t),t>=0)}function oa(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function Lp(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function vE(n,e,t){let r=n.state,s=n.root.activeElement;r!=e&&n.updateState(e),s!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),s!=n.dom&&s&&s.focus()}}function AR(n,e,t){let r=e.selection,s=t=="up"?r.$from:r.$to;return vE(n,e,()=>{let{node:o}=n.docView.domFromPos(s.pos,t=="up"?-1:1);for(;;){let c=n.docView.nearestDesc(o,!0);if(!c)break;if(c.node.isBlock){o=c.contentDOM||c.dom;break}o=c.dom.parentNode}let u=SE(n,s.pos,1);for(let c=o.firstChild;c;c=c.nextSibling){let d;if(c.nodeType==1)d=c.getClientRects();else if(c.nodeType==3)d=ti(c,0,c.nodeValue.length).getClientRects();else continue;for(let h=0;h<d.length;h++){let m=d[h];if(m.bottom>m.top+1&&(t=="up"?u.top-m.top>(m.bottom-u.top)*2:m.bottom-u.bottom>(u.bottom-m.top)*2))return!1}}return!0})}const wR=/[\u0590-\u08ac]/;function CR(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,o=!s,u=s==r.parent.content.size,c=n.domSelection();return c?!wR.test(r.parent.textContent)||!c.modify?t=="left"||t=="backward"?o:u:vE(n,e,()=>{let{focusNode:d,focusOffset:h,anchorNode:m,anchorOffset:y}=n.domSelectionRange(),b=c.caretBidiLevel;c.modify("move",t,"character");let S=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:x,focusOffset:v}=n.domSelectionRange(),A=x&&!S.contains(x.nodeType==1?x:x.parentNode)||d==x&&h==v;try{c.collapse(m,y),d&&(d!=m||h!=y)&&c.extend&&c.extend(d,h)}catch{}return b!=null&&(c.caretBidiLevel=b),A}):r.pos==r.start()||r.pos==r.end()}let Mx=null,Rx=null,Dx=!1;function NR(n,e,t){return Mx==e&&Rx==t?Dx:(Mx=e,Rx=t,Dx=t=="up"||t=="down"?AR(n,e,t):CR(n,e,t))}const Yn=0,jx=1,Os=2,wr=3;class Ka{constructor(e,t,r,s){this.parent=e,this.children=t,this.dom=r,this.contentDOM=s,this.dirty=Yn,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let s=this.children[t];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,u;if(e==this.contentDOM)o=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((u=o.pmViewDesc)&&u.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(u)+u.size:this.posAtStart}else{let o,u;if(e==this.contentDOM)o=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((u=o.pmViewDesc)&&u.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(u):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=t>Ht(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let o=e;;o=o.parentNode){if(o==this.dom){s=!1;break}if(o.previousSibling)break}if(s==null&&t==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){s=!0;break}if(o.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,s=e;s;s=s.parentNode){let o=this.getDesc(s),u;if(o&&(!t||o.node))if(r&&(u=o.nodeDOM)&&!(u.nodeType==1?u.contains(e.nodeType==1?e:e.parentNode):u==e))r=!1;else return o}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let s=e;s;s=s.parentNode){let o=this.getDesc(s);if(o)return o.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let s=this.children[t],o=r+s.size;if(r==e&&o!=r){for(;!s.border&&s.children.length;)for(let u=0;u<s.children.length;u++){let c=s.children[u];if(c.size){s=c;break}}return s}if(e<o)return s.descAt(e-r-s.border);r=o}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let o=0;r<this.children.length;r++){let u=this.children[r],c=o+u.size;if(c>e||u instanceof TE){s=e-o;break}o=c}if(s)return this.children[r].domFromPos(s-this.children[r].border,t);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof EE&&o.side>=0;r--);if(t<=0){let o,u=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,u=!1);return o&&t&&u&&!o.border&&!o.domAtom?o.domFromPos(o.size,t):{node:this.contentDOM,offset:o?Ht(o.dom)+1:0}}else{let o,u=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,u=!1);return o&&u&&!o.border&&!o.domAtom?o.domFromPos(0,t):{node:this.contentDOM,offset:o?Ht(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,o=-1;for(let u=r,c=0;;c++){let d=this.children[c],h=u+d.size;if(s==-1&&e<=h){let m=u+d.border;if(e>=m&&t<=h-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,t,m);e=u;for(let y=c;y>0;y--){let b=this.children[y-1];if(b.size&&b.dom.parentNode==this.contentDOM&&!b.emptyChildAt(1)){s=Ht(b.dom)+1;break}e-=b.size}s==-1&&(s=0)}if(s>-1&&(h>t||c==this.children.length-1)){t=h;for(let m=c+1;m<this.children.length;m++){let y=this.children[m];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(-1)){o=Ht(y.dom);break}t+=y.size}o==-1&&(o=this.contentDOM.childNodes.length);break}u=h}return{node:this.contentDOM,from:e,to:t,fromOffset:s,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,s=!1){let o=Math.min(e,t),u=Math.max(e,t);for(let S=0,x=0;S<this.children.length;S++){let v=this.children[S],A=x+v.size;if(o>x&&u<A)return v.setSelection(e-x-v.border,t-x-v.border,r,s);x=A}let c=this.domFromPos(e,e?-1:1),d=t==e?c:this.domFromPos(t,t?-1:1),h=r.root.getSelection(),m=r.domSelectionRange(),y=!1;if((lr||Zt)&&e==t){let{node:S,offset:x}=c;if(S.nodeType==3){if(y=!!(x&&S.nodeValue[x-1]==`
`),y&&x==S.nodeValue.length)for(let v=S,A;v;v=v.parentNode){if(A=v.nextSibling){A.nodeName=="BR"&&(c=d={node:A.parentNode,offset:Ht(A)+1});break}let C=v.pmViewDesc;if(C&&C.node&&C.node.isBlock)break}}else{let v=S.childNodes[x-1];y=v&&(v.nodeName=="BR"||v.contentEditable=="false")}}if(lr&&m.focusNode&&m.focusNode!=d.node&&m.focusNode.nodeType==1){let S=m.focusNode.childNodes[m.focusOffset];S&&S.contentEditable=="false"&&(s=!0)}if(!(s||y&&Zt)&&qs(c.node,c.offset,m.anchorNode,m.anchorOffset)&&qs(d.node,d.offset,m.focusNode,m.focusOffset))return;let b=!1;if((h.extend||e==t)&&!y){h.collapse(c.node,c.offset);try{e!=t&&h.extend(d.node,d.offset),b=!0}catch{}}if(!b){if(e>t){let x=c;c=d,d=x}let S=document.createRange();S.setEnd(d.node,d.offset),S.setStart(c.node,c.offset),h.removeAllRanges(),h.addRange(S)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,s=0;s<this.children.length;s++){let o=this.children[s],u=r+o.size;if(r==u?e<=u&&t>=r:e<u&&t>r){let c=r+o.border,d=u-o.border;if(e>=c&&t<=d){this.dirty=e==r||t==u?Os:jx,e==c&&t==d&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=wr:o.markDirty(e-c,t-c);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Os:wr}r=u}this.dirty=Os}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?Os:jx;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class EE extends Ka{constructor(e,t,r,s){let o,u=t.type.toDOM;if(typeof u=="function"&&(u=u(r,()=>{if(!o)return s;if(o.parent)return o.parent.posBeforeChild(o)})),!t.type.spec.raw){if(u.nodeType!=1){let c=document.createElement("span");c.appendChild(u),u=c}u.contentEditable="false",u.classList.add("ProseMirror-widget")}super(e,[],u,null),this.widget=t,this.widget=t,o=this}matchesWidget(e){return this.dirty==Yn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class OR extends Ka{constructor(e,t,r,s){super(e,[],t,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Vs extends Ka{constructor(e,t,r,s,o){super(e,[],r,s),this.mark=t,this.spec=o}static create(e,t,r,s){let o=s.nodeViews[t.type.name],u=o&&o(t,s,r);return(!u||!u.dom)&&(u=$s.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new Vs(e,t,u.dom,u.contentDOM||u.dom,u)}parseRule(){return this.dirty&wr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=wr&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=Yn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Yn}}slice(e,t,r){let s=Vs.create(this.parent,this.mark,!0,r),o=this.children,u=this.size;t<u&&(o=Rm(o,t,u,r)),e>0&&(o=Rm(o,0,e,r));for(let c=0;c<o.length;c++)o[c].parent=s;return s.children=o,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Ki extends Ka{constructor(e,t,r,s,o,u,c,d,h){super(e,[],o,u),this.node=t,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=c}static create(e,t,r,s,o,u){let c=o.nodeViews[t.type.name],d,h=c&&c(t,o,()=>{if(!d)return u;if(d.parent)return d.parent.posBeforeChild(d)},r,s),m=h&&h.dom,y=h&&h.contentDOM;if(t.isText){if(!m)m=document.createTextNode(t.text);else if(m.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else m||({dom:m,contentDOM:y}=$s.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!y&&!t.isText&&m.nodeName!="BR"&&(m.hasAttribute("contenteditable")||(m.contentEditable="false"),t.type.spec.draggable&&(m.draggable=!0));let b=m;return m=CE(m,r,t),h?d=new kR(e,t,r,s,m,y||null,b,h,o,u+1):t.isText?new $f(e,t,r,s,m,b,o):new Ki(e,t,r,s,m,y||null,b,o,u+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>K.empty)}return e}matchesNode(e,t,r){return this.dirty==Yn&&e.eq(this.node)&&$c(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,s=t,o=e.composing?this.localCompositionInfo(e,t):null,u=o&&o.pos>-1?o:null,c=o&&o.pos<0,d=new RR(this,u&&u.node,e);_R(this.node,this.innerDeco,(h,m,y)=>{h.spec.marks?d.syncToMarks(h.spec.marks,r,e):h.type.side>=0&&!y&&d.syncToMarks(m==this.node.childCount?Ye.none:this.node.child(m).marks,r,e),d.placeWidget(h,e,s)},(h,m,y,b)=>{d.syncToMarks(h.marks,r,e);let S;d.findNodeMatch(h,m,y,b)||c&&e.state.selection.from>s&&e.state.selection.to<s+h.nodeSize&&(S=d.findIndexWithChild(o.node))>-1&&d.updateNodeAt(h,m,y,S,e)||d.updateNextNode(h,m,y,e,b,s)||d.addNode(h,m,y,e,s),s+=h.nodeSize}),d.syncToMarks([],r,e),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==Os)&&(u&&this.protectLocalComposition(e,u),AE(this.contentDOM,this.children,e),Vl&&LR(this.dom))}localCompositionInfo(e,t){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof Se)||r<t||s>t+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let u=o.nodeValue,c=zR(this.node.content,u,r-t,s-t);return c<0?null:{node:o,pos:c,text:u}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:s}){if(this.getDesc(t))return;let o=t;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let u=new OR(this,o,t,s);e.input.compositionNodes.push(u),this.children=Rm(this.children,r,r+s.length,e,u)}update(e,t,r,s){return this.dirty==wr||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,s),!0)}updateInner(e,t,r,s){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=Yn}updateOuterDeco(e){if($c(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=wE(this.dom,this.nodeDOM,Mm(this.outerDeco,this.node,t),Mm(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function _x(n,e,t,r,s){CE(r,e,n);let o=new Ki(void 0,n,e,t,r,r,r,s,0);return o.contentDOM&&o.updateChildren(s,0),o}class $f extends Ki{constructor(e,t,r,s,o,u,c){super(e,t,r,s,o,null,u,c,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,s){return this.dirty==wr||this.dirty!=Yn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=Yn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=Yn,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let s=this.node.cut(e,t),o=document.createTextNode(s.text);return new $f(this.parent,s,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=wr)}get domAtom(){return!1}isText(e){return this.node.text==e}}class TE extends Ka{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Yn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class kR extends Ki{constructor(e,t,r,s,o,u,c,d,h,m){super(e,t,r,s,o,u,c,h,m),this.spec=d}update(e,t,r,s){if(this.dirty==wr)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,t,r);return o&&this.updateInner(e,t,r,s),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,s){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function AE(n,e,t){let r=n.firstChild,s=!1;for(let o=0;o<e.length;o++){let u=e[o],c=u.dom;if(c.parentNode==n){for(;c!=r;)r=Lx(r),s=!0;r=r.nextSibling}else s=!0,n.insertBefore(c,r);if(u instanceof Vs){let d=r?r.previousSibling:n.lastChild;AE(u.contentDOM,u.children,t),r=d?d.nextSibling:n.firstChild}}for(;r;)r=Lx(r),s=!0;s&&t.trackWrites==n&&(t.trackWrites=null)}const xa=function(n){n&&(this.nodeName=n)};xa.prototype=Object.create(null);const ks=[new xa];function Mm(n,e,t){if(n.length==0)return ks;let r=t?ks[0]:new xa,s=[r];for(let o=0;o<n.length;o++){let u=n[o].type.attrs;if(u){u.nodeName&&s.push(r=new xa(u.nodeName));for(let c in u){let d=u[c];d!=null&&(t&&s.length==1&&s.push(r=new xa(e.isInline?"span":"div")),c=="class"?r.class=(r.class?r.class+" ":"")+d:c=="style"?r.style=(r.style?r.style+";":"")+d:c!="nodeName"&&(r[c]=d))}}}return s}function wE(n,e,t,r){if(t==ks&&r==ks)return e;let s=e;for(let o=0;o<r.length;o++){let u=r[o],c=t[o];if(o){let d;c&&c.nodeName==u.nodeName&&s!=n&&(d=s.parentNode)&&d.nodeName.toLowerCase()==u.nodeName||(d=document.createElement(u.nodeName),d.pmIsDeco=!0,d.appendChild(s),c=ks[0]),s=d}MR(s,c||ks[0],u)}return s}function MR(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=t.class?t.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)s.indexOf(r[o])==-1&&n.classList.remove(r[o]);for(let o=0;o<s.length;o++)r.indexOf(s[o])==-1&&n.classList.add(s[o]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)n.style.removeProperty(s[1])}t.style&&(n.style.cssText+=t.style)}}function CE(n,e,t){return wE(n,n,ks,Mm(e,t,n.nodeType!=1))}function $c(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function Lx(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class RR{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=DR(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let s=0,o=this.stack.length>>1,u=Math.min(o,e.length);for(;s<u&&(s==o-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<o;)this.destroyRest(),this.top.dirty=Yn,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let c=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let h=this.top.children[d];if(h.matchesMark(e[o])&&!this.isLocked(h.dom)){c=d;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let d=Vs.create(this.top,e[o],t,r);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,o++}}findNodeMatch(e,t,r,s){let o=-1,u;if(s>=this.preMatch.index&&(u=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&u.matchesNode(e,t,r))o=this.top.children.indexOf(u,this.index);else for(let c=this.index,d=Math.min(this.top.children.length,c+5);c<d;c++){let h=this.top.children[c];if(h.matchesNode(e,t,r)&&!this.preMatch.matched.has(h)){o=c;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,t,r,s,o){let u=this.top.children[s];return u.dirty==wr&&u.dom==u.contentDOM&&(u.dirty=Os),u.update(e,t,r,o)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=t}}updateNextNode(e,t,r,s,o,u){for(let c=this.index;c<this.top.children.length;c++){let d=this.top.children[c];if(d instanceof Ki){let h=this.preMatch.matched.get(d);if(h!=null&&h!=o)return!1;let m=d.dom,y,b=this.isLocked(m)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=wr&&$c(t,d.outerDeco));if(!b&&d.update(e,t,r,s))return this.destroyBetween(this.index,c),d.dom!=m&&(this.changed=!0),this.index++,!0;if(!b&&(y=this.recreateWrapper(d,e,t,r,s,u)))return this.destroyBetween(this.index,c),this.top.children[this.index]=y,y.contentDOM&&(y.dirty=Os,y.updateChildren(s,u+1),y.dirty=Yn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,s,o,u){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!$c(r,e.outerDeco)||!s.eq(e.innerDeco))return null;let c=Ki.create(this.top,t,r,s,o,u);if(c.contentDOM){c.children=e.children,e.children=[];for(let d of c.children)d.parent=c}return e.destroy(),c}addNode(e,t,r,s,o){let u=Ki.create(this.top,e,t,r,s,o);u.contentDOM&&u.updateChildren(s,o+1),this.top.children.splice(this.index++,0,u),this.changed=!0}placeWidget(e,t,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let o=new EE(this.top,e,t,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Vs;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof $f)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Zt||Xt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new TE(this.top,[],r,null);t!=this.top?t.children.push(s):t.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function DR(n,e){let t=e,r=t.children.length,s=n.childCount,o=new Map,u=[];e:for(;s>0;){let c;for(;;)if(r){let h=t.children[r-1];if(h instanceof Vs)t=h,r=h.children.length;else{c=h,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let d=c.node;if(d){if(d!=n.child(s-1))break;--s,o.set(c,s),u.push(c)}}return{index:s,matched:o,matches:u.reverse()}}function jR(n,e){return n.type.side-e.type.side}function _R(n,e,t,r){let s=e.locals(n),o=0;if(s.length==0){for(let h=0;h<n.childCount;h++){let m=n.child(h);r(m,s,e.forChild(o,m),h),o+=m.nodeSize}return}let u=0,c=[],d=null;for(let h=0;;){let m,y;for(;u<s.length&&s[u].to==o;){let A=s[u++];A.widget&&(m?(y||(y=[m])).push(A):m=A)}if(m)if(y){y.sort(jR);for(let A=0;A<y.length;A++)t(y[A],h,!!d)}else t(m,h,!!d);let b,S;if(d)S=-1,b=d,d=null;else if(h<n.childCount)S=h,b=n.child(h++);else break;for(let A=0;A<c.length;A++)c[A].to<=o&&c.splice(A--,1);for(;u<s.length&&s[u].from<=o&&s[u].to>o;)c.push(s[u++]);let x=o+b.nodeSize;if(b.isText){let A=x;u<s.length&&s[u].from<A&&(A=s[u].from);for(let C=0;C<c.length;C++)c[C].to<A&&(A=c[C].to);A<x&&(d=b.cut(A-o),b=b.cut(0,A-o),x=A,S=-1)}else for(;u<s.length&&s[u].to<x;)u++;let v=b.isInline&&!b.isLeaf?c.filter(A=>!A.inline):c.slice();r(b,v,e.forChild(o,b),S),o=x}}function LR(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function zR(n,e,t,r){for(let s=0,o=0;s<n.childCount&&o<=r;){let u=n.child(s++),c=o;if(o+=u.nodeSize,!u.isText)continue;let d=u.text;for(;s<n.childCount;){let h=n.child(s++);if(o+=h.nodeSize,!h.isText)break;d+=h.text}if(o>=t){if(o>=r&&d.slice(r-e.length-c,r-c)==e)return r-e.length;let h=c<r?d.lastIndexOf(e,r-c-1):-1;if(h>=0&&h+e.length+c>=t)return c+h;if(t==r&&d.length>=r+e.length-c&&d.slice(r-c,r-c+e.length)==e)return r}}return-1}function Rm(n,e,t,r,s){let o=[];for(let u=0,c=0;u<n.length;u++){let d=n[u],h=c,m=c+=d.size;h>=t||m<=e?o.push(d):(h<e&&o.push(d.slice(0,e-h,r)),s&&(o.push(s),s=void 0),m>t&&o.push(d.slice(t-h,d.size,r)))}return o}function cg(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let s=n.docView.nearestDesc(t.focusNode),o=s&&s.size==0,u=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(u<0)return null;let c=r.resolve(u),d,h;if(Ff(t)){for(d=u;s&&!s.node;)s=s.parent;let y=s.node;if(s&&y.isAtom&&de.isSelectable(y)&&s.parent&&!(y.isInline&&aR(t.focusNode,t.focusOffset,s.dom))){let b=s.posBefore;h=new de(u==b?c:r.resolve(b))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let y=u,b=u;for(let S=0;S<t.rangeCount;S++){let x=t.getRangeAt(S);y=Math.min(y,n.docView.posFromDOM(x.startContainer,x.startOffset,1)),b=Math.max(b,n.docView.posFromDOM(x.endContainer,x.endOffset,-1))}if(y<0)return null;[d,u]=b==n.state.selection.anchor?[b,y]:[y,b],c=r.resolve(u)}else d=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(d<0)return null}let m=r.resolve(d);if(!h){let y=e=="pointer"||n.state.selection.head<c.pos&&!o?1:-1;h=fg(n,m,c,y)}return h}function NE(n){return n.editable?n.hasFocus():kE(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function si(n,e=!1){let t=n.state.selection;if(OE(n,t),!!NE(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&Xt){let r=n.domSelectionRange(),s=n.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&qs(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)HR(n);else{let{anchor:r,head:s}=t,o,u;zx&&!(t instanceof Se)&&(t.$from.parent.inlineContent||(o=Bx(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(u=Bx(n,t.to))),n.docView.setSelection(r,s,n,e),zx&&(o&&Hx(o),u&&Hx(u)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&BR(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const zx=Zt||Xt&&mE<63;function Bx(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),s=r<t.childNodes.length?t.childNodes[r]:null,o=r?t.childNodes[r-1]:null;if(Zt&&s&&s.contentEditable=="false")return zp(s);if((!s||s.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(s)return zp(s);if(o)return zp(o)}}function zp(n){return n.contentEditable="true",Zt&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function Hx(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function BR(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,s=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=s)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!NE(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function HR(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let r=n.cursorWrapper.dom,s=r.nodeName=="IMG";s?t.setStart(r.parentNode,Ht(r)+1):t.setStart(r,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!s&&!n.state.selection.visible&&yn&&Yi<=11&&(r.disabled=!0,r.disabled=!1)}function OE(n,e){if(e instanceof de){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(Ux(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else Ux(n)}function Ux(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function fg(n,e,t,r){return n.someProp("createSelectionBetween",s=>s(n,e,t))||Se.between(e,t,r)}function Px(n){return n.editable&&!n.hasFocus()?!1:kE(n)}function kE(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function UR(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return qs(e.node,e.offset,t.anchorNode,t.anchorOffset)}function Dm(n,e){let{$anchor:t,$head:r}=n.selection,s=e>0?t.max(r):t.min(r),o=s.parent.inlineContent?s.depth?n.doc.resolve(e>0?s.after():s.before()):null:s;return o&&we.findFrom(o,e)}function Bi(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function Ix(n,e,t){let r=n.state.selection;if(r instanceof Se)if(t.indexOf("s")>-1){let{$head:s}=r,o=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let u=n.state.doc.resolve(s.pos+o.nodeSize*(e<0?-1:1));return Bi(n,new Se(r.$anchor,u))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let s=Dm(n.state,e);return s&&s instanceof de?Bi(n,s):!1}else if(!(Fn&&t.indexOf("m")>-1)){let s=r.$head,o=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,u;if(!o||o.isText)return!1;let c=e<0?s.pos-o.nodeSize:s.pos;return o.isAtom||(u=n.docView.descAt(c))&&!u.contentDOM?de.isSelectable(o)?Bi(n,new de(e<0?n.state.doc.resolve(s.pos-o.nodeSize):s)):Ya?Bi(n,new Se(n.state.doc.resolve(e<0?c:c+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof de&&r.node.isInline)return Bi(n,new Se(e>0?r.$to:r.$from));{let s=Dm(n.state,e);return s?Bi(n,s):!1}}}function Gc(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Sa(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function Dl(n,e){return e<0?PR(n):IR(n)}function PR(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let s,o,u=!1;for(lr&&t.nodeType==1&&r<Gc(t)&&Sa(t.childNodes[r],-1)&&(u=!0);;)if(r>0){if(t.nodeType!=1)break;{let c=t.childNodes[r-1];if(Sa(c,-1))s=t,o=--r;else if(c.nodeType==3)t=c,r=t.nodeValue.length;else break}}else{if(ME(t))break;{let c=t.previousSibling;for(;c&&Sa(c,-1);)s=t.parentNode,o=Ht(c),c=c.previousSibling;if(c)t=c,r=Gc(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}u?jm(n,t,r):s&&jm(n,s,o)}function IR(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let s=Gc(t),o,u;for(;;)if(r<s){if(t.nodeType!=1)break;let c=t.childNodes[r];if(Sa(c,1))o=t,u=++r;else break}else{if(ME(t))break;{let c=t.nextSibling;for(;c&&Sa(c,1);)o=c.parentNode,u=Ht(c)+1,c=c.nextSibling;if(c)t=c,r=0,s=Gc(t);else{if(t=t.parentNode,t==n.dom)break;r=s=0}}}o&&jm(n,o,u)}function ME(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function qR(n,e){for(;n&&e==n.childNodes.length&&!Ga(n);)e=Ht(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function VR(n,e){for(;n&&!e&&!Ga(n);)e=Ht(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function jm(n,e,t){if(e.nodeType!=3){let o,u;(u=qR(e,t))?(e=u,t=0):(o=VR(e,t))&&(e=o,t=o.nodeValue.length)}let r=n.domSelection();if(!r)return;if(Ff(r)){let o=document.createRange();o.setEnd(e,t),o.setStart(e,t),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:s}=n;setTimeout(()=>{n.state==s&&si(n)},50)}function qx(n,e){let t=n.state.doc.resolve(e);if(!(Xt||fR)&&t.parent.inlineContent){let s=n.coordsAtPos(e);if(e>t.start()){let o=n.coordsAtPos(e-1),u=(o.top+o.bottom)/2;if(u>s.top&&u<s.bottom&&Math.abs(o.left-s.left)>1)return o.left<s.left?"ltr":"rtl"}if(e<t.end()){let o=n.coordsAtPos(e+1),u=(o.top+o.bottom)/2;if(u>s.top&&u<s.bottom&&Math.abs(o.left-s.left)>1)return o.left>s.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function Vx(n,e,t){let r=n.state.selection;if(r instanceof Se&&!r.empty||t.indexOf("s")>-1||Fn&&t.indexOf("m")>-1)return!1;let{$from:s,$to:o}=r;if(!s.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let u=Dm(n.state,e);if(u&&u instanceof de)return Bi(n,u)}if(!s.parent.inlineContent){let u=e<0?s:o,c=r instanceof kn?we.near(u,e):we.findFrom(u,e);return c?Bi(n,c):!1}return!1}function Fx(n,e){if(!(n.state.selection instanceof Se))return!0;let{$head:t,$anchor:r,empty:s}=n.state.selection;if(!t.sameParent(r))return!0;if(!s)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(o&&!o.isText){let u=n.state.tr;return e<0?u.delete(t.pos-o.nodeSize,t.pos):u.delete(t.pos,t.pos+o.nodeSize),n.dispatch(u),!0}return!1}function $x(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function FR(n){if(!Zt||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;$x(n,r,"true"),setTimeout(()=>$x(n,r,"false"),20)}return!1}function $R(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function GR(n,e){let t=e.keyCode,r=$R(e);if(t==8||Fn&&t==72&&r=="c")return Fx(n,-1)||Dl(n,-1);if(t==46&&!e.shiftKey||Fn&&t==68&&r=="c")return Fx(n,1)||Dl(n,1);if(t==13||t==27)return!0;if(t==37||Fn&&t==66&&r=="c"){let s=t==37?qx(n,n.state.selection.from)=="ltr"?-1:1:-1;return Ix(n,s,r)||Dl(n,s)}else if(t==39||Fn&&t==70&&r=="c"){let s=t==39?qx(n,n.state.selection.from)=="ltr"?1:-1:1;return Ix(n,s,r)||Dl(n,s)}else{if(t==38||Fn&&t==80&&r=="c")return Vx(n,-1,r)||Dl(n,-1);if(t==40||Fn&&t==78&&r=="c")return FR(n)||Vx(n,1,r)||Dl(n,1);if(r==(Fn?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function dg(n,e){n.someProp("transformCopied",S=>{e=S(e,n)});let t=[],{content:r,openStart:s,openEnd:o}=e;for(;s>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,o--;let S=r.firstChild;t.push(S.type.name,S.attrs!=S.type.defaultAttrs?S.attrs:null),r=S.content}let u=n.someProp("clipboardSerializer")||$s.fromSchema(n.state.schema),c=zE(),d=c.createElement("div");d.appendChild(u.serializeFragment(r,{document:c}));let h=d.firstChild,m,y=0;for(;h&&h.nodeType==1&&(m=LE[h.nodeName.toLowerCase()]);){for(let S=m.length-1;S>=0;S--){let x=c.createElement(m[S]);for(;d.firstChild;)x.appendChild(d.firstChild);d.appendChild(x),y++}h=d.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${s} ${o}${y?` -${y}`:""} ${JSON.stringify(t)}`);let b=n.someProp("clipboardTextSerializer",S=>S(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:b,slice:e}}function RE(n,e,t,r,s){let o=s.parent.type.spec.code,u,c;if(!t&&!e)return null;let d=e&&(r||o||!t);if(d){if(n.someProp("transformPastedText",b=>{e=b(e,o||r,n)}),o)return e?new te(K.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):te.empty;let y=n.someProp("clipboardTextParser",b=>b(e,s,r,n));if(y)c=y;else{let b=s.marks(),{schema:S}=n.state,x=$s.fromSchema(S);u=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(v=>{let A=u.appendChild(document.createElement("p"));v&&A.appendChild(x.serializeNode(S.text(v,b)))})}}else n.someProp("transformPastedHTML",y=>{t=y(t,n)}),u=JR(t),Ya&&QR(u);let h=u&&u.querySelector("[data-pm-slice]"),m=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(m&&m[3])for(let y=+m[3];y>0;y--){let b=u.firstChild;for(;b&&b.nodeType!=1;)b=b.nextSibling;if(!b)break;u=b}if(c||(c=(n.someProp("clipboardParser")||n.someProp("domParser")||Gi.fromSchema(n.state.schema)).parseSlice(u,{preserveWhitespace:!!(d||m),context:s,ruleFromNode(b){return b.nodeName=="BR"&&!b.nextSibling&&b.parentNode&&!YR.test(b.parentNode.nodeName)?{ignore:!0}:null}})),m)c=WR(Gx(c,+m[1],+m[2]),m[4]);else if(c=te.maxOpen(KR(c.content,s),!0),c.openStart||c.openEnd){let y=0,b=0;for(let S=c.content.firstChild;y<c.openStart&&!S.type.spec.isolating;y++,S=S.firstChild);for(let S=c.content.lastChild;b<c.openEnd&&!S.type.spec.isolating;b++,S=S.lastChild);c=Gx(c,y,b)}return n.someProp("transformPasted",y=>{c=y(c,n)}),c}const YR=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function KR(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let s=e.node(t).contentMatchAt(e.index(t)),o,u=[];if(n.forEach(c=>{if(!u)return;let d=s.findWrapping(c.type),h;if(!d)return u=null;if(h=u.length&&o.length&&jE(d,o,c,u[u.length-1],0))u[u.length-1]=h;else{u.length&&(u[u.length-1]=_E(u[u.length-1],o.length));let m=DE(c,d);u.push(m),s=s.matchType(m.type),o=d}}),u)return K.from(u)}return n}function DE(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,K.from(n));return n}function jE(n,e,t,r,s){if(s<n.length&&s<e.length&&n[s]==e[s]){let o=jE(n,e,t,r.lastChild,s+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(s==n.length-1?t.type:n[s+1]))return r.copy(r.content.append(K.from(DE(t,n,s+1))))}}function _E(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,_E(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(K.empty,!0);return n.copy(t.append(r))}function _m(n,e,t,r,s,o){let u=e<0?n.firstChild:n.lastChild,c=u.content;return n.childCount>1&&(o=0),s<r-1&&(c=_m(c,e,t,r,s+1,o)),s>=t&&(c=e<0?u.contentMatchAt(0).fillBefore(c,o<=s).append(c):c.append(u.contentMatchAt(u.childCount).fillBefore(K.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,u.copy(c))}function Gx(n,e,t){return e<n.openStart&&(n=new te(_m(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new te(_m(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const LE={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Yx=null;function zE(){return Yx||(Yx=document.implementation.createHTMLDocument("title"))}let Bp=null;function XR(n){let e=window.trustedTypes;return e?(Bp||(Bp=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),Bp.createHTML(n)):n}function JR(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=zE().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),s;if((s=r&&LE[r[1].toLowerCase()])&&(n=s.map(o=>"<"+o+">").join("")+n+s.map(o=>"</"+o+">").reverse().join("")),t.innerHTML=XR(n),s)for(let o=0;o<s.length;o++)t=t.querySelector(s[o])||t;return t}function QR(n){let e=n.querySelectorAll(Xt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function WR(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:s,openStart:o,openEnd:u}=n;for(let c=r.length-2;c>=0;c-=2){let d=t.nodes[r[c]];if(!d||d.hasRequiredAttrs())break;s=K.from(d.create(r[c+1],s)),o++,u++}return new te(s,o,u)}const en={},tn={},ZR={touchstart:!0,touchmove:!0};class e2{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function t2(n){for(let e in en){let t=en[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{r2(n,r)&&!hg(n,r)&&(n.editable||!(r.type in tn))&&t(n,r)},ZR[e]?{passive:!0}:void 0)}Zt&&n.dom.addEventListener("input",()=>null),Lm(n)}function Fi(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function n2(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function Lm(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>hg(n,r))})}function hg(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function r2(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function i2(n,e){!hg(n,e)&&en[e.type]&&(n.editable||!(e.type in tn))&&en[e.type](n,e)}tn.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!HE(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(ni&&Xt&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),Vl&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",s=>s(n,ws(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||GR(n,t)?t.preventDefault():Fi(n,"key")};tn.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};tn.keypress=(n,e)=>{let t=e;if(HE(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||Fn&&t.metaKey)return;if(n.someProp("handleKeyPress",s=>s(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof Se)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(t.charCode);!/[\r\n]/.test(s)&&!n.someProp("handleTextInput",o=>o(n,r.$from.pos,r.$to.pos,s))&&n.dispatch(n.state.tr.insertText(s).scrollIntoView()),t.preventDefault()}};function Gf(n){return{left:n.clientX,top:n.clientY}}function s2(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function pg(n,e,t,r,s){if(r==-1)return!1;let o=n.state.doc.resolve(r);for(let u=o.depth+1;u>0;u--)if(n.someProp(e,c=>u>o.depth?c(n,t,o.nodeAfter,o.before(u),s,!0):c(n,t,o.node(u),o.before(u),s,!1)))return!0;return!1}function Pl(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function l2(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&de.isSelectable(r)?(Pl(n,new de(t)),!0):!1}function o2(n,e){if(e==-1)return!1;let t=n.state.selection,r,s;t instanceof de&&(r=t.node);let o=n.state.doc.resolve(e);for(let u=o.depth+1;u>0;u--){let c=u>o.depth?o.nodeAfter:o.node(u);if(de.isSelectable(c)){r&&t.$from.depth>0&&u>=t.$from.depth&&o.before(t.$from.depth+1)==t.$from.pos?s=o.before(t.$from.depth):s=o.before(u);break}}return s!=null?(Pl(n,de.create(n.state.doc,s)),!0):!1}function a2(n,e,t,r,s){return pg(n,"handleClickOn",e,t,r)||n.someProp("handleClick",o=>o(n,e,r))||(s?o2(n,t):l2(n,t))}function u2(n,e,t,r){return pg(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",s=>s(n,e,r))}function c2(n,e,t,r){return pg(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",s=>s(n,e,r))||f2(n,t,r)}function f2(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(Pl(n,Se.create(r,0,r.content.size)),!0):!1;let s=r.resolve(e);for(let o=s.depth+1;o>0;o--){let u=o>s.depth?s.nodeAfter:s.node(o),c=s.before(o);if(u.inlineContent)Pl(n,Se.create(r,c+1,c+1+u.content.size));else if(de.isSelectable(u))Pl(n,de.create(r,c));else continue;return!0}}function mg(n){return Yc(n)}const BE=Fn?"metaKey":"ctrlKey";en.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=mg(n),s=Date.now(),o="singleClick";s-n.input.lastClick.time<500&&s2(t,n.input.lastClick)&&!t[BE]&&n.input.lastClick.button==t.button&&(n.input.lastClick.type=="singleClick"?o="doubleClick":n.input.lastClick.type=="doubleClick"&&(o="tripleClick")),n.input.lastClick={time:s,x:t.clientX,y:t.clientY,type:o,button:t.button};let u=n.posAtCoords(Gf(t));u&&(o=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new d2(n,u,t,!!r)):(o=="doubleClick"?u2:c2)(n,u.pos,u.inside,t)?t.preventDefault():Fi(n,"pointer"))};class d2{constructor(e,t,r,s){this.view=e,this.pos=t,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[BE],this.allowDefault=r.shiftKey;let o,u;if(t.inside>-1)o=e.state.doc.nodeAt(t.inside),u=t.inside;else{let m=e.state.doc.resolve(t.pos);o=m.parent,u=m.depth?m.before():0}const c=s?null:r.target,d=c?e.docView.nearestDesc(c,!0):null;this.target=d&&d.dom.nodeType==1?d.dom:null;let{selection:h}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||h instanceof de&&h.from<=u&&h.to>u)&&(this.mightDrag={node:o,pos:u,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&lr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Fi(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>si(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Gf(e))),this.updateAllowDefault(e),this.allowDefault||!t?Fi(this.view,"pointer"):a2(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Zt&&this.mightDrag&&!this.mightDrag.node.isAtom||Xt&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Pl(this.view,we.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Fi(this.view,"pointer")}move(e){this.updateAllowDefault(e),Fi(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}en.touchstart=n=>{n.input.lastTouch=Date.now(),mg(n),Fi(n,"pointer")};en.touchmove=n=>{n.input.lastTouch=Date.now(),Fi(n,"pointer")};en.contextmenu=n=>mg(n);function HE(n,e){return n.composing?!0:Zt&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const h2=ni?5e3:-1;tn.compositionstart=tn.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof Se&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),Yc(n,!0),n.markCursor=null;else if(Yc(n,!e.selection.empty),lr&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let s=r.focusNode,o=r.focusOffset;s&&s.nodeType==1&&o!=0;){let u=o<0?s.lastChild:s.childNodes[o-1];if(!u)break;if(u.nodeType==3){let c=n.domSelection();c&&c.collapse(u,u.nodeValue.length);break}else s=u,o=-1}}n.input.composing=!0}UE(n,h2)};tn.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,UE(n,20))};function UE(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>Yc(n),e))}function PE(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=m2());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function p2(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=lR(e.focusNode,e.focusOffset),r=oR(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let s=r.pmViewDesc,o=n.domObserver.lastChangedTextNode;if(t==o||r==o)return o;if(!s||!s.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let u=t.pmViewDesc;if(!(!u||!u.isText(t.nodeValue)))return r}}return t||r}function m2(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function Yc(n,e=!1){if(!(ni&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),PE(n),e||n.docView&&n.docView.dirty){let t=cg(n),r=n.state.selection;return t&&!t.eq(r)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function g2(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const _a=yn&&Yi<15||Vl&&dR<604;en.copy=tn.cut=(n,e)=>{let t=e,r=n.state.selection,s=t.type=="cut";if(r.empty)return;let o=_a?null:t.clipboardData,u=r.content(),{dom:c,text:d}=dg(n,u);o?(t.preventDefault(),o.clearData(),o.setData("text/html",c.innerHTML),o.setData("text/plain",d)):g2(n,c),s&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function y2(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function b2(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?La(n,r.value,null,s,e):La(n,r.textContent,r.innerHTML,s,e)},50)}function La(n,e,t,r,s){let o=RE(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",d=>d(n,s,o||te.empty)))return!0;if(!o)return!1;let u=y2(o),c=u?n.state.tr.replaceSelectionWith(u,r):n.state.tr.replaceSelection(o);return n.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function IE(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}tn.paste=(n,e)=>{let t=e;if(n.composing&&!ni)return;let r=_a?null:t.clipboardData,s=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&La(n,IE(r),r.getData("text/html"),s,t)?t.preventDefault():b2(n,t)};class qE{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const x2=Fn?"altKey":"ctrlKey";function VE(n,e){let t=n.someProp("dragCopies",r=>!r(e));return t??!e[x2]}en.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let s=n.state.selection,o=s.empty?null:n.posAtCoords(Gf(t)),u;if(!(o&&o.pos>=s.from&&o.pos<=(s instanceof de?s.to-1:s.to))){if(r&&r.mightDrag)u=de.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let y=n.docView.nearestDesc(t.target,!0);y&&y.node.type.spec.draggable&&y!=n.docView&&(u=de.create(n.state.doc,y.posBefore))}}let c=(u||n.state.selection).content(),{dom:d,text:h,slice:m}=dg(n,c);(!t.dataTransfer.files.length||!Xt||mE>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(_a?"Text":"text/html",d.innerHTML),t.dataTransfer.effectAllowed="copyMove",_a||t.dataTransfer.setData("text/plain",h),n.dragging=new qE(m,VE(n,t),u)};en.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};tn.dragover=tn.dragenter=(n,e)=>e.preventDefault();tn.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let s=n.posAtCoords(Gf(t));if(!s)return;let o=n.state.doc.resolve(s.pos),u=r&&r.slice;u?n.someProp("transformPasted",x=>{u=x(u,n)}):u=RE(n,IE(t.dataTransfer),_a?null:t.dataTransfer.getData("text/html"),!1,o);let c=!!(r&&VE(n,t));if(n.someProp("handleDrop",x=>x(n,t,u||te.empty,c))){t.preventDefault();return}if(!u)return;t.preventDefault();let d=u?lE(n.state.doc,o.pos,u):o.pos;d==null&&(d=o.pos);let h=n.state.tr;if(c){let{node:x}=r;x?x.replace(h):h.deleteSelection()}let m=h.mapping.map(d),y=u.openStart==0&&u.openEnd==0&&u.content.childCount==1,b=h.doc;if(y?h.replaceRangeWith(m,m,u.content.firstChild):h.replaceRange(m,m,u),h.doc.eq(b))return;let S=h.doc.resolve(m);if(y&&de.isSelectable(u.content.firstChild)&&S.nodeAfter&&S.nodeAfter.sameMarkup(u.content.firstChild))h.setSelection(new de(S));else{let x=h.mapping.map(d);h.mapping.maps[h.mapping.maps.length-1].forEach((v,A,C,O)=>x=O),h.setSelection(fg(n,S,h.doc.resolve(x)))}n.focus(),n.dispatch(h.setMeta("uiEvent","drop"))};en.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&si(n)},20))};en.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};en.beforeinput=(n,e)=>{if(Xt&&ni&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",o=>o(n,ws(8,"Backspace")))))return;let{$cursor:s}=n.state.selection;s&&s.pos>0&&n.dispatch(n.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let n in tn)en[n]=tn[n];function za(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class Kc{constructor(e,t){this.toDOM=e,this.spec=t||zs,this.side=this.spec.side||0}map(e,t,r,s){let{pos:o,deleted:u}=e.mapResult(t.from+s,this.side<0?-1:1);return u?null:new Gn(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Kc&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&za(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Xi{constructor(e,t){this.attrs=e,this.spec=t||zs}map(e,t,r,s){let o=e.map(t.from+s,this.spec.inclusiveStart?-1:1)-r,u=e.map(t.to+s,this.spec.inclusiveEnd?1:-1)-r;return o>=u?null:new Gn(o,u,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Xi&&za(this.attrs,e.attrs)&&za(this.spec,e.spec)}static is(e){return e.type instanceof Xi}destroy(){}}class gg{constructor(e,t){this.attrs=e,this.spec=t||zs}map(e,t,r,s){let o=e.mapResult(t.from+s,1);if(o.deleted)return null;let u=e.mapResult(t.to+s,-1);return u.deleted||u.pos<=o.pos?null:new Gn(o.pos-r,u.pos-r,this)}valid(e,t){let{index:r,offset:s}=e.content.findIndex(t.from),o;return s==t.from&&!(o=e.child(r)).isText&&s+o.nodeSize==t.to}eq(e){return this==e||e instanceof gg&&za(this.attrs,e.attrs)&&za(this.spec,e.spec)}destroy(){}}class Gn{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new Gn(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new Gn(e,e,new Kc(t,r))}static inline(e,t,r,s){return new Gn(e,t,new Xi(r,s))}static node(e,t,r,s){return new Gn(e,t,new gg(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof Xi}get widget(){return this.type instanceof Kc}}const _l=[],zs={};class St{constructor(e,t){this.local=e.length?e:_l,this.children=t.length?t:_l}static create(e,t){return t.length?Xc(t,e,0,zs):Yt}find(e,t,r){let s=[];return this.findInner(e??0,t??1e9,s,0,r),s}findInner(e,t,r,s,o){for(let u=0;u<this.local.length;u++){let c=this.local[u];c.from<=t&&c.to>=e&&(!o||o(c.spec))&&r.push(c.copy(c.from+s,c.to+s))}for(let u=0;u<this.children.length;u+=3)if(this.children[u]<t&&this.children[u+1]>e){let c=this.children[u]+1;this.children[u+2].findInner(e-c,t-c,r,s+c,o)}}map(e,t,r){return this==Yt||e.maps.length==0?this:this.mapInner(e,t,0,0,r||zs)}mapInner(e,t,r,s,o){let u;for(let c=0;c<this.local.length;c++){let d=this.local[c].map(e,r,s);d&&d.type.valid(t,d)?(u||(u=[])).push(d):o.onRemove&&o.onRemove(this.local[c].spec)}return this.children.length?S2(this.children,u||[],e,t,r,s,o):u?new St(u.sort(Bs),_l):Yt}add(e,t){return t.length?this==Yt?St.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let s,o=0;e.forEach((c,d)=>{let h=d+r,m;if(m=$E(t,c,h)){for(s||(s=this.children.slice());o<s.length&&s[o]<d;)o+=3;s[o]==d?s[o+2]=s[o+2].addInner(c,m,h+1):s.splice(o,0,d,d+c.nodeSize,Xc(m,c,h+1,zs)),o+=3}});let u=FE(o?GE(t):t,-r);for(let c=0;c<u.length;c++)u[c].type.valid(e,u[c])||u.splice(c--,1);return new St(u.length?this.local.concat(u).sort(Bs):this.local,s||this.children)}remove(e){return e.length==0||this==Yt?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,s=this.local;for(let o=0;o<r.length;o+=3){let u,c=r[o]+t,d=r[o+1]+t;for(let m=0,y;m<e.length;m++)(y=e[m])&&y.from>c&&y.to<d&&(e[m]=null,(u||(u=[])).push(y));if(!u)continue;r==this.children&&(r=this.children.slice());let h=r[o+2].removeInner(u,c+1);h!=Yt?r[o+2]=h:(r.splice(o,3),o-=3)}if(s.length){for(let o=0,u;o<e.length;o++)if(u=e[o])for(let c=0;c<s.length;c++)s[c].eq(u,t)&&(s==this.local&&(s=this.local.slice()),s.splice(c--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new St(s,r):Yt}forChild(e,t){if(this==Yt)return this;if(t.isLeaf)return St.empty;let r,s;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=e){this.children[c]==e&&(r=this.children[c+2]);break}let o=e+1,u=o+t.content.size;for(let c=0;c<this.local.length;c++){let d=this.local[c];if(d.from<u&&d.to>o&&d.type instanceof Xi){let h=Math.max(o,d.from)-o,m=Math.min(u,d.to)-o;h<m&&(s||(s=[])).push(d.copy(h,m))}}if(s){let c=new St(s.sort(Bs),_l);return r?new Pi([c,r]):c}return r||Yt}eq(e){if(this==e)return!0;if(!(e instanceof St)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return yg(this.localsInner(e))}localsInner(e){if(this==Yt)return _l;if(e.inlineContent||!this.local.some(Xi.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Xi||t.push(this.local[r]);return t}forEachSet(e){e(this)}}St.empty=new St([],[]);St.removeOverlap=yg;const Yt=St.empty;class Pi{constructor(e){this.members=e}map(e,t){const r=this.members.map(s=>s.map(e,t,zs));return Pi.from(r)}forChild(e,t){if(t.isLeaf)return St.empty;let r=[];for(let s=0;s<this.members.length;s++){let o=this.members[s].forChild(e,t);o!=Yt&&(o instanceof Pi?r=r.concat(o.members):r.push(o))}return Pi.from(r)}eq(e){if(!(e instanceof Pi)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let s=0;s<this.members.length;s++){let o=this.members[s].localsInner(e);if(o.length)if(!t)t=o;else{r&&(t=t.slice(),r=!1);for(let u=0;u<o.length;u++)t.push(o[u])}}return t?yg(r?t:t.sort(Bs)):_l}static from(e){switch(e.length){case 0:return Yt;case 1:return e[0];default:return new Pi(e.every(t=>t instanceof St)?e:e.reduce((t,r)=>t.concat(r instanceof St?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function S2(n,e,t,r,s,o,u){let c=n.slice();for(let h=0,m=o;h<t.maps.length;h++){let y=0;t.maps[h].forEach((b,S,x,v)=>{let A=v-x-(S-b);for(let C=0;C<c.length;C+=3){let O=c[C+1];if(O<0||b>O+m-y)continue;let _=c[C]+m-y;S>=_?c[C+1]=b<=_?-2:-1:b>=m&&A&&(c[C]+=A,c[C+1]+=A)}y+=A}),m=t.maps[h].map(m,-1)}let d=!1;for(let h=0;h<c.length;h+=3)if(c[h+1]<0){if(c[h+1]==-2){d=!0,c[h+1]=-1;continue}let m=t.map(n[h]+o),y=m-s;if(y<0||y>=r.content.size){d=!0;continue}let b=t.map(n[h+1]+o,-1),S=b-s,{index:x,offset:v}=r.content.findIndex(y),A=r.maybeChild(x);if(A&&v==y&&v+A.nodeSize==S){let C=c[h+2].mapInner(t,A,m+1,n[h]+o+1,u);C!=Yt?(c[h]=y,c[h+1]=S,c[h+2]=C):(c[h+1]=-2,d=!0)}else d=!0}if(d){let h=v2(c,n,e,t,s,o,u),m=Xc(h,r,0,u);e=m.local;for(let y=0;y<c.length;y+=3)c[y+1]<0&&(c.splice(y,3),y-=3);for(let y=0,b=0;y<m.children.length;y+=3){let S=m.children[y];for(;b<c.length&&c[b]<S;)b+=3;c.splice(b,0,m.children[y],m.children[y+1],m.children[y+2])}}return new St(e.sort(Bs),c)}function FE(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let s=n[r];t.push(new Gn(s.from+e,s.to+e,s.type))}return t}function v2(n,e,t,r,s,o,u){function c(d,h){for(let m=0;m<d.local.length;m++){let y=d.local[m].map(r,s,h);y?t.push(y):u.onRemove&&u.onRemove(d.local[m].spec)}for(let m=0;m<d.children.length;m+=3)c(d.children[m+2],d.children[m]+h+1)}for(let d=0;d<n.length;d+=3)n[d+1]==-1&&c(n[d+2],e[d]+o+1);return t}function $E(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,s=null;for(let o=0,u;o<n.length;o++)(u=n[o])&&u.from>t&&u.to<r&&((s||(s=[])).push(u),n[o]=null);return s}function GE(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function Xc(n,e,t,r){let s=[],o=!1;e.forEach((c,d)=>{let h=$E(n,c,d+t);if(h){o=!0;let m=Xc(h,c,t+d+1,r);m!=Yt&&s.push(d,d+c.nodeSize,m)}});let u=FE(o?GE(n):n,-t).sort(Bs);for(let c=0;c<u.length;c++)u[c].type.valid(e,u[c])||(r.onRemove&&r.onRemove(u[c].spec),u.splice(c--,1));return u.length||s.length?new St(u,s):Yt}function Bs(n,e){return n.from-e.from||n.to-e.to}function yg(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let s=t+1;s<e.length;s++){let o=e[s];if(o.from==r.from){o.to!=r.to&&(e==n&&(e=n.slice()),e[s]=o.copy(o.from,r.to),Kx(e,s+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,o.from),Kx(e,s,r.copy(o.from,r.to)));break}}}return e}function Kx(n,e,t){for(;e<n.length&&Bs(t,n[e])>0;)e++;n.splice(e,0,t)}function Hp(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=Yt&&e.push(r)}),n.cursorWrapper&&e.push(St.create(n.state.doc,[n.cursorWrapper.deco])),Pi.from(e)}const E2={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},T2=yn&&Yi<=11;class A2{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class w2{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new A2,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);yn&&Yi<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),T2&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,E2)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Px(this.view)){if(this.suppressingSelectionUpdates)return si(this.view);if(yn&&Yi<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&qs(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let o=e.focusNode;o;o=ql(o))t.add(o);for(let o=e.anchorNode;o;o=ql(o))if(t.has(o)){r=o;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Px(e)&&!this.ignoreSelectionChange(r),o=-1,u=-1,c=!1,d=[];if(e.editable)for(let m=0;m<t.length;m++){let y=this.registerMutation(t[m],d);y&&(o=o<0?y.from:Math.min(y.from,o),u=u<0?y.to:Math.max(y.to,u),y.typeOver&&(c=!0))}if(lr&&d.length){let m=d.filter(y=>y.nodeName=="BR");if(m.length==2){let[y,b]=m;y.parentNode&&y.parentNode.parentNode==b.parentNode?b.remove():y.remove()}else{let{focusNode:y}=this.currentSelection;for(let b of m){let S=b.parentNode;S&&S.nodeName=="LI"&&(!y||O2(e,y)!=S)&&b.remove()}}}let h=null;o<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Ff(r)&&(h=cg(e))&&h.eq(we.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,si(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||s)&&(o>-1&&(e.docView.markDirty(o,u),C2(e)),this.handleDOMChange(o,u,c,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||si(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let m=0;m<e.addedNodes.length;m++){let y=e.addedNodes[m];t.push(y),y.nodeType==3&&(this.lastChangedTextNode=y)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,o=e.nextSibling;if(yn&&Yi<=11&&e.addedNodes.length)for(let m=0;m<e.addedNodes.length;m++){let{previousSibling:y,nextSibling:b}=e.addedNodes[m];(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(s=y),(!b||Array.prototype.indexOf.call(e.addedNodes,b)<0)&&(o=b)}let u=s&&s.parentNode==e.target?Ht(s)+1:0,c=r.localPosFromDOM(e.target,u,-1),d=o&&o.parentNode==e.target?Ht(o):e.target.childNodes.length,h=r.localPosFromDOM(e.target,d,1);return{from:c,to:h}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Xx=new WeakMap,Jx=!1;function C2(n){if(!Xx.has(n)&&(Xx.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=lr,Jx)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Jx=!0}}function Qx(n,e){let t=e.startContainer,r=e.startOffset,s=e.endContainer,o=e.endOffset,u=n.domAtPos(n.state.selection.anchor);return qs(u.node,u.offset,s,o)&&([t,r,s,o]=[s,o,t,r]),{anchorNode:t,anchorOffset:r,focusNode:s,focusOffset:o}}function N2(n,e){if(e.getComposedRanges){let s=e.getComposedRanges(n.root)[0];if(s)return Qx(n,s)}let t;function r(s){s.preventDefault(),s.stopImmediatePropagation(),t=s.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?Qx(n,t):null}function O2(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function k2(n,e,t){let{node:r,fromOffset:s,toOffset:o,from:u,to:c}=n.docView.parseRange(e,t),d=n.domSelectionRange(),h,m=d.anchorNode;if(m&&n.dom.contains(m.nodeType==1?m:m.parentNode)&&(h=[{node:m,offset:d.anchorOffset}],Ff(d)||h.push({node:d.focusNode,offset:d.focusOffset})),Xt&&n.input.lastKeyCode===8)for(let A=o;A>s;A--){let C=r.childNodes[A-1],O=C.pmViewDesc;if(C.nodeName=="BR"&&!O){o=A;break}if(!O||O.size)break}let y=n.state.doc,b=n.someProp("domParser")||Gi.fromSchema(n.state.schema),S=y.resolve(u),x=null,v=b.parse(r,{topNode:S.parent,topMatch:S.parent.contentMatchAt(S.index()),topOpen:!0,from:s,to:o,preserveWhitespace:S.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:M2,context:S});if(h&&h[0].pos!=null){let A=h[0].pos,C=h[1]&&h[1].pos;C==null&&(C=A),x={anchor:A+u,head:C+u}}return{doc:v,sel:x,from:u,to:c}}function M2(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(Zt&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||Zt&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const R2=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function D2(n,e,t,r,s){let o=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let Z=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,Me=cg(n,Z);if(Me&&!n.state.selection.eq(Me)){if(Xt&&ni&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",xe=>xe(n,ws(13,"Enter"))))return;let ve=n.state.tr.setSelection(Me);Z=="pointer"?ve.setMeta("pointer",!0):Z=="key"&&ve.scrollIntoView(),o&&ve.setMeta("composition",o),n.dispatch(ve)}return}let u=n.state.doc.resolve(e),c=u.sharedDepth(t);e=u.before(c+1),t=n.state.doc.resolve(t).after(c+1);let d=n.state.selection,h=k2(n,e,t),m=n.state.doc,y=m.slice(h.from,h.to),b,S;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(b=n.state.selection.to,S="end"):(b=n.state.selection.from,S="start"),n.input.lastKeyCode=null;let x=L2(y.content,h.doc.content,h.from,b,S);if(x&&n.input.domChangeCount++,(Vl&&n.input.lastIOSEnter>Date.now()-225||ni)&&s.some(Z=>Z.nodeType==1&&!R2.test(Z.nodeName))&&(!x||x.endA>=x.endB)&&n.someProp("handleKeyDown",Z=>Z(n,ws(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!x)if(r&&d instanceof Se&&!d.empty&&d.$head.sameParent(d.$anchor)&&!n.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))x={start:d.from,endA:d.to,endB:d.to};else{if(h.sel){let Z=Wx(n,n.state.doc,h.sel);if(Z&&!Z.eq(n.state.selection)){let Me=n.state.tr.setSelection(Z);o&&Me.setMeta("composition",o),n.dispatch(Me)}}return}n.state.selection.from<n.state.selection.to&&x.start==x.endB&&n.state.selection instanceof Se&&(x.start>n.state.selection.from&&x.start<=n.state.selection.from+2&&n.state.selection.from>=h.from?x.start=n.state.selection.from:x.endA<n.state.selection.to&&x.endA>=n.state.selection.to-2&&n.state.selection.to<=h.to&&(x.endB+=n.state.selection.to-x.endA,x.endA=n.state.selection.to)),yn&&Yi<=11&&x.endB==x.start+1&&x.endA==x.start&&x.start>h.from&&h.doc.textBetween(x.start-h.from-1,x.start-h.from+1)=="  "&&(x.start--,x.endA--,x.endB--);let v=h.doc.resolveNoCache(x.start-h.from),A=h.doc.resolveNoCache(x.endB-h.from),C=m.resolve(x.start),O=v.sameParent(A)&&v.parent.inlineContent&&C.end()>=x.endA,_;if((Vl&&n.input.lastIOSEnter>Date.now()-225&&(!O||s.some(Z=>Z.nodeName=="DIV"||Z.nodeName=="P"))||!O&&v.pos<h.doc.content.size&&(!v.sameParent(A)||!v.parent.inlineContent)&&!/\S/.test(h.doc.textBetween(v.pos,A.pos,"",""))&&(_=we.findFrom(h.doc.resolve(v.pos+1),1,!0))&&_.head>v.pos)&&n.someProp("handleKeyDown",Z=>Z(n,ws(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>x.start&&_2(m,x.start,x.endA,v,A)&&n.someProp("handleKeyDown",Z=>Z(n,ws(8,"Backspace")))){ni&&Xt&&n.domObserver.suppressSelectionUpdates();return}Xt&&x.endB==x.start&&(n.input.lastChromeDelete=Date.now()),ni&&!O&&v.start()!=A.start()&&A.parentOffset==0&&v.depth==A.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==x.endA&&(x.endB-=2,A=h.doc.resolveNoCache(x.endB-h.from),setTimeout(()=>{n.someProp("handleKeyDown",function(Z){return Z(n,ws(13,"Enter"))})},20));let q=x.start,P=x.endA,W,ee,oe;if(O){if(v.pos==A.pos)yn&&Yi<=11&&v.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>si(n),20)),W=n.state.tr.delete(q,P),ee=m.resolve(x.start).marksAcross(m.resolve(x.endA));else if(x.endA==x.endB&&(oe=j2(v.parent.content.cut(v.parentOffset,A.parentOffset),C.parent.content.cut(C.parentOffset,x.endA-C.start()))))W=n.state.tr,oe.type=="add"?W.addMark(q,P,oe.mark):W.removeMark(q,P,oe.mark);else if(v.parent.child(v.index()).isText&&v.index()==A.index()-(A.textOffset?0:1)){let Z=v.parent.textBetween(v.parentOffset,A.parentOffset);if(n.someProp("handleTextInput",Me=>Me(n,q,P,Z)))return;W=n.state.tr.insertText(Z,q,P)}}if(W||(W=n.state.tr.replace(q,P,h.doc.slice(x.start-h.from,x.endB-h.from))),h.sel){let Z=Wx(n,W.doc,h.sel);Z&&!(Xt&&n.composing&&Z.empty&&(x.start!=x.endB||n.input.lastChromeDelete<Date.now()-100)&&(Z.head==q||Z.head==W.mapping.map(P)-1)||yn&&Z.empty&&Z.head==q)&&W.setSelection(Z)}ee&&W.ensureMarks(ee),o&&W.setMeta("composition",o),n.dispatch(W.scrollIntoView())}function Wx(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:fg(n,e.resolve(t.anchor),e.resolve(t.head))}function j2(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,s=t,o=r,u,c,d;for(let m=0;m<r.length;m++)s=r[m].removeFromSet(s);for(let m=0;m<t.length;m++)o=t[m].removeFromSet(o);if(s.length==1&&o.length==0)c=s[0],u="add",d=m=>m.mark(c.addToSet(m.marks));else if(s.length==0&&o.length==1)c=o[0],u="remove",d=m=>m.mark(c.removeFromSet(m.marks));else return null;let h=[];for(let m=0;m<e.childCount;m++)h.push(d(e.child(m)));if(K.from(h).eq(n))return{mark:c,type:u}}function _2(n,e,t,r,s){if(t-e<=s.pos-r.pos||Up(r,!0,!1)<s.pos)return!1;let o=n.resolve(e);if(!r.parent.isTextblock){let c=o.nodeAfter;return c!=null&&t==e+c.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let u=n.resolve(Up(o,!0,!0));return!u.parent.isTextblock||u.pos>t||Up(u,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(u.parent.content)}function Up(n,e,t){let r=n.depth,s=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,s++,e=!1;if(t){let o=n.node(r).maybeChild(n.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,s++}return s}function L2(n,e,t,r,s){let o=n.findDiffStart(e,t);if(o==null)return null;let{a:u,b:c}=n.findDiffEnd(e,t+n.size,t+e.size);if(s=="end"){let d=Math.max(0,o-Math.min(u,c));r-=u+d-o}if(u<o&&n.size<e.size){let d=r<=o&&r>=u?o-r:0;o-=d,o&&o<e.size&&Zx(e.textBetween(o-1,o+1))&&(o+=d?1:-1),c=o+(c-u),u=o}else if(c<o){let d=r<=o&&r>=c?o-r:0;o-=d,o&&o<n.size&&Zx(n.textBetween(o-1,o+1))&&(o+=d?1:-1),u=o+(u-c),c=o}return{start:o,endA:u,endB:c}}function Zx(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class z2{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new e2,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(iS),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=nS(this),tS(this),this.nodeViews=rS(this),this.docView=_x(this.state.doc,eS(this),Hp(this),this.dom,this),this.domObserver=new w2(this,(r,s,o,u)=>D2(this,r,s,o,u)),this.domObserver.start(),t2(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Lm(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(iS),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let s=this.state,o=!1,u=!1;e.storedMarks&&this.composing&&(PE(this),u=!0),this.state=e;let c=s.plugins!=e.plugins||this._props.plugins!=t.plugins;if(c||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let S=rS(this);H2(S,this.nodeViews)&&(this.nodeViews=S,o=!0)}(c||t.handleDOMEvents!=this._props.handleDOMEvents)&&Lm(this),this.editable=nS(this),tS(this);let d=Hp(this),h=eS(this),m=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",y=o||!this.docView.matchesNode(e.doc,h,d);(y||!e.selection.eq(s.selection))&&(u=!0);let b=m=="preserve"&&u&&this.dom.style.overflowAnchor==null&&mR(this);if(u){this.domObserver.stop();let S=y&&(yn||Xt)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&B2(s.selection,e.selection);if(y){let x=Xt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=p2(this)),(o||!this.docView.update(e.doc,h,d,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=_x(e.doc,h,d,this.dom,this)),x&&!this.trackWrites&&(S=!0)}S||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&UR(this))?si(this,S):(OE(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),m=="reset"?this.dom.scrollTop=0:m=="to selection"?this.scrollToSelection():b&&gR(b)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof de){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&Ox(this,t.getBoundingClientRect(),e)}else Ox(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let o=r.from+(this.state.doc.content.size-t.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(s=o)}this.dragging=new qE(e.slice,e.move,s<0?void 0:de.create(this.state.doc,s))}someProp(e,t){let r=this._props&&this._props[e],s;if(r!=null&&(s=t?t(r):r))return s;for(let u=0;u<this.directPlugins.length;u++){let c=this.directPlugins[u].props[e];if(c!=null&&(s=t?t(c):c))return s}let o=this.state.plugins;if(o)for(let u=0;u<o.length;u++){let c=o[u].props[e];if(c!=null&&(s=t?t(c):c))return s}}hasFocus(){if(yn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&yR(this.dom),si(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return ER(this,e)}coordsAtPos(e,t=1){return SE(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let s=this.docView.posFromDOM(e,t,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,t){return NR(this,t||this.state,e)}pasteHTML(e,t){return La(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return La(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return dg(this,e)}destroy(){this.docView&&(n2(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Hp(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,iR())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return i2(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?Zt&&this.root.nodeType===11&&uR(this.dom.ownerDocument)==this.dom&&N2(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function eS(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[Gn.node(0,n.state.doc.content.size,e)]}function tS(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:Gn.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function nS(n){return!n.someProp("editable",e=>e(n.state)===!1)}function B2(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function rS(n){let e=Object.create(null);function t(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function H2(n,e){let t=0,r=0;for(let s in n){if(n[s]!=e[s])return!0;t++}for(let s in e)r++;return t!=r}function iS(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Ji={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Jc={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},U2=typeof navigator<"u"&&/Mac/.test(navigator.platform),P2=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ut=0;Ut<10;Ut++)Ji[48+Ut]=Ji[96+Ut]=String(Ut);for(var Ut=1;Ut<=24;Ut++)Ji[Ut+111]="F"+Ut;for(var Ut=65;Ut<=90;Ut++)Ji[Ut]=String.fromCharCode(Ut+32),Jc[Ut]=String.fromCharCode(Ut);for(var Pp in Ji)Jc.hasOwnProperty(Pp)||(Jc[Pp]=Ji[Pp]);function I2(n){var e=U2&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||P2&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?Jc:Ji)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const q2=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),V2=typeof navigator<"u"&&/Win/.test(navigator.platform);function F2(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,s,o,u;for(let c=0;c<e.length-1;c++){let d=e[c];if(/^(cmd|meta|m)$/i.test(d))u=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))o=!0;else if(/^mod$/i.test(d))q2?u=!0:s=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(t="Alt-"+t),s&&(t="Ctrl-"+t),u&&(t="Meta-"+t),o&&(t="Shift-"+t),t}function $2(n){let e=Object.create(null);for(let t in n)e[F2(t)]=n[t];return e}function Ip(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function G2(n){return new Pt({props:{handleKeyDown:YE(n)}})}function YE(n){let e=$2(n);return function(t,r){let s=I2(r),o,u=e[Ip(s,r)];if(u&&u(t.state,t.dispatch,t))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let c=e[Ip(s,r,!1)];if(c&&c(t.state,t.dispatch,t))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(V2&&r.ctrlKey&&r.altKey)&&(o=Ji[r.keyCode])&&o!=s){let c=e[Ip(o,r)];if(c&&c(t.state,t.dispatch,t))return!0}}return!1}}const bg=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function KE(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const XE=(n,e,t)=>{let r=KE(n,t);if(!r)return!1;let s=xg(r);if(!s){let u=r.blockRange(),c=u&&Ql(u);return c==null?!1:(e&&e(n.tr.lift(u,c).scrollIntoView()),!0)}let o=s.nodeBefore;if(iT(n,s,e,-1))return!0;if(r.parent.content.size==0&&(Fl(o,"end")||de.isSelectable(o)))for(let u=r.depth;;u--){let c=qf(n.doc,r.before(u),r.after(u),te.empty);if(c&&c.slice.size<c.to-c.from){if(e){let d=n.tr.step(c);d.setSelection(Fl(o,"end")?we.findFrom(d.doc.resolve(d.mapping.map(s.pos,-1)),-1):de.create(d.doc,s.pos-o.nodeSize)),e(d.scrollIntoView())}return!0}if(u==1||r.node(u-1).childCount>1)break}return o.isAtom&&s.depth==r.depth-1?(e&&e(n.tr.delete(s.pos-o.nodeSize,s.pos).scrollIntoView()),!0):!1},Y2=(n,e,t)=>{let r=KE(n,t);if(!r)return!1;let s=xg(r);return s?JE(n,s,e):!1},K2=(n,e,t)=>{let r=WE(n,t);if(!r)return!1;let s=Sg(r);return s?JE(n,s,e):!1};function JE(n,e,t){let r=e.nodeBefore,s=r,o=e.pos-1;for(;!s.isTextblock;o--){if(s.type.spec.isolating)return!1;let m=s.lastChild;if(!m)return!1;s=m}let u=e.nodeAfter,c=u,d=e.pos+1;for(;!c.isTextblock;d++){if(c.type.spec.isolating)return!1;let m=c.firstChild;if(!m)return!1;c=m}let h=qf(n.doc,o,d,te.empty);if(!h||h.from!=o||h instanceof wt&&h.slice.size>=d-o)return!1;if(t){let m=n.tr.step(h);m.setSelection(Se.create(m.doc,o)),t(m.scrollIntoView())}return!0}function Fl(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const QE=(n,e,t)=>{let{$head:r,empty:s}=n.selection,o=r;if(!s)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;o=xg(r)}let u=o&&o.nodeBefore;return!u||!de.isSelectable(u)?!1:(e&&e(n.tr.setSelection(de.create(n.doc,o.pos-u.nodeSize)).scrollIntoView()),!0)};function xg(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function WE(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const ZE=(n,e,t)=>{let r=WE(n,t);if(!r)return!1;let s=Sg(r);if(!s)return!1;let o=s.nodeAfter;if(iT(n,s,e,1))return!0;if(r.parent.content.size==0&&(Fl(o,"start")||de.isSelectable(o))){let u=qf(n.doc,r.before(),r.after(),te.empty);if(u&&u.slice.size<u.to-u.from){if(e){let c=n.tr.step(u);c.setSelection(Fl(o,"start")?we.findFrom(c.doc.resolve(c.mapping.map(s.pos)),1):de.create(c.doc,c.mapping.map(s.pos))),e(c.scrollIntoView())}return!0}}return o.isAtom&&s.depth==r.depth-1?(e&&e(n.tr.delete(s.pos,s.pos+o.nodeSize).scrollIntoView()),!0):!1},eT=(n,e,t)=>{let{$head:r,empty:s}=n.selection,o=r;if(!s)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;o=Sg(r)}let u=o&&o.nodeAfter;return!u||!de.isSelectable(u)?!1:(e&&e(n.tr.setSelection(de.create(n.doc,o.pos)).scrollIntoView()),!0)};function Sg(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const X2=(n,e)=>{let t=n.selection,r=t instanceof de,s;if(r){if(t.node.isTextblock||!Wi(n.doc,t.from))return!1;s=t.from}else if(s=If(n.doc,t.from,-1),s==null)return!1;if(e){let o=n.tr.join(s);r&&o.setSelection(de.create(o.doc,s-n.doc.resolve(s).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},J2=(n,e)=>{let t=n.selection,r;if(t instanceof de){if(t.node.isTextblock||!Wi(n.doc,t.to))return!1;r=t.to}else if(r=If(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},Q2=(n,e)=>{let{$from:t,$to:r}=n.selection,s=t.blockRange(r),o=s&&Ql(s);return o==null?!1:(e&&e(n.tr.lift(s,o).scrollIntoView()),!0)},tT=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function vg(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const W2=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let s=t.node(-1),o=t.indexAfter(-1),u=vg(s.contentMatchAt(o));if(!u||!s.canReplaceWith(o,o,u))return!1;if(e){let c=t.after(),d=n.tr.replaceWith(c,c,u.createAndFill());d.setSelection(we.near(d.doc.resolve(c),1)),e(d.scrollIntoView())}return!0},nT=(n,e)=>{let t=n.selection,{$from:r,$to:s}=t;if(t instanceof kn||r.parent.inlineContent||s.parent.inlineContent)return!1;let o=vg(s.parent.contentMatchAt(s.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let u=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,c=n.tr.insert(u,o.createAndFill());c.setSelection(Se.create(c.doc,u+1)),e(c.scrollIntoView())}return!0},rT=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let o=t.before();if(ii(n.doc,o))return e&&e(n.tr.split(o).scrollIntoView()),!0}let r=t.blockRange(),s=r&&Ql(r);return s==null?!1:(e&&e(n.tr.lift(r,s).scrollIntoView()),!0)};function Z2(n){return(e,t)=>{let{$from:r,$to:s}=e.selection;if(e.selection instanceof de&&e.selection.node.isBlock)return!r.parentOffset||!ii(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let o=[],u,c,d=!1,h=!1;for(let S=r.depth;;S--)if(r.node(S).isBlock){d=r.end(S)==r.pos+(r.depth-S),h=r.start(S)==r.pos-(r.depth-S),c=vg(r.node(S-1).contentMatchAt(r.indexAfter(S-1))),o.unshift(d&&c?{type:c}:null),u=S;break}else{if(S==1)return!1;o.unshift(null)}let m=e.tr;(e.selection instanceof Se||e.selection instanceof kn)&&m.deleteSelection();let y=m.mapping.map(r.pos),b=ii(m.doc,y,o.length,o);if(b||(o[0]=c?{type:c}:null,b=ii(m.doc,y,o.length,o)),!b)return!1;if(m.split(y,o.length,o),!d&&h&&r.node(u).type!=c){let S=m.mapping.map(r.before(u)),x=m.doc.resolve(S);c&&r.node(u-1).canReplaceWith(x.index(),x.index()+1,c)&&m.setNodeMarkup(m.mapping.map(r.before(u)),c)}return t&&t(m.scrollIntoView()),!0}}const eD=Z2(),tD=(n,e)=>{let{$from:t,to:r}=n.selection,s,o=t.sharedDepth(r);return o==0?!1:(s=t.before(o),e&&e(n.tr.setSelection(de.create(n.doc,s))),!0)};function nD(n,e,t){let r=e.nodeBefore,s=e.nodeAfter,o=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(s.isTextblock||Wi(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function iT(n,e,t,r){let s=e.nodeBefore,o=e.nodeAfter,u,c,d=s.type.spec.isolating||o.type.spec.isolating;if(!d&&nD(n,e,t))return!0;let h=!d&&e.parent.canReplace(e.index(),e.index()+1);if(h&&(u=(c=s.contentMatchAt(s.childCount)).findWrapping(o.type))&&c.matchType(u[0]||o.type).validEnd){if(t){let S=e.pos+o.nodeSize,x=K.empty;for(let C=u.length-1;C>=0;C--)x=K.from(u[C].create(null,x));x=K.from(s.copy(x));let v=n.tr.step(new Ct(e.pos-1,S,e.pos,S,new te(x,1,0),u.length,!0)),A=v.doc.resolve(S+2*u.length);A.nodeAfter&&A.nodeAfter.type==s.type&&Wi(v.doc,A.pos)&&v.join(A.pos),t(v.scrollIntoView())}return!0}let m=o.type.spec.isolating||r>0&&d?null:we.findFrom(e,1),y=m&&m.$from.blockRange(m.$to),b=y&&Ql(y);if(b!=null&&b>=e.depth)return t&&t(n.tr.lift(y,b).scrollIntoView()),!0;if(h&&Fl(o,"start",!0)&&Fl(s,"end")){let S=s,x=[];for(;x.push(S),!S.isTextblock;)S=S.lastChild;let v=o,A=1;for(;!v.isTextblock;v=v.firstChild)A++;if(S.canReplace(S.childCount,S.childCount,v.content)){if(t){let C=K.empty;for(let _=x.length-1;_>=0;_--)C=K.from(x[_].copy(C));let O=n.tr.step(new Ct(e.pos-x.length,e.pos+o.nodeSize,e.pos+A,e.pos+o.nodeSize-A,new te(C,x.length,0),0,!0));t(O.scrollIntoView())}return!0}}return!1}function sT(n){return function(e,t){let r=e.selection,s=n<0?r.$from:r.$to,o=s.depth;for(;s.node(o).isInline;){if(!o)return!1;o--}return s.node(o).isTextblock?(t&&t(e.tr.setSelection(Se.create(e.doc,n<0?s.start(o):s.end(o)))),!0):!1}}const rD=sT(-1),iD=sT(1);function sD(n,e=null){return function(t,r){let{$from:s,$to:o}=t.selection,u=s.blockRange(o),c=u&&og(u,n,e);return c?(r&&r(t.tr.wrap(u,c).scrollIntoView()),!0):!1}}function sS(n,e=null){return function(t,r){let s=!1;for(let o=0;o<t.selection.ranges.length&&!s;o++){let{$from:{pos:u},$to:{pos:c}}=t.selection.ranges[o];t.doc.nodesBetween(u,c,(d,h)=>{if(s)return!1;if(!(!d.isTextblock||d.hasMarkup(n,e)))if(d.type==n)s=!0;else{let m=t.doc.resolve(h),y=m.index();s=m.parent.canReplaceWith(y,y+1,n)}})}if(!s)return!1;if(r){let o=t.tr;for(let u=0;u<t.selection.ranges.length;u++){let{$from:{pos:c},$to:{pos:d}}=t.selection.ranges[u];o.setBlockType(c,d,n,e)}r(o.scrollIntoView())}return!0}}function Eg(...n){return function(e,t,r){for(let s=0;s<n.length;s++)if(n[s](e,t,r))return!0;return!1}}Eg(bg,XE,QE);Eg(bg,ZE,eT);Eg(tT,nT,rT,eD);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function lD(n,e=null){return function(t,r){let{$from:s,$to:o}=t.selection,u=s.blockRange(o);if(!u)return!1;let c=r?t.tr:null;return oD(c,u,n,e)?(r&&r(c.scrollIntoView()),!0):!1}}function oD(n,e,t,r=null){let s=!1,o=e,u=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=u.resolve(e.start-2);o=new Vc(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new Vc(e.$from,u.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let c=og(o,t,r,e);return c?(n&&aD(n,e,c,s,t),!0):!1}function aD(n,e,t,r,s){let o=K.empty;for(let m=t.length-1;m>=0;m--)o=K.from(t[m].type.create(t[m].attrs,o));n.step(new Ct(e.start-(r?2:0),e.end,e.start,e.end,new te(o,0,0),t.length,!0));let u=0;for(let m=0;m<t.length;m++)t[m].type==s&&(u=m+1);let c=t.length-u,d=e.start+t.length-(r?2:0),h=e.parent;for(let m=e.startIndex,y=e.endIndex,b=!0;m<y;m++,b=!1)!b&&ii(n.doc,d,c)&&(n.split(d,c),d+=2*c),d+=h.child(m).nodeSize;return n}function uD(n){return function(e,t){let{$from:r,$to:s}=e.selection,o=r.blockRange(s,u=>u.childCount>0&&u.firstChild.type==n);return o?t?r.node(o.depth-1).type==n?cD(e,t,n,o):fD(e,t,o):!0:!1}}function cD(n,e,t,r){let s=n.tr,o=r.end,u=r.$to.end(r.depth);o<u&&(s.step(new Ct(o-1,u,o,u,new te(K.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new Vc(s.doc.resolve(r.$from.pos),s.doc.resolve(u),r.depth));const c=Ql(r);if(c==null)return!1;s.lift(r,c);let d=s.doc.resolve(s.mapping.map(o,-1)-1);return Wi(s.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&s.join(d.pos),e(s.scrollIntoView()),!0}function fD(n,e,t){let r=n.tr,s=t.parent;for(let S=t.end,x=t.endIndex-1,v=t.startIndex;x>v;x--)S-=s.child(x).nodeSize,r.delete(S-1,S+1);let o=r.doc.resolve(t.start),u=o.nodeAfter;if(r.mapping.map(t.end)!=t.start+o.nodeAfter.nodeSize)return!1;let c=t.startIndex==0,d=t.endIndex==s.childCount,h=o.node(-1),m=o.index(-1);if(!h.canReplace(m+(c?0:1),m+1,u.content.append(d?K.empty:K.from(s))))return!1;let y=o.pos,b=y+u.nodeSize;return r.step(new Ct(y-(c?1:0),b+(d?1:0),y+1,b-1,new te((c?K.empty:K.from(s.copy(K.empty))).append(d?K.empty:K.from(s.copy(K.empty))),c?0:1,d?0:1),c?0:1)),e(r.scrollIntoView()),!0}function dD(n){return function(e,t){let{$from:r,$to:s}=e.selection,o=r.blockRange(s,h=>h.childCount>0&&h.firstChild.type==n);if(!o)return!1;let u=o.startIndex;if(u==0)return!1;let c=o.parent,d=c.child(u-1);if(d.type!=n)return!1;if(t){let h=d.lastChild&&d.lastChild.type==c.type,m=K.from(h?n.create():null),y=new te(K.from(n.create(null,K.from(c.type.create(null,m)))),h?3:1,0),b=o.start,S=o.end;t(e.tr.step(new Ct(b-(h?3:1),S,b,S,y,1,!0)).scrollIntoView())}return!0}}function Yf(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:s}=t,{storedMarks:o}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return s},get tr(){return r=t.selection,s=t.doc,o=t.storedMarks,t}}}class Kf{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:s}=t,{tr:o}=r,u=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([c,d])=>[c,(...m)=>{const y=d(...m)(u);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(o),y}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:s,state:o}=this,{view:u}=s,c=[],d=!!e,h=e||o.tr,m=()=>(!d&&t&&!h.getMeta("preventDispatch")&&!this.hasCustomState&&u.dispatch(h),c.every(b=>b===!0)),y={...Object.fromEntries(Object.entries(r).map(([b,S])=>[b,(...v)=>{const A=this.buildProps(h,t),C=S(...v)(A);return c.push(C),y}])),run:m};return y}createCan(e){const{rawCommands:t,state:r}=this,s=!1,o=e||r.tr,u=this.buildProps(o,s);return{...Object.fromEntries(Object.entries(t).map(([d,h])=>[d,(...m)=>h(...m)({...u,dispatch:void 0})])),chain:()=>this.createChain(o,s)}}buildProps(e,t=!0){const{rawCommands:r,editor:s,state:o}=this,{view:u}=s,c={tr:e,editor:s,view:u,state:Yf({state:o,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([d,h])=>[d,(...m)=>h(...m)(c)]))}};return c}}class hD{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(s=>s.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(s=>s!==t):delete this.callbacks[e]),this}once(e,t){const r=(...s)=>{this.off(e,r),t.apply(this,s)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function se(n,e,t){return n.config[e]===void 0&&n.parent?se(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?se(n.parent,e,t):null}):n.config[e]}function Xf(n){const e=n.filter(s=>s.type==="extension"),t=n.filter(s=>s.type==="node"),r=n.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function lT(n){const e=[],{nodeExtensions:t,markExtensions:r}=Xf(n),s=[...t,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(u=>{const c={name:u.name,options:u.options,storage:u.storage,extensions:s},d=se(u,"addGlobalAttributes",c);if(!d)return;d().forEach(m=>{m.types.forEach(y=>{Object.entries(m.attributes).forEach(([b,S])=>{e.push({type:y,name:b,attribute:{...o,...S}})})})})}),s.forEach(u=>{const c={name:u.name,options:u.options,storage:u.storage},d=se(u,"addAttributes",c);if(!d)return;const h=d();Object.entries(h).forEach(([m,y])=>{const b={...o,...y};typeof(b==null?void 0:b.default)=="function"&&(b.default=b.default()),b!=null&&b.isRequired&&(b==null?void 0:b.default)===void 0&&delete b.default,e.push({type:u.name,name:m,attribute:b})})}),e}function Ot(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function kt(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([s,o])=>{if(!r[s]){r[s]=o;return}if(s==="class"){const c=o?String(o).split(" "):[],d=r[s]?r[s].split(" "):[],h=c.filter(m=>!d.includes(m));r[s]=[...d,...h].join(" ")}else if(s==="style"){const c=o?o.split(";").map(m=>m.trim()).filter(Boolean):[],d=r[s]?r[s].split(";").map(m=>m.trim()).filter(Boolean):[],h=new Map;d.forEach(m=>{const[y,b]=m.split(":").map(S=>S.trim());h.set(y,b)}),c.forEach(m=>{const[y,b]=m.split(":").map(S=>S.trim());h.set(y,b)}),r[s]=Array.from(h.entries()).map(([m,y])=>`${m}: ${y}`).join("; ")}else r[s]=o}),r},{})}function zm(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>kt(t,r),{})}function oT(n){return typeof n=="function"}function Oe(n,e=void 0,...t){return oT(n)?e?n.bind(e)(...t):n(...t):n}function pD(n={}){return Object.keys(n).length===0&&n.constructor===Object}function mD(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function lS(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const s=e.reduce((o,u)=>{const c=u.attribute.parseHTML?u.attribute.parseHTML(t):mD(t.getAttribute(u.name));return c==null?o:{...o,[u.name]:c}},{});return{...r,...s}}}}function oS(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&pD(t)?!1:t!=null))}function gD(n,e){var t;const r=lT(n),{nodeExtensions:s,markExtensions:o}=Xf(n),u=(t=s.find(h=>se(h,"topNode")))===null||t===void 0?void 0:t.name,c=Object.fromEntries(s.map(h=>{const m=r.filter(C=>C.type===h.name),y={name:h.name,options:h.options,storage:h.storage,editor:e},b=n.reduce((C,O)=>{const _=se(O,"extendNodeSchema",y);return{...C,..._?_(h):{}}},{}),S=oS({...b,content:Oe(se(h,"content",y)),marks:Oe(se(h,"marks",y)),group:Oe(se(h,"group",y)),inline:Oe(se(h,"inline",y)),atom:Oe(se(h,"atom",y)),selectable:Oe(se(h,"selectable",y)),draggable:Oe(se(h,"draggable",y)),code:Oe(se(h,"code",y)),whitespace:Oe(se(h,"whitespace",y)),linebreakReplacement:Oe(se(h,"linebreakReplacement",y)),defining:Oe(se(h,"defining",y)),isolating:Oe(se(h,"isolating",y)),attrs:Object.fromEntries(m.map(C=>{var O;return[C.name,{default:(O=C==null?void 0:C.attribute)===null||O===void 0?void 0:O.default}]}))}),x=Oe(se(h,"parseHTML",y));x&&(S.parseDOM=x.map(C=>lS(C,m)));const v=se(h,"renderHTML",y);v&&(S.toDOM=C=>v({node:C,HTMLAttributes:zm(C,m)}));const A=se(h,"renderText",y);return A&&(S.toText=A),[h.name,S]})),d=Object.fromEntries(o.map(h=>{const m=r.filter(A=>A.type===h.name),y={name:h.name,options:h.options,storage:h.storage,editor:e},b=n.reduce((A,C)=>{const O=se(C,"extendMarkSchema",y);return{...A,...O?O(h):{}}},{}),S=oS({...b,inclusive:Oe(se(h,"inclusive",y)),excludes:Oe(se(h,"excludes",y)),group:Oe(se(h,"group",y)),spanning:Oe(se(h,"spanning",y)),code:Oe(se(h,"code",y)),attrs:Object.fromEntries(m.map(A=>{var C;return[A.name,{default:(C=A==null?void 0:A.attribute)===null||C===void 0?void 0:C.default}]}))}),x=Oe(se(h,"parseHTML",y));x&&(S.parseDOM=x.map(A=>lS(A,m)));const v=se(h,"renderHTML",y);return v&&(S.toDOM=A=>v({mark:A,HTMLAttributes:zm(A,m)})),[h.name,S]}));return new Xv({topNode:u,nodes:c,marks:d})}function qp(n,e){return e.nodes[n]||e.marks[n]||null}function aS(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function Tg(n,e){const t=$s.fromSchema(e).serializeFragment(n),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(t),s.innerHTML}const yD=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(s,o,u,c)=>{var d,h;const m=((h=(d=s.type.spec).toText)===null||h===void 0?void 0:h.call(d,{node:s,pos:o,parent:u,index:c}))||s.textContent||"%leaf%";t+=s.isAtom&&!s.isText?m:m.slice(0,Math.max(0,r-o))}),t};function Ag(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class Jf{constructor(e){this.find=e.find,this.handler=e.handler}}const bD=(n,e)=>{if(Ag(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function cc(n){var e;const{editor:t,from:r,to:s,text:o,rules:u,plugin:c}=n,{view:d}=t;if(d.composing)return!1;const h=d.state.doc.resolve(r);if(h.parent.type.spec.code||!((e=h.nodeBefore||h.nodeAfter)===null||e===void 0)&&e.marks.find(b=>b.type.spec.code))return!1;let m=!1;const y=yD(h)+o;return u.forEach(b=>{if(m)return;const S=bD(y,b.find);if(!S)return;const x=d.state.tr,v=Yf({state:d.state,transaction:x}),A={from:r-(S[0].length-o.length),to:s},{commands:C,chain:O,can:_}=new Kf({editor:t,state:v});b.handler({state:v,range:A,match:S,commands:C,chain:O,can:_})===null||!x.steps.length||(x.setMeta(c,{transform:x,from:r,to:s,text:o}),d.dispatch(x),m=!0)}),m}function xD(n){const{editor:e,rules:t}=n,r=new Pt({state:{init(){return null},apply(s,o,u){const c=s.getMeta(r);if(c)return c;const d=s.getMeta("applyInputRules");return!!d&&setTimeout(()=>{let{text:m}=d;typeof m=="string"?m=m:m=Tg(K.from(m),u.schema);const{from:y}=d,b=y+m.length;cc({editor:e,from:y,to:b,text:m,rules:t,plugin:r})}),s.selectionSet||s.docChanged?null:o}},props:{handleTextInput(s,o,u,c){return cc({editor:e,from:o,to:u,text:c,rules:t,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:o}=s.state.selection;o&&cc({editor:e,from:o.pos,to:o.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(s,o){if(o.key!=="Enter")return!1;const{$cursor:u}=s.state.selection;return u?cc({editor:e,from:u.pos,to:u.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function SD(n){return Object.prototype.toString.call(n).slice(8,-1)}function fc(n){return SD(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function Qf(n,e){const t={...n};return fc(n)&&fc(e)&&Object.keys(e).forEach(r=>{fc(e[r])&&fc(n[r])?t[r]=Qf(n[r],e[r]):t[r]=e[r]}),t}class Cr{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Oe(se(this,"addOptions",{name:this.name}))),this.storage=Oe(se(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Cr(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Qf(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Cr(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Oe(se(t,"addOptions",{name:t.name})),t.storage=Oe(se(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const u=s.marks();if(!!!u.find(h=>(h==null?void 0:h.type.name)===t.name))return!1;const d=u.find(h=>(h==null?void 0:h.type.name)===t.name);return d&&r.removeStoredMark(d),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}}function vD(n){return typeof n=="number"}class ED{constructor(e){this.find=e.find,this.handler=e.handler}}const TD=(n,e,t)=>{if(Ag(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(s=>{const o=[s.text];return o.index=s.index,o.input=n,o.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(s.replaceWith)),o}):[]};function AD(n){const{editor:e,state:t,from:r,to:s,rule:o,pasteEvent:u,dropEvent:c}=n,{commands:d,chain:h,can:m}=new Kf({editor:e,state:t}),y=[];return t.doc.nodesBetween(r,s,(S,x)=>{if(!S.isTextblock||S.type.spec.code)return;const v=Math.max(r,x),A=Math.min(s,x+S.content.size),C=S.textBetween(v-x,A-x,void 0,"￼");TD(C,o.find,u).forEach(_=>{if(_.index===void 0)return;const q=v+_.index+1,P=q+_[0].length,W={from:t.tr.mapping.map(q),to:t.tr.mapping.map(P)},ee=o.handler({state:t,range:W,match:_,commands:d,chain:h,can:m,pasteEvent:u,dropEvent:c});y.push(ee)})}),y.every(S=>S!==null)}let dc=null;const wD=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",n),t};function CD(n){const{editor:e,rules:t}=n;let r=null,s=!1,o=!1,u=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,c;try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}const d=({state:m,from:y,to:b,rule:S,pasteEvt:x})=>{const v=m.tr,A=Yf({state:m,transaction:v});if(!(!AD({editor:e,state:A,from:Math.max(y-1,0),to:b.b-1,rule:S,pasteEvent:x,dropEvent:c})||!v.steps.length)){try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}return u=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,v}};return t.map(m=>new Pt({view(y){const b=x=>{var v;r=!((v=y.dom.parentElement)===null||v===void 0)&&v.contains(x.target)?y.dom.parentElement:null,r&&(dc=e)},S=()=>{dc&&(dc=null)};return window.addEventListener("dragstart",b),window.addEventListener("dragend",S),{destroy(){window.removeEventListener("dragstart",b),window.removeEventListener("dragend",S)}}},props:{handleDOMEvents:{drop:(y,b)=>{if(o=r===y.dom.parentElement,c=b,!o){const S=dc;S&&setTimeout(()=>{const x=S.state.selection;x&&S.commands.deleteRange({from:x.from,to:x.to})},10)}return!1},paste:(y,b)=>{var S;const x=(S=b.clipboardData)===null||S===void 0?void 0:S.getData("text/html");return u=b,s=!!(x!=null&&x.includes("data-pm-slice")),!1}}},appendTransaction:(y,b,S)=>{const x=y[0],v=x.getMeta("uiEvent")==="paste"&&!s,A=x.getMeta("uiEvent")==="drop"&&!o,C=x.getMeta("applyPasteRules"),O=!!C;if(!v&&!A&&!O)return;if(O){let{text:P}=C;typeof P=="string"?P=P:P=Tg(K.from(P),S.schema);const{from:W}=C,ee=W+P.length,oe=wD(P);return d({rule:m,state:S,from:W,to:{b:ee},pasteEvt:oe})}const _=b.doc.content.findDiffStart(S.doc.content),q=b.doc.content.findDiffEnd(S.doc.content);if(!(!vD(_)||!q||_===q.b))return d({rule:m,state:S,from:_,to:q,pasteEvt:u})}}))}function ND(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}class Bl{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=Bl.resolve(e),this.schema=gD(this.extensions,t),this.setupExtensions()}static resolve(e){const t=Bl.sort(Bl.flatten(e)),r=ND(t.map(s=>s.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},s=se(t,"addExtensions",r);return s?[t,...this.flatten(s())]:t}).flat(10)}static sort(e){return e.sort((r,s)=>{const o=se(r,"priority")||100,u=se(s,"priority")||100;return o>u?-1:o<u?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:qp(t.name,this.schema)},s=se(t,"addCommands",r);return s?{...e,...s()}:e},{})}get plugins(){const{editor:e}=this,t=Bl.sort([...this.extensions].reverse()),r=[],s=[],o=t.map(u=>{const c={name:u.name,options:u.options,storage:u.storage,editor:e,type:qp(u.name,this.schema)},d=[],h=se(u,"addKeyboardShortcuts",c);let m={};if(u.type==="mark"&&se(u,"exitable",c)&&(m.ArrowRight=()=>Cr.handleExit({editor:e,mark:u})),h){const v=Object.fromEntries(Object.entries(h()).map(([A,C])=>[A,()=>C({editor:e})]));m={...m,...v}}const y=G2(m);d.push(y);const b=se(u,"addInputRules",c);aS(u,e.options.enableInputRules)&&b&&r.push(...b());const S=se(u,"addPasteRules",c);aS(u,e.options.enablePasteRules)&&S&&s.push(...S());const x=se(u,"addProseMirrorPlugins",c);if(x){const v=x();d.push(...v)}return d}).flat();return[xD({editor:e,rules:r}),...CD({editor:e,rules:s}),...o]}get attributes(){return lT(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Xf(this.extensions);return Object.fromEntries(t.filter(r=>!!se(r,"addNodeView")).map(r=>{const s=this.attributes.filter(d=>d.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:e,type:Ot(r.name,this.schema)},u=se(r,"addNodeView",o);if(!u)return[];const c=(d,h,m,y,b)=>{const S=zm(d,s);return u()({node:d,view:h,getPos:m,decorations:y,innerDecorations:b,editor:e,extension:r,HTMLAttributes:S})};return[r.name,c]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:qp(e.name,this.schema)};e.type==="mark"&&(!((t=Oe(se(e,"keepOnSplit",r)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const s=se(e,"onBeforeCreate",r),o=se(e,"onCreate",r),u=se(e,"onUpdate",r),c=se(e,"onSelectionUpdate",r),d=se(e,"onTransaction",r),h=se(e,"onFocus",r),m=se(e,"onBlur",r),y=se(e,"onDestroy",r);s&&this.editor.on("beforeCreate",s),o&&this.editor.on("create",o),u&&this.editor.on("update",u),c&&this.editor.on("selectionUpdate",c),d&&this.editor.on("transaction",d),h&&this.editor.on("focus",h),m&&this.editor.on("blur",m),y&&this.editor.on("destroy",y)})}}class nn{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Oe(se(this,"addOptions",{name:this.name}))),this.storage=Oe(se(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new nn(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Qf(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new nn({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Oe(se(t,"addOptions",{name:t.name})),t.storage=Oe(se(t,"addStorage",{name:t.name,options:t.options})),t}}function aT(n,e,t){const{from:r,to:s}=e,{blockSeparator:o=`

`,textSerializers:u={}}=t||{};let c="";return n.nodesBetween(r,s,(d,h,m,y)=>{var b;d.isBlock&&h>r&&(c+=o);const S=u==null?void 0:u[d.type.name];if(S)return m&&(c+=S({node:d,pos:h,parent:m,index:y,range:e})),!1;d.isText&&(c+=(b=d==null?void 0:d.text)===null||b===void 0?void 0:b.slice(Math.max(r,h)-h,s-h))}),c}function uT(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const OD=nn.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Pt({key:new Mn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:s}=e,{ranges:o}=s,u=Math.min(...o.map(m=>m.$from.pos)),c=Math.max(...o.map(m=>m.$to.pos)),d=uT(t);return aT(r,{from:u,to:c},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),kD=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),MD=(n=!1)=>({commands:e})=>e.setContent("",n),RD=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:s}=r;return t&&s.forEach(({$from:o,$to:u})=>{n.doc.nodesBetween(o.pos,u.pos,(c,d)=>{if(c.type.isText)return;const{doc:h,mapping:m}=e,y=h.resolve(m.map(d)),b=h.resolve(m.map(d+c.nodeSize)),S=y.blockRange(b);if(!S)return;const x=Ql(S);if(c.type.isTextblock){const{defaultType:v}=y.parent.contentMatchAt(y.index());e.setNodeMarkup(S.start,v)}(x||x===0)&&e.lift(S,x)})}),!0},DD=n=>e=>n(e),jD=()=>({state:n,dispatch:e})=>nT(n,e),_D=(n,e)=>({editor:t,tr:r})=>{const{state:s}=t,o=s.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const u=r.mapping.map(e);return r.insert(u,o.content),r.setSelection(new Se(r.doc.resolve(u-1))),!0},LD=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const s=n.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===r.type){if(e){const c=s.before(o),d=s.after(o);n.delete(c,d).scrollIntoView()}return!0}return!1},zD=n=>({tr:e,state:t,dispatch:r})=>{const s=Ot(n,t.schema),o=e.selection.$anchor;for(let u=o.depth;u>0;u-=1)if(o.node(u).type===s){if(r){const d=o.before(u),h=o.after(u);e.delete(d,h).scrollIntoView()}return!0}return!1},BD=n=>({tr:e,dispatch:t})=>{const{from:r,to:s}=n;return t&&e.delete(r,s),!0},HD=()=>({state:n,dispatch:e})=>bg(n,e),UD=()=>({commands:n})=>n.keyboardShortcut("Enter"),PD=()=>({state:n,dispatch:e})=>W2(n,e);function Qc(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>t.strict?e[s]===n[s]:Ag(e[s])?e[s].test(n[s]):e[s]===n[s]):!0}function cT(n,e,t={}){return n.find(r=>r.type===e&&Qc(Object.fromEntries(Object.keys(t).map(s=>[s,r.attrs[s]])),t))}function uS(n,e,t={}){return!!cT(n,e,t)}function wg(n,e,t){var r;if(!n||!e)return;let s=n.parent.childAfter(n.parentOffset);if((!s.node||!s.node.marks.some(m=>m.type===e))&&(s=n.parent.childBefore(n.parentOffset)),!s.node||!s.node.marks.some(m=>m.type===e)||(t=t||((r=s.node.marks[0])===null||r===void 0?void 0:r.attrs),!cT([...s.node.marks],e,t)))return;let u=s.index,c=n.start()+s.offset,d=u+1,h=c+s.node.nodeSize;for(;u>0&&uS([...n.parent.child(u-1).marks],e,t);)u-=1,c-=n.parent.child(u).nodeSize;for(;d<n.parent.childCount&&uS([...n.parent.child(d).marks],e,t);)h+=n.parent.child(d).nodeSize,d+=1;return{from:c,to:h}}function es(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const ID=(n,e={})=>({tr:t,state:r,dispatch:s})=>{const o=es(n,r.schema),{doc:u,selection:c}=t,{$from:d,from:h,to:m}=c;if(s){const y=wg(d,o,e);if(y&&y.from<=h&&y.to>=m){const b=Se.create(u,y.from,y.to);t.setSelection(b)}}return!0},qD=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function fT(n){return n instanceof Se}function Ms(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function dT(n,e=null){if(!e)return null;const t=we.atStart(n),r=we.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const s=t.from,o=r.to;return e==="all"?Se.create(n,Ms(0,s,o),Ms(n.content.size,s,o)):Se.create(n,Ms(e,s,o),Ms(e,s,o))}function VD(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Cg(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const FD=(n=null,e={})=>({editor:t,view:r,tr:s,dispatch:o})=>{e={scrollIntoView:!0,...e};const u=()=>{(Cg()||VD())&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(o&&n===null&&!fT(t.state.selection))return u(),!0;const c=dT(s.doc,n)||t.state.selection,d=t.state.selection.eq(c);return o&&(d||s.setSelection(c),d&&s.storedMarks&&s.setStoredMarks(s.storedMarks),u()),!0},$D=(n,e)=>t=>n.every((r,s)=>e(r,{...t,index:s})),GD=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),hT=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&hT(r)}return n};function hc(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return hT(t)}function Wc(n,e,t){if(n instanceof $i||n instanceof K)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,s=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return K.fromArray(n.map(c=>e.nodeFromJSON(c)));const u=e.nodeFromJSON(n);return t.errorOnInvalidContent&&u.check(),u}catch(o){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",o),Wc("",e,t)}if(s){if(t.errorOnInvalidContent){let u=!1,c="";const d=new Xv({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(u=!0,c=typeof h=="string"?h:h.outerHTML,null)}]}})});if(t.slice?Gi.fromSchema(d).parseSlice(hc(n),t.parseOptions):Gi.fromSchema(d).parse(hc(n),t.parseOptions),t.errorOnInvalidContent&&u)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${c}`)})}const o=Gi.fromSchema(e);return t.slice?o.parseSlice(hc(n),t.parseOptions).content:o.parse(hc(n),t.parseOptions)}return Wc("",e,t)}function YD(n,e,t){const r=n.steps.length-1;if(r<e)return;const s=n.steps[r];if(!(s instanceof wt||s instanceof Ct))return;const o=n.mapping.maps[r];let u=0;o.forEach((c,d,h,m)=>{u===0&&(u=m)}),n.setSelection(we.near(n.doc.resolve(u),t))}const KD=n=>!("type"in n),XD=(n,e,t)=>({tr:r,dispatch:s,editor:o})=>{var u;if(s){t={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let c;try{c=Wc(e,o.schema,{parseOptions:{preserveWhitespace:"full",...t.parseOptions},errorOnInvalidContent:(u=t.errorOnInvalidContent)!==null&&u!==void 0?u:o.options.enableContentCheck})}catch(x){return o.emit("contentError",{editor:o,error:x,disableCollaboration:()=>{o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}}),!1}let{from:d,to:h}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},m=!0,y=!0;if((KD(c)?c:[c]).forEach(x=>{x.check(),m=m?x.isText&&x.marks.length===0:!1,y=y?x.isBlock:!1}),d===h&&y){const{parent:x}=r.doc.resolve(d);x.isTextblock&&!x.type.spec.code&&!x.childCount&&(d-=1,h+=1)}let S;if(m){if(Array.isArray(e))S=e.map(x=>x.text||"").join("");else if(e instanceof K){let x="";e.forEach(v=>{v.text&&(x+=v.text)}),S=x}else typeof e=="object"&&e&&e.text?S=e.text:S=e;r.insertText(S,d,h)}else S=c,r.replaceWith(d,h,S);t.updateSelection&&YD(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:d,text:S}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:d,text:S})}return!0},JD=()=>({state:n,dispatch:e})=>X2(n,e),QD=()=>({state:n,dispatch:e})=>J2(n,e),WD=()=>({state:n,dispatch:e})=>XE(n,e),ZD=()=>({state:n,dispatch:e})=>ZE(n,e),ej=()=>({state:n,dispatch:e,tr:t})=>{try{const r=If(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},tj=()=>({state:n,dispatch:e,tr:t})=>{try{const r=If(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},nj=()=>({state:n,dispatch:e})=>Y2(n,e),rj=()=>({state:n,dispatch:e})=>K2(n,e);function pT(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function ij(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,s,o,u;for(let c=0;c<e.length-1;c+=1){const d=e[c];if(/^(cmd|meta|m)$/i.test(d))u=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))o=!0;else if(/^mod$/i.test(d))Cg()||pT()?u=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return r&&(t=`Alt-${t}`),s&&(t=`Ctrl-${t}`),u&&(t=`Meta-${t}`),o&&(t=`Shift-${t}`),t}const sj=n=>({editor:e,view:t,tr:r,dispatch:s})=>{const o=ij(n).split(/-(?!$)/),u=o.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),c=new KeyboardEvent("keydown",{key:u==="Space"?" ":u,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{t.someProp("handleKeyDown",h=>h(t,c))});return d==null||d.steps.forEach(h=>{const m=h.map(r.mapping);m&&s&&r.maybeStep(m)}),!0};function Ba(n,e,t={}){const{from:r,to:s,empty:o}=n.selection,u=e?Ot(e,n.schema):null,c=[];n.doc.nodesBetween(r,s,(y,b)=>{if(y.isText)return;const S=Math.max(r,b),x=Math.min(s,b+y.nodeSize);c.push({node:y,from:S,to:x})});const d=s-r,h=c.filter(y=>u?u.name===y.node.type.name:!0).filter(y=>Qc(y.node.attrs,t,{strict:!1}));return o?!!h.length:h.reduce((y,b)=>y+b.to-b.from,0)>=d}const lj=(n,e={})=>({state:t,dispatch:r})=>{const s=Ot(n,t.schema);return Ba(t,s,e)?Q2(t,r):!1},oj=()=>({state:n,dispatch:e})=>rT(n,e),aj=n=>({state:e,dispatch:t})=>{const r=Ot(n,e.schema);return uD(r)(e,t)},uj=()=>({state:n,dispatch:e})=>tT(n,e);function Wf(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function cS(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,s)=>(t.includes(s)||(r[s]=n[s]),r),{})}const cj=(n,e)=>({tr:t,state:r,dispatch:s})=>{let o=null,u=null;const c=Wf(typeof n=="string"?n:n.name,r.schema);return c?(c==="node"&&(o=Ot(n,r.schema)),c==="mark"&&(u=es(n,r.schema)),s&&t.selection.ranges.forEach(d=>{r.doc.nodesBetween(d.$from.pos,d.$to.pos,(h,m)=>{o&&o===h.type&&t.setNodeMarkup(m,void 0,cS(h.attrs,e)),u&&h.marks.length&&h.marks.forEach(y=>{u===y.type&&t.addMark(m,m+h.nodeSize,u.create(cS(y.attrs,e)))})})}),!0):!1},fj=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),dj=()=>({tr:n,dispatch:e})=>{if(e){const t=new kn(n.doc);n.setSelection(t)}return!0},hj=()=>({state:n,dispatch:e})=>QE(n,e),pj=()=>({state:n,dispatch:e})=>eT(n,e),mj=()=>({state:n,dispatch:e})=>tD(n,e),gj=()=>({state:n,dispatch:e})=>iD(n,e),yj=()=>({state:n,dispatch:e})=>rD(n,e);function Bm(n,e,t={},r={}){return Wc(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}const bj=(n,e=!1,t={},r={})=>({editor:s,tr:o,dispatch:u,commands:c})=>{var d,h;const{doc:m}=o;if(t.preserveWhitespace!=="full"){const y=Bm(n,s.schema,t,{errorOnInvalidContent:(d=r.errorOnInvalidContent)!==null&&d!==void 0?d:s.options.enableContentCheck});return u&&o.replaceWith(0,m.content.size,y).setMeta("preventUpdate",!e),!0}return u&&o.setMeta("preventUpdate",!e),c.insertContentAt({from:0,to:m.content.size},n,{parseOptions:t,errorOnInvalidContent:(h=r.errorOnInvalidContent)!==null&&h!==void 0?h:s.options.enableContentCheck})};function mT(n,e){const t=es(e,n.schema),{from:r,to:s,empty:o}=n.selection,u=[];o?(n.storedMarks&&u.push(...n.storedMarks),u.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,s,d=>{u.push(...d.marks)});const c=u.find(d=>d.type.name===t.name);return c?{...c.attrs}:{}}function xj(n,e){const t=new fE(n);return e.forEach(r=>{r.steps.forEach(s=>{t.step(s)})}),t}function Sj(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function vj(n,e,t){const r=[];return n.nodesBetween(e.from,e.to,(s,o)=>{t(s)&&r.push({node:s,pos:o})}),r}function Ej(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function Ng(n){return e=>Ej(e.$from,n)}function Tj(n,e){const t={from:0,to:n.content.size};return aT(n,t,e)}function Aj(n,e){const t=Ot(e,n.schema),{from:r,to:s}=n.selection,o=[];n.doc.nodesBetween(r,s,c=>{o.push(c)});const u=o.reverse().find(c=>c.type.name===t.name);return u?{...u.attrs}:{}}function gT(n,e){const t=Wf(typeof e=="string"?e:e.name,n.schema);return t==="node"?Aj(n,e):t==="mark"?mT(n,e):{}}function wj(n,e=JSON.stringify){const t={};return n.filter(r=>{const s=e(r);return Object.prototype.hasOwnProperty.call(t,s)?!1:t[s]=!0})}function Cj(n){const e=wj(n);return e.length===1?e:e.filter((t,r)=>!e.filter((o,u)=>u!==r).some(o=>t.oldRange.from>=o.oldRange.from&&t.oldRange.to<=o.oldRange.to&&t.newRange.from>=o.newRange.from&&t.newRange.to<=o.newRange.to))}function Nj(n){const{mapping:e,steps:t}=n,r=[];return e.maps.forEach((s,o)=>{const u=[];if(s.ranges.length)s.forEach((c,d)=>{u.push({from:c,to:d})});else{const{from:c,to:d}=t[o];if(c===void 0||d===void 0)return;u.push({from:c,to:d})}u.forEach(({from:c,to:d})=>{const h=e.slice(o).map(c,-1),m=e.slice(o).map(d),y=e.invert().map(h,-1),b=e.invert().map(m);r.push({oldRange:{from:y,to:b},newRange:{from:h,to:m}})})}),Cj(r)}function Og(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(s=>{const o=t.resolve(n),u=wg(o,s.type);u&&r.push({mark:s,...u})}):t.nodesBetween(n,e,(s,o)=>{!s||(s==null?void 0:s.nodeSize)===void 0||r.push(...s.marks.map(u=>({from:o,to:o+s.nodeSize,mark:u})))}),r}function kc(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const s=n.find(o=>o.type===e&&o.name===r);return s?s.attribute.keepOnSplit:!1}))}function Hm(n,e,t={}){const{empty:r,ranges:s}=n.selection,o=e?es(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(y=>o?o.name===y.type.name:!0).find(y=>Qc(y.attrs,t,{strict:!1}));let u=0;const c=[];if(s.forEach(({$from:y,$to:b})=>{const S=y.pos,x=b.pos;n.doc.nodesBetween(S,x,(v,A)=>{if(!v.isText&&!v.marks.length)return;const C=Math.max(S,A),O=Math.min(x,A+v.nodeSize),_=O-C;u+=_,c.push(...v.marks.map(q=>({mark:q,from:C,to:O})))})}),u===0)return!1;const d=c.filter(y=>o?o.name===y.mark.type.name:!0).filter(y=>Qc(y.mark.attrs,t,{strict:!1})).reduce((y,b)=>y+b.to-b.from,0),h=c.filter(y=>o?y.mark.type!==o&&y.mark.type.excludes(o):!0).reduce((y,b)=>y+b.to-b.from,0);return(d>0?d+h:d)>=u}function Oj(n,e,t={}){if(!e)return Ba(n,null,t)||Hm(n,null,t);const r=Wf(e,n.schema);return r==="node"?Ba(n,e,t):r==="mark"?Hm(n,e,t):!1}function fS(n,e){const{nodeExtensions:t}=Xf(e),r=t.find(u=>u.name===n);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},o=Oe(se(r,"group",s));return typeof o!="string"?!1:o.split(" ").includes("list")}function kg(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!==null&&r!==void 0?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let s=!0;return n.content.forEach(o=>{s!==!1&&(kg(o,{ignoreWhitespace:t,checkChildren:e})||(s=!1))}),s}return!1}function kj(n){return n instanceof de}function Mj(n,e,t){var r;const{selection:s}=e;let o=null;if(fT(s)&&(o=s.$cursor),o){const c=(r=n.storedMarks)!==null&&r!==void 0?r:o.marks();return!!t.isInSet(c)||!c.some(d=>d.type.excludes(t))}const{ranges:u}=s;return u.some(({$from:c,$to:d})=>{let h=c.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(c.pos,d.pos,(m,y,b)=>{if(h)return!1;if(m.isInline){const S=!b||b.type.allowsMarkType(t),x=!!t.isInSet(m.marks)||!m.marks.some(v=>v.type.excludes(t));h=S&&x}return!h}),h})}const Rj=(n,e={})=>({tr:t,state:r,dispatch:s})=>{const{selection:o}=t,{empty:u,ranges:c}=o,d=es(n,r.schema);if(s)if(u){const h=mT(r,d);t.addStoredMark(d.create({...h,...e}))}else c.forEach(h=>{const m=h.$from.pos,y=h.$to.pos;r.doc.nodesBetween(m,y,(b,S)=>{const x=Math.max(S,m),v=Math.min(S+b.nodeSize,y);b.marks.find(C=>C.type===d)?b.marks.forEach(C=>{d===C.type&&t.addMark(x,v,d.create({...C.attrs,...e}))}):t.addMark(x,v,d.create(e))})});return Mj(r,t,d)},Dj=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),jj=(n,e={})=>({state:t,dispatch:r,chain:s})=>{const o=Ot(n,t.schema);let u;return t.selection.$anchor.sameParent(t.selection.$head)&&(u=t.selection.$anchor.parent.attrs),o.isTextblock?s().command(({commands:c})=>sS(o,{...u,...e})(t)?!0:c.clearNodes()).command(({state:c})=>sS(o,{...u,...e})(c,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},_j=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,s=Ms(n,0,r.content.size),o=de.create(r,s);e.setSelection(o)}return!0},Lj=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:s,to:o}=typeof n=="number"?{from:n,to:n}:n,u=Se.atStart(r).from,c=Se.atEnd(r).to,d=Ms(s,u,c),h=Ms(o,u,c),m=Se.create(r,d,h);e.setSelection(m)}return!0},zj=n=>({state:e,dispatch:t})=>{const r=Ot(n,e.schema);return dD(r)(e,t)};function dS(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(s=>e==null?void 0:e.includes(s.type.name));n.tr.ensureMarks(r)}}const Bj=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:s})=>{const{selection:o,doc:u}=e,{$from:c,$to:d}=o,h=s.extensionManager.attributes,m=kc(h,c.node().type.name,c.node().attrs);if(o instanceof de&&o.node.isBlock)return!c.parentOffset||!ii(u,c.pos)?!1:(r&&(n&&dS(t,s.extensionManager.splittableMarks),e.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;const y=d.parentOffset===d.parent.content.size,b=c.depth===0?void 0:Sj(c.node(-1).contentMatchAt(c.indexAfter(-1)));let S=y&&b?[{type:b,attrs:m}]:void 0,x=ii(e.doc,e.mapping.map(c.pos),1,S);if(!S&&!x&&ii(e.doc,e.mapping.map(c.pos),1,b?[{type:b}]:void 0)&&(x=!0,S=b?[{type:b,attrs:m}]:void 0),r){if(x&&(o instanceof Se&&e.deleteSelection(),e.split(e.mapping.map(c.pos),1,S),b&&!y&&!c.parentOffset&&c.parent.type!==b)){const v=e.mapping.map(c.before()),A=e.doc.resolve(v);c.node(-1).canReplaceWith(A.index(),A.index()+1,b)&&e.setNodeMarkup(e.mapping.map(c.before()),b)}n&&dS(t,s.extensionManager.splittableMarks),e.scrollIntoView()}return x},Hj=(n,e={})=>({tr:t,state:r,dispatch:s,editor:o})=>{var u;const c=Ot(n,r.schema),{$from:d,$to:h}=r.selection,m=r.selection.node;if(m&&m.isBlock||d.depth<2||!d.sameParent(h))return!1;const y=d.node(-1);if(y.type!==c)return!1;const b=o.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==c||d.index(-2)!==d.node(-2).childCount-1)return!1;if(s){let C=K.empty;const O=d.index(-1)?1:d.index(-2)?2:3;for(let oe=d.depth-O;oe>=d.depth-3;oe-=1)C=K.from(d.node(oe).copy(C));const _=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,q={...kc(b,d.node().type.name,d.node().attrs),...e},P=((u=c.contentMatch.defaultType)===null||u===void 0?void 0:u.createAndFill(q))||void 0;C=C.append(K.from(c.createAndFill(null,P)||void 0));const W=d.before(d.depth-(O-1));t.replace(W,d.after(-_),new te(C,4-O,0));let ee=-1;t.doc.nodesBetween(W,t.doc.content.size,(oe,Z)=>{if(ee>-1)return!1;oe.isTextblock&&oe.content.size===0&&(ee=Z+1)}),ee>-1&&t.setSelection(Se.near(t.doc.resolve(ee))),t.scrollIntoView()}return!0}const S=h.pos===d.end()?y.contentMatchAt(0).defaultType:null,x={...kc(b,y.type.name,y.attrs),...e},v={...kc(b,d.node().type.name,d.node().attrs),...e};t.delete(d.pos,h.pos);const A=S?[{type:c,attrs:x},{type:S,attrs:v}]:[{type:c,attrs:x}];if(!ii(t.doc,d.pos,2))return!1;if(s){const{selection:C,storedMarks:O}=r,{splittableMarks:_}=o.extensionManager,q=O||C.$to.parentOffset&&C.$from.marks();if(t.split(d.pos,2,A).scrollIntoView(),!q||!s)return!0;const P=q.filter(W=>_.includes(W.type.name));t.ensureMarks(P)}return!0},Vp=(n,e)=>{const t=Ng(u=>u.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const s=n.doc.nodeAt(r);return t.node.type===(s==null?void 0:s.type)&&Wi(n.doc,t.pos)&&n.join(t.pos),!0},Fp=(n,e)=>{const t=Ng(u=>u.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const s=n.doc.nodeAt(r);return t.node.type===(s==null?void 0:s.type)&&Wi(n.doc,r)&&n.join(r),!0},Uj=(n,e,t,r={})=>({editor:s,tr:o,state:u,dispatch:c,chain:d,commands:h,can:m})=>{const{extensions:y,splittableMarks:b}=s.extensionManager,S=Ot(n,u.schema),x=Ot(e,u.schema),{selection:v,storedMarks:A}=u,{$from:C,$to:O}=v,_=C.blockRange(O),q=A||v.$to.parentOffset&&v.$from.marks();if(!_)return!1;const P=Ng(W=>fS(W.type.name,y))(v);if(_.depth>=1&&P&&_.depth-P.depth<=1){if(P.node.type===S)return h.liftListItem(x);if(fS(P.node.type.name,y)&&S.validContent(P.node.content)&&c)return d().command(()=>(o.setNodeMarkup(P.pos,S),!0)).command(()=>Vp(o,S)).command(()=>Fp(o,S)).run()}return!t||!q||!c?d().command(()=>m().wrapInList(S,r)?!0:h.clearNodes()).wrapInList(S,r).command(()=>Vp(o,S)).command(()=>Fp(o,S)).run():d().command(()=>{const W=m().wrapInList(S,r),ee=q.filter(oe=>b.includes(oe.type.name));return o.ensureMarks(ee),W?!0:h.clearNodes()}).wrapInList(S,r).command(()=>Vp(o,S)).command(()=>Fp(o,S)).run()},Pj=(n,e={},t={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:o=!1}=t,u=es(n,r.schema);return Hm(r,u,e)?s.unsetMark(u,{extendEmptyMarkRange:o}):s.setMark(u,e)},Ij=(n,e,t={})=>({state:r,commands:s})=>{const o=Ot(n,r.schema),u=Ot(e,r.schema),c=Ba(r,o,t);let d;return r.selection.$anchor.sameParent(r.selection.$head)&&(d=r.selection.$anchor.parent.attrs),c?s.setNode(u,d):s.setNode(o,{...d,...t})},qj=(n,e={})=>({state:t,commands:r})=>{const s=Ot(n,t.schema);return Ba(t,s,e)?r.lift(s):r.wrapIn(s,e)},Vj=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const s=t[r];let o;if(s.spec.isInputRules&&(o=s.getState(n))){if(e){const u=n.tr,c=o.transform;for(let d=c.steps.length-1;d>=0;d-=1)u.step(c.steps[d].invert(c.docs[d]));if(o.text){const d=u.doc.resolve(o.from).marks();u.replaceWith(o.from,o.to,n.schema.text(o.text,d))}else u.delete(o.from,o.to)}return!0}}return!1},Fj=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:s}=t;return r||e&&s.forEach(o=>{n.removeMark(o.$from.pos,o.$to.pos)}),!0},$j=(n,e={})=>({tr:t,state:r,dispatch:s})=>{var o;const{extendEmptyMarkRange:u=!1}=e,{selection:c}=t,d=es(n,r.schema),{$from:h,empty:m,ranges:y}=c;if(!s)return!0;if(m&&u){let{from:b,to:S}=c;const x=(o=h.marks().find(A=>A.type===d))===null||o===void 0?void 0:o.attrs,v=wg(h,d,x);v&&(b=v.from,S=v.to),t.removeMark(b,S,d)}else y.forEach(b=>{t.removeMark(b.$from.pos,b.$to.pos,d)});return t.removeStoredMark(d),!0},Gj=(n,e={})=>({tr:t,state:r,dispatch:s})=>{let o=null,u=null;const c=Wf(typeof n=="string"?n:n.name,r.schema);return c?(c==="node"&&(o=Ot(n,r.schema)),c==="mark"&&(u=es(n,r.schema)),s&&t.selection.ranges.forEach(d=>{const h=d.$from.pos,m=d.$to.pos;let y,b,S,x;t.selection.empty?r.doc.nodesBetween(h,m,(v,A)=>{o&&o===v.type&&(S=Math.max(A,h),x=Math.min(A+v.nodeSize,m),y=A,b=v)}):r.doc.nodesBetween(h,m,(v,A)=>{A<h&&o&&o===v.type&&(S=Math.max(A,h),x=Math.min(A+v.nodeSize,m),y=A,b=v),A>=h&&A<=m&&(o&&o===v.type&&t.setNodeMarkup(A,void 0,{...v.attrs,...e}),u&&v.marks.length&&v.marks.forEach(C=>{if(u===C.type){const O=Math.max(A,h),_=Math.min(A+v.nodeSize,m);t.addMark(O,_,u.create({...C.attrs,...e}))}}))}),b&&(y!==void 0&&t.setNodeMarkup(y,void 0,{...b.attrs,...e}),u&&b.marks.length&&b.marks.forEach(v=>{u===v.type&&t.addMark(S,x,u.create({...v.attrs,...e}))}))}),!0):!1},Yj=(n,e={})=>({state:t,dispatch:r})=>{const s=Ot(n,t.schema);return sD(s,e)(t,r)},Kj=(n,e={})=>({state:t,dispatch:r})=>{const s=Ot(n,t.schema);return lD(s,e)(t,r)};var Xj=Object.freeze({__proto__:null,blur:kD,clearContent:MD,clearNodes:RD,command:DD,createParagraphNear:jD,cut:_D,deleteCurrentNode:LD,deleteNode:zD,deleteRange:BD,deleteSelection:HD,enter:UD,exitCode:PD,extendMarkRange:ID,first:qD,focus:FD,forEach:$D,insertContent:GD,insertContentAt:XD,joinBackward:WD,joinDown:QD,joinForward:ZD,joinItemBackward:ej,joinItemForward:tj,joinTextblockBackward:nj,joinTextblockForward:rj,joinUp:JD,keyboardShortcut:sj,lift:lj,liftEmptyBlock:oj,liftListItem:aj,newlineInCode:uj,resetAttributes:cj,scrollIntoView:fj,selectAll:dj,selectNodeBackward:hj,selectNodeForward:pj,selectParentNode:mj,selectTextblockEnd:gj,selectTextblockStart:yj,setContent:bj,setMark:Rj,setMeta:Dj,setNode:jj,setNodeSelection:_j,setTextSelection:Lj,sinkListItem:zj,splitBlock:Bj,splitListItem:Hj,toggleList:Uj,toggleMark:Pj,toggleNode:Ij,toggleWrap:qj,undoInputRule:Vj,unsetAllMarks:Fj,unsetMark:$j,updateAttributes:Gj,wrapIn:Yj,wrapInList:Kj});const Jj=nn.create({name:"commands",addCommands(){return{...Xj}}}),Qj=nn.create({name:"drop",addProseMirrorPlugins(){return[new Pt({key:new Mn("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),Wj=nn.create({name:"editable",addProseMirrorPlugins(){return[new Pt({key:new Mn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Zj=new Mn("focusEvents"),e3=nn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new Pt({key:Zj,props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),t3=nn.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:u})=>[()=>u.undoInputRule(),()=>u.command(({tr:c})=>{const{selection:d,doc:h}=c,{empty:m,$anchor:y}=d,{pos:b,parent:S}=y,x=y.parent.isTextblock&&b>0?c.doc.resolve(b-1):y,v=x.parent.type.spec.isolating,A=y.pos-y.parentOffset,C=v&&x.parent.childCount===1?A===y.pos:we.atStart(h).from===b;return!m||!S.type.isTextblock||S.textContent.length||!C||C&&y.parent.type.name==="paragraph"?!1:u.clearNodes()}),()=>u.deleteSelection(),()=>u.joinBackward(),()=>u.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:u})=>[()=>u.deleteSelection(),()=>u.deleteCurrentNode(),()=>u.joinForward(),()=>u.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:u})=>[()=>u.newlineInCode(),()=>u.createParagraphNear(),()=>u.liftEmptyBlock(),()=>u.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},o={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Cg()||pT()?o:s},addProseMirrorPlugins(){return[new Pt({key:new Mn("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(v=>v.getMeta("composition")))return;const r=n.some(v=>v.docChanged)&&!e.doc.eq(t.doc),s=n.some(v=>v.getMeta("preventClearDocument"));if(!r||s)return;const{empty:o,from:u,to:c}=e.selection,d=we.atStart(e.doc).from,h=we.atEnd(e.doc).to;if(o||!(u===d&&c===h)||!kg(t.doc))return;const b=t.tr,S=Yf({state:t,transaction:b}),{commands:x}=new Kf({editor:this.editor,state:S});if(x.clearNodes(),!!b.steps.length)return b}})]}}),n3=nn.create({name:"paste",addProseMirrorPlugins(){return[new Pt({key:new Mn("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),r3=nn.create({name:"tabindex",addProseMirrorPlugins(){return[new Pt({key:new Mn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Cs{get name(){return this.node.type.name}constructor(e,t,r=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=s}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new Cs(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Cs(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Cs(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const s=t.isBlock&&!t.isTextblock,o=t.isAtom&&!t.isText,u=this.pos+r+(o?0:1),c=this.resolvedPos.doc.resolve(u);if(!s&&c.depth<=this.depth)return;const d=new Cs(c,this.editor,s,s?t:null);s&&(d.actualDepth=this.depth+1),e.push(new Cs(c,this.editor,s,s?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,s=this.parent;for(;s&&!r;){if(s.node.type.name===e)if(Object.keys(t).length>0){const o=s.node.attrs,u=Object.keys(t);for(let c=0;c<u.length;c+=1){const d=u[c];if(o[d]!==t[d])break}}else r=s;s=s.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let s=[];if(!this.children||this.children.length===0)return s;const o=Object.keys(t);return this.children.forEach(u=>{r&&s.length>0||(u.node.type.name===e&&o.every(d=>t[d]===u.node.attrs[d])&&s.push(u),!(r&&s.length>0)&&(s=s.concat(u.querySelectorAll(e,t,r))))}),s}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const i3=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function s3(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(s),s}class l3 extends hD{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:r,moved:s})=>this.options.onDrop(t,r,s)),this.on("paste",({event:t,slice:r})=>this.options.onPaste(t,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=s3(i3,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=oT(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],s=this.state.reconfigure({plugins:r});return this.view.updateState(s),s}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(o=>{const u=typeof o=="string"?`${o}$`:o.key;r=r.filter(c=>!c.key.startsWith(u))}),t.length===r.length)return;const s=this.state.reconfigure({plugins:r});return this.view.updateState(s),s}createExtensionManager(){var e,t;const s=[...this.options.enableCoreExtensions?[Wj,OD.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),Jj,e3,t3,r3,Qj,n3].filter(o=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[o.name]!==!1:!0):[],...this.options.extensions].filter(o=>["extension","node","mark"].includes(o==null?void 0:o.type));this.extensionManager=new Bl(s,this)}createCommandManager(){this.commandManager=new Kf({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=Bm(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(u){if(!(u instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(u.message))throw u;this.emit("contentError",{editor:this,error:u,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(c=>c.name!=="collaboration"),this.createExtensionManager()}}),t=Bm(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=dT(t,this.options.autofocus);this.view=new z2(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:zl.create({doc:t,selection:r||void 0})});const s=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(s),this.createNodeViews(),this.prependClass();const o=this.view.dom;o.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(u=>{var c;return(c=this.capturedTransaction)===null||c===void 0?void 0:c.step(u)});return}const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const s=e.getMeta("focus"),o=e.getMeta("blur");s&&this.emit("focus",{editor:this,event:s.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return gT(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,s=typeof e=="string"?t:e;return Oj(this.state,r,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Tg(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return Tj(this.state.doc,{blockSeparator:t,textSerializers:{...uT(this.schema),...r}})}get isEmpty(){return kg(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new Cs(t,this)}get $doc(){return this.$pos(0)}}function $l(n){return new Jf({find:n.find,handler:({state:e,range:t,match:r})=>{const s=Oe(n.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:o}=e,u=r[r.length-1],c=r[0];if(u){const d=c.search(/\S/),h=t.from+c.indexOf(u),m=h+u.length;if(Og(t.from,t.to,e.doc).filter(S=>S.mark.type.excluded.find(v=>v===n.type&&v!==S.mark.type)).filter(S=>S.to>h).length)return null;m<t.to&&o.delete(m,t.to),h>t.from&&o.delete(t.from+d,h);const b=t.from+d+u.length;o.addMark(t.from+d,b,n.type.create(s||{})),o.removeStoredMark(n.type)}}})}function o3(n){return new Jf({find:n.find,handler:({state:e,range:t,match:r})=>{const s=Oe(n.getAttributes,void 0,r)||{},{tr:o}=e,u=t.from;let c=t.to;const d=n.type.create(s);if(r[1]){const h=r[0].lastIndexOf(r[1]);let m=u+h;m>c?m=c:c=m+r[1].length;const y=r[0][r[0].length-1];o.insertText(y,u+r[0].length-1),o.replaceWith(m,c,d)}else if(r[0]){const h=n.type.isInline?u:u-1;o.insert(h,n.type.create(s)).delete(o.mapping.map(u),o.mapping.map(c))}o.scrollIntoView()}})}function Um(n){return new Jf({find:n.find,handler:({state:e,range:t,match:r})=>{const s=e.doc.resolve(t.from),o=Oe(n.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,o)}})}function Ha(n){return new Jf({find:n.find,handler:({state:e,range:t,match:r,chain:s})=>{const o=Oe(n.getAttributes,void 0,r)||{},u=e.tr.delete(t.from,t.to),d=u.doc.resolve(t.from).blockRange(),h=d&&og(d,n.type,o);if(!h)return null;if(u.wrap(d,h),n.keepMarks&&n.editor){const{selection:y,storedMarks:b}=e,{splittableMarks:S}=n.editor.extensionManager,x=b||y.$to.parentOffset&&y.$from.marks();if(x){const v=x.filter(A=>S.includes(A.type.name));u.ensureMarks(v)}}if(n.keepAttributes){const y=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(y,o).run()}const m=u.doc.resolve(t.from-1).nodeBefore;m&&m.type===n.type&&Wi(u.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,m))&&u.join(t.from-1)}})}class bn{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Oe(se(this,"addOptions",{name:this.name}))),this.storage=Oe(se(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new bn(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Qf(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new bn(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Oe(se(t,"addOptions",{name:t.name})),t.storage=Oe(se(t,"addStorage",{name:t.name,options:t.options})),t}}function Fs(n){return new ED({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:s})=>{const o=Oe(n.getAttributes,void 0,r,s);if(o===!1||o===null)return null;const{tr:u}=e,c=r[r.length-1],d=r[0];let h=t.to;if(c){const m=d.search(/\S/),y=t.from+d.indexOf(c),b=y+c.length;if(Og(t.from,t.to,e.doc).filter(x=>x.mark.type.excluded.find(A=>A===n.type&&A!==x.mark.type)).filter(x=>x.to>y).length)return null;b<t.to&&u.delete(b,t.to),y>t.from&&u.delete(t.from+m,y),h=t.from+m+c.length,u.addMark(t.from+m,h,n.type.create(o||{})),u.removeStoredMark(n.type)}}})}function a3(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var yT={exports:{}},$p={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hS;function u3(){if(hS)return $p;hS=1;var n=Fe;function e(y,b){return y===b&&(y!==0||1/y===1/b)||y!==y&&b!==b}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,s=n.useEffect,o=n.useLayoutEffect,u=n.useDebugValue;function c(y,b){var S=b(),x=r({inst:{value:S,getSnapshot:b}}),v=x[0].inst,A=x[1];return o(function(){v.value=S,v.getSnapshot=b,d(v)&&A({inst:v})},[y,S,b]),s(function(){return d(v)&&A({inst:v}),y(function(){d(v)&&A({inst:v})})},[y]),u(S),S}function d(y){var b=y.getSnapshot;y=y.value;try{var S=b();return!t(y,S)}catch{return!0}}function h(y,b){return b()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return $p.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,$p}yT.exports=u3();var Mg=yT.exports;const c3=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},f3=({contentComponent:n})=>{const e=Mg.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return Fe.createElement(Fe.Fragment,null,Object.values(e))};function d3(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:wN.createPortal(r.reactElement,r.element,t)},n.forEach(s=>s())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(s=>s())}}}class h3 extends Fe.Component{constructor(e){var t;super(e),this.editorContentRef=Fe.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=d3(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...r}=this.props;return Fe.createElement(Fe.Fragment,null,Fe.createElement("div",{ref:c3(t,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&Fe.createElement(f3,{contentComponent:e.contentComponent}))}}const p3=R.forwardRef((n,e)=>{const t=Fe.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return Fe.createElement(h3,{key:t,innerRef:e,...n})}),m3=Fe.memo(p3);var g3=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,s,o;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(s=r;s--!==0;)if(!n(e[s],t[s]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s of e.entries())if(!t.has(s[0]))return!1;for(s of e.entries())if(!n(s[1],t.get(s[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s of e.entries())if(!t.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(s=r;s--!==0;)if(e[s]!==t[s])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[s]))return!1;for(s=r;s--!==0;){var u=o[s];if(!(u==="_owner"&&e.$$typeof)&&!n(e[u],t[u]))return!1}return!0}return e!==e&&t!==t},y3=a3(g3),bT={exports:{}},Gp={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pS;function b3(){if(pS)return Gp;pS=1;var n=Fe,e=Mg;function t(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,o=n.useRef,u=n.useEffect,c=n.useMemo,d=n.useDebugValue;return Gp.useSyncExternalStoreWithSelector=function(h,m,y,b,S){var x=o(null);if(x.current===null){var v={hasValue:!1,value:null};x.current=v}else v=x.current;x=c(function(){function C(W){if(!O){if(O=!0,_=W,W=b(W),S!==void 0&&v.hasValue){var ee=v.value;if(S(ee,W))return q=ee}return q=W}if(ee=q,r(_,W))return ee;var oe=b(W);return S!==void 0&&S(ee,oe)?ee:(_=W,q=oe)}var O=!1,_,q,P=y===void 0?null:y;return[function(){return C(m())},P===null?void 0:function(){return C(P())}]},[m,y,b,S]);var A=s(h,x[0],x[1]);return u(function(){v.hasValue=!0,v.value=A},[A]),d(A),A},Gp}bT.exports=b3();var x3=bT.exports;const S3=typeof window<"u"?R.useLayoutEffect:R.useEffect;class v3{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(s=>s())},r=this.editor;return r.on("transaction",t),()=>{r.off("transaction",t)}}}}function E3(n){var e;const[t]=R.useState(()=>new v3(n.editor)),r=x3.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!==null&&e!==void 0?e:y3);return S3(()=>t.watch(n.editor),[n.editor,t]),R.useDebugValue(r),r}const T3=!1,Pm=typeof window>"u",A3=Pm||!!(typeof window<"u"&&window.next);class Rg{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Pm||A3?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var s,o;return(o=(s=this.options.current).onBeforeCreate)===null||o===void 0?void 0:o.call(s,...r)},onBlur:(...r)=>{var s,o;return(o=(s=this.options.current).onBlur)===null||o===void 0?void 0:o.call(s,...r)},onCreate:(...r)=>{var s,o;return(o=(s=this.options.current).onCreate)===null||o===void 0?void 0:o.call(s,...r)},onDestroy:(...r)=>{var s,o;return(o=(s=this.options.current).onDestroy)===null||o===void 0?void 0:o.call(s,...r)},onFocus:(...r)=>{var s,o;return(o=(s=this.options.current).onFocus)===null||o===void 0?void 0:o.call(s,...r)},onSelectionUpdate:(...r)=>{var s,o;return(o=(s=this.options.current).onSelectionUpdate)===null||o===void 0?void 0:o.call(s,...r)},onTransaction:(...r)=>{var s,o;return(o=(s=this.options.current).onTransaction)===null||o===void 0?void 0:o.call(s,...r)},onUpdate:(...r)=>{var s,o;return(o=(s=this.options.current).onUpdate)===null||o===void 0?void 0:o.call(s,...r)},onContentError:(...r)=>{var s,o;return(o=(s=this.options.current).onContentError)===null||o===void 0?void 0:o.call(s,...r)},onDrop:(...r)=>{var s,o;return(o=(s=this.options.current).onDrop)===null||o===void 0?void 0:o.call(s,...r)},onPaste:(...r)=>{var s,o;return(o=(s=this.options.current).onPaste)===null||o===void 0?void 0:o.call(s,...r)}};return new l3(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((s,o)=>{var u;return s===((u=t.extensions)===null||u===void 0?void 0:u[o])}):e[r]===t[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?Rg.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,s)=>r===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function w3(n={},e=[]){const t=R.useRef(n);t.current=n;const[r]=R.useState(()=>new Rg(t)),s=Mg.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return R.useDebugValue(s),R.useEffect(r.onRender(e)),E3({editor:s,selector:({transactionNumber:o})=>n.shouldRerenderOnTransaction===!1?null:n.immediatelyRender&&o===0?0:o+1}),s}const C3=R.createContext({editor:null});C3.Consumer;const N3=R.createContext({onDragStart:void 0}),O3=()=>R.useContext(N3);Fe.forwardRef((n,e)=>{const{onDragStart:t}=O3(),r=n.as||"div";return Fe.createElement(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});const k3=/^\s*>\s$/,M3=bn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",kt(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Ha({find:k3,type:this.type})]}}),R3=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,D3=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,j3=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,_3=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,L3=Cr.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",kt(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[$l({find:R3,type:this.type}),$l({find:j3,type:this.type})]},addPasteRules(){return[Fs({find:D3,type:this.type}),Fs({find:_3,type:this.type})]}}),z3="listItem",mS="textStyle",gS=/^\s*([-+*])\s$/,B3=bn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",kt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(z3,this.editor.getAttributes(mS)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=Ha({find:gS,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Ha({find:gS,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(mS),editor:this.editor})),[n]}}),H3=/(^|[^`])`([^`]+)`(?!`)/,U3=/(^|[^`])`([^`]+)`(?!`)/g,P3=Cr.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",kt(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[$l({find:H3,type:this.type})]},addPasteRules(){return[Fs({find:U3,type:this.type})]}}),I3=/^```([a-z]+)?[\s\n]$/,q3=/^~~~([a-z]+)?[\s\n]$/,V3=bn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,o=[...((e=n.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(u=>u.startsWith(t)).map(u=>u.replace(t,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",kt(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:s}=t;if(!s||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,u=r.parent.textContent.endsWith(`

`);return!o||!u?!1:n.chain().command(({tr:c})=>(c.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:s,empty:o}=t;if(!o||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const c=s.after();return c===void 0?!1:r.nodeAt(c)?n.commands.command(({tr:h})=>(h.setSelection(we.near(r.resolve(c))),!0)):n.commands.exitCode()}}},addInputRules(){return[Um({find:I3,type:this.type,getAttributes:n=>({language:n[1]})}),Um({find:q3,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new Pt({key:new Mn("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,o=s==null?void 0:s.mode;if(!t||!o)return!1;const{tr:u,schema:c}=n.state,d=c.text(t.replace(/\r\n?/g,`
`));return u.replaceSelectionWith(this.type.create({language:o},d)),u.selection.$from.parent.type!==this.type&&u.setSelection(Se.near(u.doc.resolve(Math.max(0,u.selection.from-2)))),u.setMeta("paste",!0),n.dispatch(u),!0}}})]}}),F3=bn.create({name:"doc",topNode:!0,content:"block+"});function $3(n={}){return new Pt({view(e){return new G3(e,n)}})}class G3{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let o=u=>{this[s](u)};return e.dom.addEventListener(s,o),{name:s,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r,s=this.editorView.dom,o=s.getBoundingClientRect(),u=o.width/s.offsetWidth,c=o.height/s.offsetHeight;if(t){let y=e.nodeBefore,b=e.nodeAfter;if(y||b){let S=this.editorView.nodeDOM(this.cursorPos-(y?y.nodeSize:0));if(S){let x=S.getBoundingClientRect(),v=y?x.bottom:x.top;y&&b&&(v=(v+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let A=this.width/2*c;r={left:x.left,right:x.right,top:v-A,bottom:v+A}}}}if(!r){let y=this.editorView.coordsAtPos(this.cursorPos),b=this.width/2*u;r={left:y.left-b,right:y.left+b,top:y.top,bottom:y.bottom}}let d=this.editorView.dom.offsetParent;this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let h,m;if(!d||d==document.body&&getComputedStyle(d).position=="static")h=-pageXOffset,m=-pageYOffset;else{let y=d.getBoundingClientRect(),b=y.width/d.offsetWidth,S=y.height/d.offsetHeight;h=y.left-d.scrollLeft*b,m=y.top-d.scrollTop*S}this.element.style.left=(r.left-h)/u+"px",this.element.style.top=(r.top-m)/c+"px",this.element.style.width=(r.right-r.left)/u+"px",this.element.style.height=(r.bottom-r.top)/c+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),s=r&&r.type.spec.disableDropCursor,o=typeof s=="function"?s(this.editorView,t,e):s;if(t&&!o){let u=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let c=lE(this.editorView.state.doc,u,this.editorView.dragging.slice);c!=null&&(u=c)}this.setCursor(u),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const Y3=nn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[$3(this.options)]}});class lt extends we{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return lt.valid(r)?new lt(r):we.near(r)}content(){return te.empty}eq(e){return e instanceof lt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new lt(e.resolve(t.pos))}getBookmark(){return new Dg(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!K3(e)||!X3(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let s=t.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&lt.valid(e))return e;let s=e.pos,o=null;for(let u=e.depth;;u--){let c=e.node(u);if(t>0?e.indexAfter(u)<c.childCount:e.index(u)>0){o=c.child(t>0?e.indexAfter(u):e.index(u)-1);break}else if(u==0)return null;s+=t;let d=e.doc.resolve(s);if(lt.valid(d))return d}for(;;){let u=t>0?o.firstChild:o.lastChild;if(!u){if(o.isAtom&&!o.isText&&!de.isSelectable(o)){e=e.doc.resolve(s+o.nodeSize*t),r=!1;continue e}break}o=u,s+=t;let c=e.doc.resolve(s);if(lt.valid(c))return c}return null}}}lt.prototype.visible=!1;lt.findFrom=lt.findGapCursorFrom;we.jsonID("gapcursor",lt);class Dg{constructor(e){this.pos=e}map(e){return new Dg(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return lt.valid(t)?new lt(t):we.near(t)}}function K3(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(t-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function X3(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(t);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function J3(){return new Pt({props:{decorations:e_,createSelectionBetween(n,e,t){return e.pos==t.pos&&lt.valid(t)?new lt(t):null},handleClick:W3,handleKeyDown:Q3,handleDOMEvents:{beforeinput:Z3}}})}const Q3=YE({ArrowLeft:pc("horiz",-1),ArrowRight:pc("horiz",1),ArrowUp:pc("vert",-1),ArrowDown:pc("vert",1)});function pc(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,o){let u=r.selection,c=e>0?u.$to:u.$from,d=u.empty;if(u instanceof Se){if(!o.endOfTextblock(t)||c.depth==0)return!1;d=!1,c=r.doc.resolve(e>0?c.after():c.before())}let h=lt.findGapCursorFrom(c,e,d);return h?(s&&s(r.tr.setSelection(new lt(h))),!0):!1}}function W3(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!lt.valid(r))return!1;let s=n.posAtCoords({left:t.clientX,top:t.clientY});return s&&s.inside>-1&&de.isSelectable(n.state.doc.nodeAt(s.inside))?!1:(n.dispatch(n.state.tr.setSelection(new lt(r))),!0)}function Z3(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof lt))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let s=K.empty;for(let u=r.length-1;u>=0;u--)s=K.from(r[u].createAndFill(null,s));let o=n.state.tr.replace(t.pos,t.pos,new te(s,0,0));return o.setSelection(Se.near(o.doc.resolve(t.pos+1))),n.dispatch(o),!1}function e_(n){if(!(n.selection instanceof lt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",St.create(n.doc,[Gn.widget(n.selection.head,e,{key:"gapcursor"})])}const t_=nn.create({name:"gapCursor",addProseMirrorPlugins(){return[J3()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=Oe(se(n,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),n_=bn.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",kt(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:s,storedMarks:o}=t;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:u}=this.options,{splittableMarks:c}=r.extensionManager,d=o||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:h,dispatch:m})=>{if(m&&d&&u){const y=d.filter(b=>c.includes(b.type.name));h.ensureMarks(y)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),r_=bn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,kt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>Um({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var Zc=200,Nt=function(){};Nt.prototype.append=function(e){return e.length?(e=Nt.from(e),!this.length&&e||e.length<Zc&&this.leafAppend(e)||this.length<Zc&&e.leafPrepend(this)||this.appendInner(e)):this};Nt.prototype.prepend=function(e){return e.length?Nt.from(e).append(this):this};Nt.prototype.appendInner=function(e){return new i_(this,e)};Nt.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?Nt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};Nt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Nt.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};Nt.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(o,u){return s.push(e(o,u))},t,r),s};Nt.from=function(e){return e instanceof Nt?e:e&&e.length?new xT(e):Nt.empty};var xT=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,o){return s==0&&o==this.length?this:new e(this.values.slice(s,o))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,o,u,c){for(var d=o;d<u;d++)if(s(this.values[d],c+d)===!1)return!1},e.prototype.forEachInvertedInner=function(s,o,u,c){for(var d=o-1;d>=u;d--)if(s(this.values[d],c+d)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=Zc)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=Zc)return new e(s.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(Nt);Nt.empty=new xT([]);var i_=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,o,u){var c=this.left.length;if(s<c&&this.left.forEachInner(r,s,Math.min(o,c),u)===!1||o>c&&this.right.forEachInner(r,Math.max(s-c,0),Math.min(this.length,o)-c,u+c)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,o,u){var c=this.left.length;if(s>c&&this.right.forEachInvertedInner(r,s-c,Math.max(o,c)-c,u+c)===!1||o<c&&this.left.forEachInvertedInner(r,Math.min(s,c),o,u)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var o=this.left.length;return s<=o?this.left.slice(r,s):r>=o?this.right.slice(r-o,s-o):this.left.slice(r,o).append(this.right.slice(0,s-o))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Nt);const s_=500;class ir{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,o;t&&(s=this.remapping(r,this.items.length),o=s.maps.length);let u=e.tr,c,d,h=[],m=[];return this.items.forEach((y,b)=>{if(!y.step){s||(s=this.remapping(r,b+1),o=s.maps.length),o--,m.push(y);return}if(s){m.push(new xr(y.map));let S=y.step.map(s.slice(o)),x;S&&u.maybeStep(S).doc&&(x=u.mapping.maps[u.mapping.maps.length-1],h.push(new xr(x,void 0,void 0,h.length+m.length))),o--,x&&s.appendMap(x,o)}else u.maybeStep(y.step);if(y.selection)return c=s?y.selection.map(s.slice(o)):y.selection,d=new ir(this.items.slice(0,r).append(m.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:u,selection:c}}addTransform(e,t,r,s){let o=[],u=this.eventCount,c=this.items,d=!s&&c.length?c.get(c.length-1):null;for(let m=0;m<e.steps.length;m++){let y=e.steps[m].invert(e.docs[m]),b=new xr(e.mapping.maps[m],y,t),S;(S=d&&d.merge(b))&&(b=S,m?o.pop():c=c.slice(0,c.length-1)),o.push(b),t&&(u++,t=void 0),s||(d=b)}let h=u-r.depth;return h>o_&&(c=l_(c,h),u-=h),new ir(c.append(o),u)}remapping(e,t){let r=new Da;return this.items.forEach((s,o)=>{let u=s.mirrorOffset!=null&&o-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,u)},e,t),r}addMaps(e){return this.eventCount==0?this:new ir(this.items.append(e.map(t=>new xr(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-t),o=e.mapping,u=e.steps.length,c=this.eventCount;this.items.forEach(b=>{b.selection&&c--},s);let d=t;this.items.forEach(b=>{let S=o.getMirror(--d);if(S==null)return;u=Math.min(u,S);let x=o.maps[S];if(b.step){let v=e.steps[S].invert(e.docs[S]),A=b.selection&&b.selection.map(o.slice(d+1,S));A&&c++,r.push(new xr(x,v,A))}else r.push(new xr(x))},s);let h=[];for(let b=t;b<u;b++)h.push(new xr(o.maps[b]));let m=this.items.slice(0,s).append(h).append(r),y=new ir(m,c);return y.emptyItemCount()>s_&&(y=y.compress(this.items.length-r.length)),y}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,s=[],o=0;return this.items.forEach((u,c)=>{if(c>=e)s.push(u),u.selection&&o++;else if(u.step){let d=u.step.map(t.slice(r)),h=d&&d.getMap();if(r--,h&&t.appendMap(h,r),d){let m=u.selection&&u.selection.map(t.slice(r));m&&o++;let y=new xr(h.invert(),d,m),b,S=s.length-1;(b=s.length&&s[S].merge(y))?s[S]=b:s.push(y)}}else u.map&&r--},this.items.length,0),new ir(Nt.from(s.reverse()),o)}}ir.empty=new ir(Nt.empty,0);function l_(n,e){let t;return n.forEach((r,s)=>{if(r.selection&&e--==0)return t=s,!1}),n.slice(t)}class xr{constructor(e,t,r,s){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new xr(t.getMap().invert(),t,this.selection)}}}class Hi{constructor(e,t,r,s,o){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=s,this.prevComposition=o}}const o_=20;function a_(n,e,t,r){let s=t.getMeta(Hs),o;if(s)return s.historyState;t.getMeta(f_)&&(n=new Hi(n.done,n.undone,null,0,-1));let u=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(u&&u.getMeta(Hs))return u.getMeta(Hs).redo?new Hi(n.done.addTransform(t,void 0,r,Mc(e)),n.undone,yS(t.mapping.maps),n.prevTime,n.prevComposition):new Hi(n.done,n.undone.addTransform(t,void 0,r,Mc(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(u&&u.getMeta("addToHistory")===!1)){let c=t.getMeta("composition"),d=n.prevTime==0||!u&&n.prevComposition!=c&&(n.prevTime<(t.time||0)-r.newGroupDelay||!u_(t,n.prevRanges)),h=u?Yp(n.prevRanges,t.mapping):yS(t.mapping.maps);return new Hi(n.done.addTransform(t,d?e.selection.getBookmark():void 0,r,Mc(e)),ir.empty,h,t.time,c??n.prevComposition)}else return(o=t.getMeta("rebased"))?new Hi(n.done.rebased(t,o),n.undone.rebased(t,o),Yp(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new Hi(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),Yp(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function u_(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,s)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&s>=e[o]&&(t=!0)}),t}function yS(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,s,o,u)=>e.push(o,u));return e}function Yp(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let s=e.map(n[r],1),o=e.map(n[r+1],-1);s<=o&&t.push(s,o)}return t}function c_(n,e,t){let r=Mc(e),s=Hs.get(e).spec.config,o=(t?n.undone:n.done).popEvent(e,r);if(!o)return null;let u=o.selection.resolve(o.transform.doc),c=(t?n.done:n.undone).addTransform(o.transform,e.selection.getBookmark(),s,r),d=new Hi(t?c:o.remaining,t?o.remaining:c,null,0,-1);return o.transform.setSelection(u).setMeta(Hs,{redo:t,historyState:d})}let Kp=!1,bS=null;function Mc(n){let e=n.plugins;if(bS!=e){Kp=!1,bS=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){Kp=!0;break}}return Kp}const Hs=new Mn("history"),f_=new Mn("closeHistory");function d_(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new Pt({key:Hs,state:{init(){return new Hi(ir.empty,ir.empty,null,0,-1)},apply(e,t,r){return a_(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,s=r=="historyUndo"?vT:r=="historyRedo"?ET:null;return s?(t.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function ST(n,e){return(t,r)=>{let s=Hs.getState(t);if(!s||(n?s.undone:s.done).eventCount==0)return!1;if(r){let o=c_(s,t,n);o&&r(e?o.scrollIntoView():o)}return!0}}const vT=ST(!1,!0),ET=ST(!0,!0),h_=nn.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>vT(n,e),redo:()=>({state:n,dispatch:e})=>ET(n,e)}},addProseMirrorPlugins(){return[d_(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),p_=bn.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",kt(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{const{selection:t}=e,{$from:r,$to:s}=t,o=n();return r.parentOffset===0?o.insertContentAt({from:Math.max(r.pos-1,0),to:s.pos},{type:this.name}):kj(t)?o.insertContentAt(s.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({tr:u,dispatch:c})=>{var d;if(c){const{$to:h}=u.selection,m=h.end();if(h.nodeAfter)h.nodeAfter.isTextblock?u.setSelection(Se.create(u.doc,h.pos+1)):h.nodeAfter.isBlock?u.setSelection(de.create(u.doc,h.pos)):u.setSelection(Se.create(u.doc,h.pos));else{const y=(d=h.parent.type.contentMatch.defaultType)===null||d===void 0?void 0:d.create();y&&(u.insert(m,y),u.setSelection(Se.create(u.doc,m+1)))}u.scrollIntoView()}return!0}).run()}}},addInputRules(){return[o3({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),m_=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,g_=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,y_=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,b_=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,x_=Cr.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",kt(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[$l({find:m_,type:this.type}),$l({find:y_,type:this.type})]},addPasteRules(){return[Fs({find:g_,type:this.type}),Fs({find:b_,type:this.type})]}}),S_=bn.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",kt(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),v_="listItem",xS="textStyle",SS=/^(\d+)\.\s$/,E_=bn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:null,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",kt(this.options.HTMLAttributes,t),0]:["ol",kt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(v_,this.editor.getAttributes(xS)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=Ha({find:SS,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Ha({find:SS,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(xS)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),T_=bn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",kt(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),A_=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,w_=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,C_=Cr.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",kt(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[$l({find:A_,type:this.type})]},addPasteRules(){return[Fs({find:w_,type:this.type})]}}),N_=bn.create({name:"text",group:"inline"}),O_=nn.create({name:"starterKit",addExtensions(){const n=[];return this.options.bold!==!1&&n.push(L3.configure(this.options.bold)),this.options.blockquote!==!1&&n.push(M3.configure(this.options.blockquote)),this.options.bulletList!==!1&&n.push(B3.configure(this.options.bulletList)),this.options.code!==!1&&n.push(P3.configure(this.options.code)),this.options.codeBlock!==!1&&n.push(V3.configure(this.options.codeBlock)),this.options.document!==!1&&n.push(F3.configure(this.options.document)),this.options.dropcursor!==!1&&n.push(Y3.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&n.push(t_.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&n.push(n_.configure(this.options.hardBreak)),this.options.heading!==!1&&n.push(r_.configure(this.options.heading)),this.options.history!==!1&&n.push(h_.configure(this.options.history)),this.options.horizontalRule!==!1&&n.push(p_.configure(this.options.horizontalRule)),this.options.italic!==!1&&n.push(x_.configure(this.options.italic)),this.options.listItem!==!1&&n.push(S_.configure(this.options.listItem)),this.options.orderedList!==!1&&n.push(E_.configure(this.options.orderedList)),this.options.paragraph!==!1&&n.push(T_.configure(this.options.paragraph)),this.options.strike!==!1&&n.push(C_.configure(this.options.strike)),this.options.text!==!1&&n.push(N_.configure(this.options.text)),n}}),k_=Cr.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",kt(this.options.HTMLAttributes,n),0]},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),M_="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",R_="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",Gl=(n,e)=>{for(const t in e)n[t]=e[t];return n},Im="numeric",qm="ascii",Vm="alpha",va="asciinumeric",ya="alphanumeric",Fm="domain",TT="emoji",D_="scheme",j_="slashscheme",Xp="whitespace";function __(n,e){return n in e||(e[n]=[]),e[n]}function Rs(n,e,t){e[Im]&&(e[va]=!0,e[ya]=!0),e[qm]&&(e[va]=!0,e[Vm]=!0),e[va]&&(e[ya]=!0),e[Vm]&&(e[ya]=!0),e[ya]&&(e[Fm]=!0),e[TT]&&(e[Fm]=!0);for(const r in e){const s=__(r,t);s.indexOf(n)<0&&s.push(n)}}function L_(n,e){const t={};for(const r in e)e[r].indexOf(n)>=0&&(t[r]=!0);return t}function pn(n=null){this.j={},this.jr=[],this.jd=null,this.t=n}pn.groups={};pn.prototype={accepts(){return!!this.t},go(n){const e=this,t=e.j[n];if(t)return t;for(let r=0;r<e.jr.length;r++){const s=e.jr[r][0],o=e.jr[r][1];if(o&&s.test(n))return o}return e.jd},has(n,e=!1){return e?n in this.j:!!this.go(n)},ta(n,e,t,r){for(let s=0;s<n.length;s++)this.tt(n[s],e,t,r)},tr(n,e,t,r){r=r||pn.groups;let s;return e&&e.j?s=e:(s=new pn(e),t&&r&&Rs(e,t,r)),this.jr.push([n,s]),s},ts(n,e,t,r){let s=this;const o=n.length;if(!o)return s;for(let u=0;u<o-1;u++)s=s.tt(n[u]);return s.tt(n[o-1],e,t,r)},tt(n,e,t,r){r=r||pn.groups;const s=this;if(e&&e.j)return s.j[n]=e,e;const o=e;let u,c=s.go(n);if(c?(u=new pn,Gl(u.j,c.j),u.jr.push.apply(u.jr,c.jr),u.jd=c.jd,u.t=c.t):u=new pn,o){if(r)if(u.t&&typeof u.t=="string"){const d=Gl(L_(u.t,r),t);Rs(o,d,r)}else t&&Rs(o,t,r);u.t=o}return s.j[n]=u,u}};const Ce=(n,e,t,r,s)=>n.ta(e,t,r,s),st=(n,e,t,r,s)=>n.tr(e,t,r,s),vS=(n,e,t,r,s)=>n.ts(e,t,r,s),J=(n,e,t,r,s)=>n.tt(e,t,r,s),Zr="WORD",$m="UWORD",AT="ASCIINUMERICAL",wT="ALPHANUMERICAL",Ua="LOCALHOST",Gm="TLD",Ym="UTLD",Rc="SCHEME",Ll="SLASH_SCHEME",jg="NUM",Km="WS",_g="NL",Ea="OPENBRACE",Ta="CLOSEBRACE",ef="OPENBRACKET",tf="CLOSEBRACKET",nf="OPENPAREN",rf="CLOSEPAREN",sf="OPENANGLEBRACKET",lf="CLOSEANGLEBRACKET",of="FULLWIDTHLEFTPAREN",af="FULLWIDTHRIGHTPAREN",uf="LEFTCORNERBRACKET",cf="RIGHTCORNERBRACKET",ff="LEFTWHITECORNERBRACKET",df="RIGHTWHITECORNERBRACKET",hf="FULLWIDTHLESSTHAN",pf="FULLWIDTHGREATERTHAN",mf="AMPERSAND",gf="APOSTROPHE",yf="ASTERISK",Ui="AT",bf="BACKSLASH",xf="BACKTICK",Sf="CARET",Ii="COLON",Lg="COMMA",vf="DOLLAR",Sr="DOT",Ef="EQUALS",zg="EXCLAMATION",Vn="HYPHEN",Aa="PERCENT",Tf="PIPE",Af="PLUS",wf="POUND",wa="QUERY",Bg="QUOTE",CT="FULLWIDTHMIDDLEDOT",Hg="SEMI",vr="SLASH",Ca="TILDE",Cf="UNDERSCORE",NT="EMOJI",Nf="SYM";var OT=Object.freeze({__proto__:null,ALPHANUMERICAL:wT,AMPERSAND:mf,APOSTROPHE:gf,ASCIINUMERICAL:AT,ASTERISK:yf,AT:Ui,BACKSLASH:bf,BACKTICK:xf,CARET:Sf,CLOSEANGLEBRACKET:lf,CLOSEBRACE:Ta,CLOSEBRACKET:tf,CLOSEPAREN:rf,COLON:Ii,COMMA:Lg,DOLLAR:vf,DOT:Sr,EMOJI:NT,EQUALS:Ef,EXCLAMATION:zg,FULLWIDTHGREATERTHAN:pf,FULLWIDTHLEFTPAREN:of,FULLWIDTHLESSTHAN:hf,FULLWIDTHMIDDLEDOT:CT,FULLWIDTHRIGHTPAREN:af,HYPHEN:Vn,LEFTCORNERBRACKET:uf,LEFTWHITECORNERBRACKET:ff,LOCALHOST:Ua,NL:_g,NUM:jg,OPENANGLEBRACKET:sf,OPENBRACE:Ea,OPENBRACKET:ef,OPENPAREN:nf,PERCENT:Aa,PIPE:Tf,PLUS:Af,POUND:wf,QUERY:wa,QUOTE:Bg,RIGHTCORNERBRACKET:cf,RIGHTWHITECORNERBRACKET:df,SCHEME:Rc,SEMI:Hg,SLASH:vr,SLASH_SCHEME:Ll,SYM:Nf,TILDE:Ca,TLD:Gm,UNDERSCORE:Cf,UTLD:Ym,UWORD:$m,WORD:Zr,WS:Km});const Qr=/[a-z]/,aa=new RegExp("\\p{L}","u"),Jp=new RegExp("\\p{Emoji}","u"),Wr=/\d/,Qp=/\s/,ES="\r",Wp=`
`,z_="️",B_="‍",Zp="￼";let mc=null,gc=null;function H_(n=[]){const e={};pn.groups=e;const t=new pn;mc==null&&(mc=TS(M_)),gc==null&&(gc=TS(R_)),J(t,"'",gf),J(t,"{",Ea),J(t,"}",Ta),J(t,"[",ef),J(t,"]",tf),J(t,"(",nf),J(t,")",rf),J(t,"<",sf),J(t,">",lf),J(t,"（",of),J(t,"）",af),J(t,"「",uf),J(t,"」",cf),J(t,"『",ff),J(t,"』",df),J(t,"＜",hf),J(t,"＞",pf),J(t,"&",mf),J(t,"*",yf),J(t,"@",Ui),J(t,"`",xf),J(t,"^",Sf),J(t,":",Ii),J(t,",",Lg),J(t,"$",vf),J(t,".",Sr),J(t,"=",Ef),J(t,"!",zg),J(t,"-",Vn),J(t,"%",Aa),J(t,"|",Tf),J(t,"+",Af),J(t,"#",wf),J(t,"?",wa),J(t,'"',Bg),J(t,"/",vr),J(t,";",Hg),J(t,"~",Ca),J(t,"_",Cf),J(t,"\\",bf),J(t,"・",CT);const r=st(t,Wr,jg,{[Im]:!0});st(r,Wr,r);const s=st(r,Qr,AT,{[va]:!0}),o=st(r,aa,wT,{[ya]:!0}),u=st(t,Qr,Zr,{[qm]:!0});st(u,Wr,s),st(u,Qr,u),st(s,Wr,s),st(s,Qr,s);const c=st(t,aa,$m,{[Vm]:!0});st(c,Qr),st(c,Wr,o),st(c,aa,c),st(o,Wr,o),st(o,Qr),st(o,aa,o);const d=J(t,Wp,_g,{[Xp]:!0}),h=J(t,ES,Km,{[Xp]:!0}),m=st(t,Qp,Km,{[Xp]:!0});J(t,Zp,m),J(h,Wp,d),J(h,Zp,m),st(h,Qp,m),J(m,ES),J(m,Wp),st(m,Qp,m),J(m,Zp,m);const y=st(t,Jp,NT,{[TT]:!0});J(y,"#"),st(y,Jp,y),J(y,z_,y);const b=J(y,B_);J(b,"#"),st(b,Jp,y);const S=[[Qr,u],[Wr,s]],x=[[Qr,null],[aa,c],[Wr,o]];for(let v=0;v<mc.length;v++)Li(t,mc[v],Gm,Zr,S);for(let v=0;v<gc.length;v++)Li(t,gc[v],Ym,$m,x);Rs(Gm,{tld:!0,ascii:!0},e),Rs(Ym,{utld:!0,alpha:!0},e),Li(t,"file",Rc,Zr,S),Li(t,"mailto",Rc,Zr,S),Li(t,"http",Ll,Zr,S),Li(t,"https",Ll,Zr,S),Li(t,"ftp",Ll,Zr,S),Li(t,"ftps",Ll,Zr,S),Rs(Rc,{scheme:!0,ascii:!0},e),Rs(Ll,{slashscheme:!0,ascii:!0},e),n=n.sort((v,A)=>v[0]>A[0]?1:-1);for(let v=0;v<n.length;v++){const A=n[v][0],O=n[v][1]?{[D_]:!0}:{[j_]:!0};A.indexOf("-")>=0?O[Fm]=!0:Qr.test(A)?Wr.test(A)?O[va]=!0:O[qm]=!0:O[Im]=!0,vS(t,A,A,O)}return vS(t,"localhost",Ua,{ascii:!0}),t.jd=new pn(Nf),{start:t,tokens:Gl({groups:e},OT)}}function kT(n,e){const t=U_(e.replace(/[A-Z]/g,c=>c.toLowerCase())),r=t.length,s=[];let o=0,u=0;for(;u<r;){let c=n,d=null,h=0,m=null,y=-1,b=-1;for(;u<r&&(d=c.go(t[u]));)c=d,c.accepts()?(y=0,b=0,m=c):y>=0&&(y+=t[u].length,b++),h+=t[u].length,o+=t[u].length,u++;o-=y,u-=b,h-=y,s.push({t:m.t,v:e.slice(o-h,o),s:o-h,e:o})}return s}function U_(n){const e=[],t=n.length;let r=0;for(;r<t;){let s=n.charCodeAt(r),o,u=s<55296||s>56319||r+1===t||(o=n.charCodeAt(r+1))<56320||o>57343?n[r]:n.slice(r,r+2);e.push(u),r+=u.length}return e}function Li(n,e,t,r,s){let o;const u=e.length;for(let c=0;c<u-1;c++){const d=e[c];n.j[d]?o=n.j[d]:(o=new pn(r),o.jr=s.slice(),n.j[d]=o),n=o}return o=new pn(t),o.jr=s.slice(),n.j[e[u-1]]=o,o}function TS(n){const e=[],t=[];let r=0,s="0123456789";for(;r<n.length;){let o=0;for(;s.indexOf(n[r+o])>=0;)o++;if(o>0){e.push(t.join(""));for(let u=parseInt(n.substring(r,r+o),10);u>0;u--)t.pop();r+=o}else t.push(n[r]),r++}return e}const Pa={defaultProtocol:"http",events:null,format:AS,formatHref:AS,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Ug(n,e=null){let t=Gl({},Pa);n&&(t=Gl(t,n instanceof Ug?n.o:n));const r=t.ignoreTags,s=[];for(let o=0;o<r.length;o++)s.push(r[o].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=s}Ug.prototype={o:Pa,ignoreTags:[],defaultRender(n){return n},check(n){return this.get("validate",n.toString(),n)},get(n,e,t){const r=e!=null;let s=this.o[n];return s&&(typeof s=="object"?(s=t.t in s?s[t.t]:Pa[n],typeof s=="function"&&r&&(s=s(e,t))):typeof s=="function"&&r&&(s=s(e,t.t,t)),s)},getObj(n,e,t){let r=this.o[n];return typeof r=="function"&&e!=null&&(r=r(e,t.t,t)),r},render(n){const e=n.render(this);return(this.get("render",null,n)||this.defaultRender)(e,n.t,n)}};function AS(n){return n}function MT(n,e){this.t="token",this.v=n,this.tk=e}MT.prototype={isLink:!1,toString(){return this.v},toHref(n){return this.toString()},toFormattedString(n){const e=this.toString(),t=n.get("truncate",e,this),r=n.get("format",e,this);return t&&r.length>t?r.substring(0,t)+"…":r},toFormattedHref(n){return n.get("formatHref",this.toHref(n.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(n=Pa.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(n),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(n){return{type:this.t,value:this.toFormattedString(n),isLink:this.isLink,href:this.toFormattedHref(n),start:this.startIndex(),end:this.endIndex()}},validate(n){return n.get("validate",this.toString(),this)},render(n){const e=this,t=this.toHref(n.get("defaultProtocol")),r=n.get("formatHref",t,this),s=n.get("tagName",t,e),o=this.toFormattedString(n),u={},c=n.get("className",t,e),d=n.get("target",t,e),h=n.get("rel",t,e),m=n.getObj("attributes",t,e),y=n.getObj("events",t,e);return u.href=r,c&&(u.class=c),d&&(u.target=d),h&&(u.rel=h),m&&Gl(u,m),{tagName:s,attributes:u,content:o,eventListeners:y}}};function Zf(n,e){class t extends MT{constructor(s,o){super(s,o),this.t=n}}for(const r in e)t.prototype[r]=e[r];return t.t=n,t}const wS=Zf("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),CS=Zf("text"),P_=Zf("nl"),yc=Zf("url",{isLink:!0,toHref(n=Pa.defaultProtocol){return this.hasProtocol()?this.v:`${n}://${this.v}`},hasProtocol(){const n=this.tk;return n.length>=2&&n[0].t!==Ua&&n[1].t===Ii}}),qn=n=>new pn(n);function I_({groups:n}){const e=n.domain.concat([mf,yf,Ui,bf,xf,Sf,vf,Ef,Vn,jg,Aa,Tf,Af,wf,vr,Nf,Ca,Cf]),t=[gf,Ii,Lg,Sr,zg,Aa,wa,Bg,Hg,sf,lf,Ea,Ta,tf,ef,nf,rf,of,af,uf,cf,ff,df,hf,pf],r=[mf,gf,yf,bf,xf,Sf,vf,Ef,Vn,Ea,Ta,Aa,Tf,Af,wf,wa,vr,Nf,Ca,Cf],s=qn(),o=J(s,Ca);Ce(o,r,o),Ce(o,n.domain,o);const u=qn(),c=qn(),d=qn();Ce(s,n.domain,u),Ce(s,n.scheme,c),Ce(s,n.slashscheme,d),Ce(u,r,o),Ce(u,n.domain,u);const h=J(u,Ui);J(o,Ui,h),J(c,Ui,h),J(d,Ui,h);const m=J(o,Sr);Ce(m,r,o),Ce(m,n.domain,o);const y=qn();Ce(h,n.domain,y),Ce(y,n.domain,y);const b=J(y,Sr);Ce(b,n.domain,y);const S=qn(wS);Ce(b,n.tld,S),Ce(b,n.utld,S),J(h,Ua,S);const x=J(y,Vn);J(x,Vn,x),Ce(x,n.domain,y),Ce(S,n.domain,y),J(S,Sr,b),J(S,Vn,x);const v=J(S,Ii);Ce(v,n.numeric,wS);const A=J(u,Vn),C=J(u,Sr);J(A,Vn,A),Ce(A,n.domain,u),Ce(C,r,o),Ce(C,n.domain,u);const O=qn(yc);Ce(C,n.tld,O),Ce(C,n.utld,O),Ce(O,n.domain,u),Ce(O,r,o),J(O,Sr,C),J(O,Vn,A),J(O,Ui,h);const _=J(O,Ii),q=qn(yc);Ce(_,n.numeric,q);const P=qn(yc),W=qn();Ce(P,e,P),Ce(P,t,W),Ce(W,e,P),Ce(W,t,W),J(O,vr,P),J(q,vr,P);const ee=J(c,Ii),oe=J(d,Ii),Z=J(oe,vr),Me=J(Z,vr);Ce(c,n.domain,u),J(c,Sr,C),J(c,Vn,A),Ce(d,n.domain,u),J(d,Sr,C),J(d,Vn,A),Ce(ee,n.domain,P),J(ee,vr,P),J(ee,wa,P),Ce(Me,n.domain,P),Ce(Me,e,P),J(Me,vr,P);const ve=[[Ea,Ta],[ef,tf],[nf,rf],[sf,lf],[of,af],[uf,cf],[ff,df],[hf,pf]];for(let xe=0;xe<ve.length;xe++){const[ct,vt]=ve[xe],he=J(P,ct);J(W,ct,he),J(he,vt,P);const B=qn(yc);Ce(he,e,B);const Y=qn();Ce(he,t),Ce(B,e,B),Ce(B,t,Y),Ce(Y,e,B),Ce(Y,t,Y),J(B,vt,P),J(Y,vt,P)}return J(s,Ua,O),J(s,_g,P_),{start:s,tokens:OT}}function q_(n,e,t){let r=t.length,s=0,o=[],u=[];for(;s<r;){let c=n,d=null,h=null,m=0,y=null,b=-1;for(;s<r&&!(d=c.go(t[s].t));)u.push(t[s++]);for(;s<r&&(h=d||c.go(t[s].t));)d=null,c=h,c.accepts()?(b=0,y=c):b>=0&&b++,s++,m++;if(b<0)s-=m,s<r&&(u.push(t[s]),s++);else{u.length>0&&(o.push(em(CS,e,u)),u=[]),s-=b,m-=b;const S=y.t,x=t.slice(s-m,s);o.push(em(S,e,x))}}return u.length>0&&o.push(em(CS,e,u)),o}function em(n,e,t){const r=t[0].s,s=t[t.length-1].e,o=e.slice(r,s);return new n(o,t)}const V_=typeof console<"u"&&console&&console.warn||(()=>{}),F_="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Je={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function $_(){return pn.groups={},Je.scanner=null,Je.parser=null,Je.tokenQueue=[],Je.pluginQueue=[],Je.customSchemes=[],Je.initialized=!1,Je}function NS(n,e=!1){if(Je.initialized&&V_(`linkifyjs: already initialized - will not register custom scheme "${n}" ${F_}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(n))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Je.customSchemes.push([n,e])}function G_(){Je.scanner=H_(Je.customSchemes);for(let n=0;n<Je.tokenQueue.length;n++)Je.tokenQueue[n][1]({scanner:Je.scanner});Je.parser=I_(Je.scanner.tokens);for(let n=0;n<Je.pluginQueue.length;n++)Je.pluginQueue[n][1]({scanner:Je.scanner,parser:Je.parser});return Je.initialized=!0,Je}function Pg(n){return Je.initialized||G_(),q_(Je.parser.start,n,kT(Je.scanner.start,n))}Pg.scan=kT;function RT(n,e=null,t=null){if(e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const r=new Ug(t),s=Pg(n),o=[];for(let u=0;u<s.length;u++){const c=s[u];c.isLink&&(!e||c.t===e)&&r.check(c)&&o.push(c.toFormattedObject(r))}return o}function Y_(n){return n.length===1?n[0].isLink:n.length===3&&n[1].isLink?["()","[]"].includes(n[0].value+n[2].value):!1}function K_(n){return new Pt({key:new Mn("autolink"),appendTransaction:(e,t,r)=>{const s=e.some(h=>h.docChanged)&&!t.doc.eq(r.doc),o=e.some(h=>h.getMeta("preventAutolink"));if(!s||o)return;const{tr:u}=r,c=xj(t.doc,[...e]);if(Nj(c).forEach(({newRange:h})=>{const m=vj(r.doc,h,S=>S.isTextblock);let y,b;if(m.length>1?(y=m[0],b=r.doc.textBetween(y.pos,y.pos+y.node.nodeSize,void 0," ")):m.length&&r.doc.textBetween(h.from,h.to," "," ").endsWith(" ")&&(y=m[0],b=r.doc.textBetween(y.pos,h.to,void 0," ")),y&&b){const S=b.split(" ").filter(C=>C!=="");if(S.length<=0)return!1;const x=S[S.length-1],v=y.pos+b.lastIndexOf(x);if(!x)return!1;const A=Pg(x).map(C=>C.toObject(n.defaultProtocol));if(!Y_(A))return!1;A.filter(C=>C.isLink).map(C=>({...C,from:v+C.start+1,to:v+C.end+1})).filter(C=>r.schema.marks.code?!r.doc.rangeHasMark(C.from,C.to,r.schema.marks.code):!0).filter(C=>n.validate(C.value)).filter(C=>n.shouldAutoLink(C.value)).forEach(C=>{Og(C.from,C.to,r.doc).some(O=>O.mark.type===n.type)||u.addMark(C.from,C.to,n.type.create({href:C.href}))})}}),!!u.steps.length)return u}})}function X_(n){return new Pt({key:new Mn("handleClickLink"),props:{handleClick:(e,t,r)=>{var s,o;if(r.button!==0||!e.editable)return!1;let u=r.target;const c=[];for(;u.nodeName!=="DIV";)c.push(u),u=u.parentNode;if(!c.find(b=>b.nodeName==="A"))return!1;const d=gT(e.state,n.type.name),h=r.target,m=(s=h==null?void 0:h.href)!==null&&s!==void 0?s:d.href,y=(o=h==null?void 0:h.target)!==null&&o!==void 0?o:d.target;return h&&m?(window.open(m,y),!0):!1}}})}function J_(n){return new Pt({key:new Mn("handlePasteLink"),props:{handlePaste:(e,t,r)=>{const{state:s}=e,{selection:o}=s,{empty:u}=o;if(u)return!1;let c="";r.content.forEach(h=>{c+=h.textContent});const d=RT(c,{defaultProtocol:n.defaultProtocol}).find(h=>h.isLink&&h.value===c);return!c||!d?!1:n.editor.commands.setMark(n.type,{href:d.href})}}})}const Q_=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function As(n,e){const t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const s=typeof r=="string"?r:r.scheme;s&&t.push(s)}),!n||n.replace(Q_,"").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const W_=Cr.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(n=>{if(typeof n=="string"){NS(n);return}NS(n.scheme,n.optionalSlashes)})},onDestroy(){$_()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(n,e)=>!!As(n,e.protocols),validate:n=>!!n,shouldAutoLink:n=>!!n}},addAttributes(){return{href:{default:null,parseHTML(n){return n.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:n=>{const e=n.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:t=>!!As(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:n}){return this.options.isAllowedUri(n.href,{defaultValidate:e=>!!As(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",kt(this.options.HTMLAttributes,n),0]:["a",kt(this.options.HTMLAttributes,{...n,href:""}),0]},addCommands(){return{setLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!As(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,n).setMeta("preventAutolink",!0).run():!1},toggleLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!As(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,n,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:n})=>n().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Fs({find:n=>{const e=[];if(n){const{protocols:t,defaultProtocol:r}=this.options,s=RT(n).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:u=>!!As(u,t),protocols:t,defaultProtocol:r}));s.length&&s.forEach(o=>e.push({text:o.value,data:{href:o.href},index:o.start}))}return e},type:this.type,getAttributes:n=>{var e;return{href:(e=n.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const n=[],{protocols:e,defaultProtocol:t}=this.options;return this.options.autolink&&n.push(K_({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:s=>!!As(s,e),protocols:e,defaultProtocol:t}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&n.push(X_({type:this.type})),this.options.linkOnPaste&&n.push(J_({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),n}});/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:DT,setPrototypeOf:OS,isFrozen:Z_,getPrototypeOf:eL,getOwnPropertyDescriptor:tL}=Object;let{freeze:rn,seal:Kn,create:jT}=Object,{apply:Xm,construct:Jm}=typeof Reflect<"u"&&Reflect;rn||(rn=function(e){return e});Kn||(Kn=function(e){return e});Xm||(Xm=function(e,t,r){return e.apply(t,r)});Jm||(Jm=function(e,t){return new e(...t)});const bc=sn(Array.prototype.forEach),nL=sn(Array.prototype.lastIndexOf),kS=sn(Array.prototype.pop),ua=sn(Array.prototype.push),rL=sn(Array.prototype.splice),Dc=sn(String.prototype.toLowerCase),tm=sn(String.prototype.toString),MS=sn(String.prototype.match),ca=sn(String.prototype.replace),iL=sn(String.prototype.indexOf),sL=sn(String.prototype.trim),rr=sn(Object.prototype.hasOwnProperty),Wt=sn(RegExp.prototype.test),fa=lL(TypeError);function sn(n){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return Xm(n,e,r)}}function lL(n){return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Jm(n,t)}}function _e(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Dc;OS&&OS(n,null);let r=e.length;for(;r--;){let s=e[r];if(typeof s=="string"){const o=t(s);o!==s&&(Z_(e)||(e[r]=o),s=o)}n[s]=!0}return n}function oL(n){for(let e=0;e<n.length;e++)rr(n,e)||(n[e]=null);return n}function ei(n){const e=jT(null);for(const[t,r]of DT(n))rr(n,t)&&(Array.isArray(r)?e[t]=oL(r):r&&typeof r=="object"&&r.constructor===Object?e[t]=ei(r):e[t]=r);return e}function da(n,e){for(;n!==null;){const r=tL(n,e);if(r){if(r.get)return sn(r.get);if(typeof r.value=="function")return sn(r.value)}n=eL(n)}function t(){return null}return t}const RS=rn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),nm=rn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),rm=rn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),aL=rn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),im=rn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),uL=rn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),DS=rn(["#text"]),jS=rn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),sm=rn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),_S=rn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xc=rn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),cL=Kn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),fL=Kn(/<%[\w\W]*|[\w\W]*%>/gm),dL=Kn(/\$\{[\w\W]*/gm),hL=Kn(/^data-[\-\w.\u00B7-\uFFFF]+$/),pL=Kn(/^aria-[\-\w]+$/),_T=Kn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),mL=Kn(/^(?:\w+script|data):/i),gL=Kn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),LT=Kn(/^html$/i),yL=Kn(/^[a-z][.\w]*(-[.\w]+)+$/i);var LS=Object.freeze({__proto__:null,ARIA_ATTR:pL,ATTR_WHITESPACE:gL,CUSTOM_ELEMENT:yL,DATA_ATTR:hL,DOCTYPE_NAME:LT,ERB_EXPR:fL,IS_ALLOWED_URI:_T,IS_SCRIPT_OR_DATA:mL,MUSTACHE_EXPR:cL,TMPLIT_EXPR:dL});const ha={element:1,text:3,progressingInstruction:7,comment:8,document:9},bL=function(){return typeof window>"u"?null:window},xL=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const s="data-tt-policy-suffix";t&&t.hasAttribute(s)&&(r=t.getAttribute(s));const o="dompurify"+(r?"#"+r:"");try{return e.createPolicy(o,{createHTML(u){return u},createScriptURL(u){return u}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},zS=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function zT(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:bL();const e=ae=>zT(ae);if(e.version="3.2.6",e.removed=[],!n||!n.document||n.document.nodeType!==ha.document||!n.Element)return e.isSupported=!1,e;let{document:t}=n;const r=t,s=r.currentScript,{DocumentFragment:o,HTMLTemplateElement:u,Node:c,Element:d,NodeFilter:h,NamedNodeMap:m=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:y,DOMParser:b,trustedTypes:S}=n,x=d.prototype,v=da(x,"cloneNode"),A=da(x,"remove"),C=da(x,"nextSibling"),O=da(x,"childNodes"),_=da(x,"parentNode");if(typeof u=="function"){const ae=t.createElement("template");ae.content&&ae.content.ownerDocument&&(t=ae.content.ownerDocument)}let q,P="";const{implementation:W,createNodeIterator:ee,createDocumentFragment:oe,getElementsByTagName:Z}=t,{importNode:Me}=r;let ve=zS();e.isSupported=typeof DT=="function"&&typeof _=="function"&&W&&W.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:xe,ERB_EXPR:ct,TMPLIT_EXPR:vt,DATA_ATTR:he,ARIA_ATTR:B,IS_SCRIPT_OR_DATA:Y,ATTR_WHITESPACE:le,CUSTOM_ELEMENT:He}=LS;let{IS_ALLOWED_URI:k}=LS,V=null;const ne=_e({},[...RS,...nm,...rm,...im,...DS]);let Q=null;const ce=_e({},[...jS,...sm,..._S,...xc]);let fe=Object.seal(jT(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),me=null,Mt=null,$e=!0,Rn=!0,Gs=!1,ts=!0,ur=!1,ai=!0,Jn=!1,Wl=!1,Zl=!1,Rt=!1,Ys=!1,ns=!1,eo=!0,rs=!1;const ed="user-content-";let Ks=!0,is=!1,ui={},Dn=null;const It=_e({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Qn=null;const qt=_e({},["audio","video","img","source","image","track"]);let to=null;const Xa=_e({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Xs="http://www.w3.org/1998/Math/MathML",kr="http://www.w3.org/2000/svg",ln="http://www.w3.org/1999/xhtml";let on=ln,ci=!1,Mr=null;const td=_e({},[Xs,kr,ln],tm);let ss=_e({},["mi","mo","mn","ms","mtext"]),ls=_e({},["annotation-xml"]);const no=_e({},["title","style","font","a","script"]);let Wn=null;const nd=["application/xhtml+xml","text/html"],Ja="text/html";let ot=null,cr=null;const ro=t.createElement("form"),io=function(D){return D instanceof RegExp||D instanceof Function},so=function(){let D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(cr&&cr===D)){if((!D||typeof D!="object")&&(D={}),D=ei(D),Wn=nd.indexOf(D.PARSER_MEDIA_TYPE)===-1?Ja:D.PARSER_MEDIA_TYPE,ot=Wn==="application/xhtml+xml"?tm:Dc,V=rr(D,"ALLOWED_TAGS")?_e({},D.ALLOWED_TAGS,ot):ne,Q=rr(D,"ALLOWED_ATTR")?_e({},D.ALLOWED_ATTR,ot):ce,Mr=rr(D,"ALLOWED_NAMESPACES")?_e({},D.ALLOWED_NAMESPACES,tm):td,to=rr(D,"ADD_URI_SAFE_ATTR")?_e(ei(Xa),D.ADD_URI_SAFE_ATTR,ot):Xa,Qn=rr(D,"ADD_DATA_URI_TAGS")?_e(ei(qt),D.ADD_DATA_URI_TAGS,ot):qt,Dn=rr(D,"FORBID_CONTENTS")?_e({},D.FORBID_CONTENTS,ot):It,me=rr(D,"FORBID_TAGS")?_e({},D.FORBID_TAGS,ot):ei({}),Mt=rr(D,"FORBID_ATTR")?_e({},D.FORBID_ATTR,ot):ei({}),ui=rr(D,"USE_PROFILES")?D.USE_PROFILES:!1,$e=D.ALLOW_ARIA_ATTR!==!1,Rn=D.ALLOW_DATA_ATTR!==!1,Gs=D.ALLOW_UNKNOWN_PROTOCOLS||!1,ts=D.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ur=D.SAFE_FOR_TEMPLATES||!1,ai=D.SAFE_FOR_XML!==!1,Jn=D.WHOLE_DOCUMENT||!1,Rt=D.RETURN_DOM||!1,Ys=D.RETURN_DOM_FRAGMENT||!1,ns=D.RETURN_TRUSTED_TYPE||!1,Zl=D.FORCE_BODY||!1,eo=D.SANITIZE_DOM!==!1,rs=D.SANITIZE_NAMED_PROPS||!1,Ks=D.KEEP_CONTENT!==!1,is=D.IN_PLACE||!1,k=D.ALLOWED_URI_REGEXP||_T,on=D.NAMESPACE||ln,ss=D.MATHML_TEXT_INTEGRATION_POINTS||ss,ls=D.HTML_INTEGRATION_POINTS||ls,fe=D.CUSTOM_ELEMENT_HANDLING||{},D.CUSTOM_ELEMENT_HANDLING&&io(D.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(fe.tagNameCheck=D.CUSTOM_ELEMENT_HANDLING.tagNameCheck),D.CUSTOM_ELEMENT_HANDLING&&io(D.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(fe.attributeNameCheck=D.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),D.CUSTOM_ELEMENT_HANDLING&&typeof D.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(fe.allowCustomizedBuiltInElements=D.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ur&&(Rn=!1),Ys&&(Rt=!0),ui&&(V=_e({},DS),Q=[],ui.html===!0&&(_e(V,RS),_e(Q,jS)),ui.svg===!0&&(_e(V,nm),_e(Q,sm),_e(Q,xc)),ui.svgFilters===!0&&(_e(V,rm),_e(Q,sm),_e(Q,xc)),ui.mathMl===!0&&(_e(V,im),_e(Q,_S),_e(Q,xc))),D.ADD_TAGS&&(V===ne&&(V=ei(V)),_e(V,D.ADD_TAGS,ot)),D.ADD_ATTR&&(Q===ce&&(Q=ei(Q)),_e(Q,D.ADD_ATTR,ot)),D.ADD_URI_SAFE_ATTR&&_e(to,D.ADD_URI_SAFE_ATTR,ot),D.FORBID_CONTENTS&&(Dn===It&&(Dn=ei(Dn)),_e(Dn,D.FORBID_CONTENTS,ot)),Ks&&(V["#text"]=!0),Jn&&_e(V,["html","head","body"]),V.table&&(_e(V,["tbody"]),delete me.tbody),D.TRUSTED_TYPES_POLICY){if(typeof D.TRUSTED_TYPES_POLICY.createHTML!="function")throw fa('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof D.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw fa('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');q=D.TRUSTED_TYPES_POLICY,P=q.createHTML("")}else q===void 0&&(q=xL(S,s)),q!==null&&typeof P=="string"&&(P=q.createHTML(""));rn&&rn(D),cr=D}},Zn=_e({},[...nm,...rm,...aL]),gt=_e({},[...im,...uL]),Vt=function(D){let X=_(D);(!X||!X.tagName)&&(X={namespaceURI:on,tagName:"template"});const re=Dc(D.tagName),Ke=Dc(X.tagName);return Mr[D.namespaceURI]?D.namespaceURI===kr?X.namespaceURI===ln?re==="svg":X.namespaceURI===Xs?re==="svg"&&(Ke==="annotation-xml"||ss[Ke]):!!Zn[re]:D.namespaceURI===Xs?X.namespaceURI===ln?re==="math":X.namespaceURI===kr?re==="math"&&ls[Ke]:!!gt[re]:D.namespaceURI===ln?X.namespaceURI===kr&&!ls[Ke]||X.namespaceURI===Xs&&!ss[Ke]?!1:!gt[re]&&(no[re]||!Zn[re]):!!(Wn==="application/xhtml+xml"&&Mr[D.namespaceURI]):!1},Dt=function(D){ua(e.removed,{element:D});try{_(D).removeChild(D)}catch{A(D)}},fr=function(D,X){try{ua(e.removed,{attribute:X.getAttributeNode(D),from:X})}catch{ua(e.removed,{attribute:null,from:X})}if(X.removeAttribute(D),D==="is")if(Rt||Ys)try{Dt(X)}catch{}else try{X.setAttribute(D,"")}catch{}},Qa=function(D){let X=null,re=null;if(Zl)D="<remove></remove>"+D;else{const nt=MS(D,/^[\r\n\t ]+/);re=nt&&nt[0]}Wn==="application/xhtml+xml"&&on===ln&&(D='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+D+"</body></html>");const Ke=q?q.createHTML(D):D;if(on===ln)try{X=new b().parseFromString(Ke,Wn)}catch{}if(!X||!X.documentElement){X=W.createDocument(on,"template",null);try{X.documentElement.innerHTML=ci?P:Ke}catch{}}const yt=X.body||X.documentElement;return D&&re&&yt.insertBefore(t.createTextNode(re),yt.childNodes[0]||null),on===ln?Z.call(X,Jn?"html":"body")[0]:Jn?X.documentElement:yt},Wa=function(D){return ee.call(D.ownerDocument||D,D,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},Js=function(D){return D instanceof y&&(typeof D.nodeName!="string"||typeof D.textContent!="string"||typeof D.removeChild!="function"||!(D.attributes instanceof m)||typeof D.removeAttribute!="function"||typeof D.setAttribute!="function"||typeof D.namespaceURI!="string"||typeof D.insertBefore!="function"||typeof D.hasChildNodes!="function")},fi=function(D){return typeof c=="function"&&D instanceof c};function xn(ae,D,X){bc(ae,re=>{re.call(e,D,X,cr)})}const Rr=function(D){let X=null;if(xn(ve.beforeSanitizeElements,D,null),Js(D))return Dt(D),!0;const re=ot(D.nodeName);if(xn(ve.uponSanitizeElement,D,{tagName:re,allowedTags:V}),ai&&D.hasChildNodes()&&!fi(D.firstElementChild)&&Wt(/<[/\w!]/g,D.innerHTML)&&Wt(/<[/\w!]/g,D.textContent)||D.nodeType===ha.progressingInstruction||ai&&D.nodeType===ha.comment&&Wt(/<[/\w]/g,D.data))return Dt(D),!0;if(!V[re]||me[re]){if(!me[re]&&di(re)&&(fe.tagNameCheck instanceof RegExp&&Wt(fe.tagNameCheck,re)||fe.tagNameCheck instanceof Function&&fe.tagNameCheck(re)))return!1;if(Ks&&!Dn[re]){const Ke=_(D)||D.parentNode,yt=O(D)||D.childNodes;if(yt&&Ke){const nt=yt.length;for(let Ft=nt-1;Ft>=0;--Ft){const an=v(yt[Ft],!0);an.__removalCount=(D.__removalCount||0)+1,Ke.insertBefore(an,C(D))}}}return Dt(D),!0}return D instanceof d&&!Vt(D)||(re==="noscript"||re==="noembed"||re==="noframes")&&Wt(/<\/no(script|embed|frames)/i,D.innerHTML)?(Dt(D),!0):(ur&&D.nodeType===ha.text&&(X=D.textContent,bc([xe,ct,vt],Ke=>{X=ca(X,Ke," ")}),D.textContent!==X&&(ua(e.removed,{element:D.cloneNode()}),D.textContent=X)),xn(ve.afterSanitizeElements,D,null),!1)},Dr=function(D,X,re){if(eo&&(X==="id"||X==="name")&&(re in t||re in ro))return!1;if(!(Rn&&!Mt[X]&&Wt(he,X))){if(!($e&&Wt(B,X))){if(!Q[X]||Mt[X]){if(!(di(D)&&(fe.tagNameCheck instanceof RegExp&&Wt(fe.tagNameCheck,D)||fe.tagNameCheck instanceof Function&&fe.tagNameCheck(D))&&(fe.attributeNameCheck instanceof RegExp&&Wt(fe.attributeNameCheck,X)||fe.attributeNameCheck instanceof Function&&fe.attributeNameCheck(X))||X==="is"&&fe.allowCustomizedBuiltInElements&&(fe.tagNameCheck instanceof RegExp&&Wt(fe.tagNameCheck,re)||fe.tagNameCheck instanceof Function&&fe.tagNameCheck(re))))return!1}else if(!to[X]){if(!Wt(k,ca(re,le,""))){if(!((X==="src"||X==="xlink:href"||X==="href")&&D!=="script"&&iL(re,"data:")===0&&Qn[D])){if(!(Gs&&!Wt(Y,ca(re,le,"")))){if(re)return!1}}}}}}return!0},di=function(D){return D!=="annotation-xml"&&MS(D,He)},jr=function(D){xn(ve.beforeSanitizeAttributes,D,null);const{attributes:X}=D;if(!X||Js(D))return;const re={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Q,forceKeepAttr:void 0};let Ke=X.length;for(;Ke--;){const yt=X[Ke],{name:nt,namespaceURI:Ft,value:an}=yt,dr=ot(nt),Sn=an;let dt=nt==="value"?Sn:sL(Sn);if(re.attrName=dr,re.attrValue=dt,re.keepAttr=!0,re.forceKeepAttr=void 0,xn(ve.uponSanitizeAttribute,D,re),dt=re.attrValue,rs&&(dr==="id"||dr==="name")&&(fr(nt,D),dt=ed+dt),ai&&Wt(/((--!?|])>)|<\/(style|title)/i,dt)){fr(nt,D);continue}if(re.forceKeepAttr)continue;if(!re.keepAttr){fr(nt,D);continue}if(!ts&&Wt(/\/>/i,dt)){fr(nt,D);continue}ur&&bc([xe,ct,vt],_r=>{dt=ca(dt,_r," ")});const lo=ot(D.nodeName);if(!Dr(lo,dr,dt)){fr(nt,D);continue}if(q&&typeof S=="object"&&typeof S.getAttributeType=="function"&&!Ft)switch(S.getAttributeType(lo,dr)){case"TrustedHTML":{dt=q.createHTML(dt);break}case"TrustedScriptURL":{dt=q.createScriptURL(dt);break}}if(dt!==Sn)try{Ft?D.setAttributeNS(Ft,nt,dt):D.setAttribute(nt,dt),Js(D)?Dt(D):kS(e.removed)}catch{fr(nt,D)}}xn(ve.afterSanitizeAttributes,D,null)},ft=function ae(D){let X=null;const re=Wa(D);for(xn(ve.beforeSanitizeShadowDOM,D,null);X=re.nextNode();)xn(ve.uponSanitizeShadowNode,X,null),Rr(X),jr(X),X.content instanceof o&&ae(X.content);xn(ve.afterSanitizeShadowDOM,D,null)};return e.sanitize=function(ae){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X=null,re=null,Ke=null,yt=null;if(ci=!ae,ci&&(ae="<!-->"),typeof ae!="string"&&!fi(ae))if(typeof ae.toString=="function"){if(ae=ae.toString(),typeof ae!="string")throw fa("dirty is not a string, aborting")}else throw fa("toString is not a function");if(!e.isSupported)return ae;if(Wl||so(D),e.removed=[],typeof ae=="string"&&(is=!1),is){if(ae.nodeName){const an=ot(ae.nodeName);if(!V[an]||me[an])throw fa("root node is forbidden and cannot be sanitized in-place")}}else if(ae instanceof c)X=Qa("<!---->"),re=X.ownerDocument.importNode(ae,!0),re.nodeType===ha.element&&re.nodeName==="BODY"||re.nodeName==="HTML"?X=re:X.appendChild(re);else{if(!Rt&&!ur&&!Jn&&ae.indexOf("<")===-1)return q&&ns?q.createHTML(ae):ae;if(X=Qa(ae),!X)return Rt?null:ns?P:""}X&&Zl&&Dt(X.firstChild);const nt=Wa(is?ae:X);for(;Ke=nt.nextNode();)Rr(Ke),jr(Ke),Ke.content instanceof o&&ft(Ke.content);if(is)return ae;if(Rt){if(Ys)for(yt=oe.call(X.ownerDocument);X.firstChild;)yt.appendChild(X.firstChild);else yt=X;return(Q.shadowroot||Q.shadowrootmode)&&(yt=Me.call(r,yt,!0)),yt}let Ft=Jn?X.outerHTML:X.innerHTML;return Jn&&V["!doctype"]&&X.ownerDocument&&X.ownerDocument.doctype&&X.ownerDocument.doctype.name&&Wt(LT,X.ownerDocument.doctype.name)&&(Ft="<!DOCTYPE "+X.ownerDocument.doctype.name+`>
`+Ft),ur&&bc([xe,ct,vt],an=>{Ft=ca(Ft,an," ")}),q&&ns?q.createHTML(Ft):Ft},e.setConfig=function(){let ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};so(ae),Wl=!0},e.clearConfig=function(){cr=null,Wl=!1},e.isValidAttribute=function(ae,D,X){cr||so({});const re=ot(ae),Ke=ot(D);return Dr(re,Ke,X)},e.addHook=function(ae,D){typeof D=="function"&&ua(ve[ae],D)},e.removeHook=function(ae,D){if(D!==void 0){const X=nL(ve[ae],D);return X===-1?void 0:rL(ve[ae],X,1)[0]}return kS(ve[ae])},e.removeHooks=function(ae){ve[ae]=[]},e.removeAllHooks=function(){ve=zS()},e}var BS=zT();const BT=({content:n,onChange:e})=>{const[t,r]=R.useState(!1),[s,o]=R.useState(!1),[u,c]=R.useState(""),d=R.useRef(null),h=w3({extensions:[O_,k_,W_.configure({openOnClick:!1})],content:"",editorProps:{attributes:{class:"editor-input"}},onUpdate:({editor:v})=>{const A=v.getHTML(),C=BS.sanitize(A);typeof e=="function"?e(C):console.warn("TipTapEditor: onChange prop is not a function.",e)}});R.useEffect(()=>{if(h&&n&&!t){const v=BS.sanitize(n);h.commands.setContent(v),r(!0)}},[h,n,t]),R.useEffect(()=>{s&&d.current&&d.current.focus()},[s]);const m=v=>{h&&h.chain().focus()[v]().run()},y=v=>{h&&h.chain().focus().toggleHeading({level:v}).run()},b=()=>{if(!h)return;const v=h.getAttributes("link").href||"";c(v),o(!0)},S=()=>{if(!h)return;let v=u.trim();v&&!/^https?:\/\//i.test(v)&&(v="https://"+v),v===""?h.chain().focus().unsetLink().run():h.chain().focus().setLink({href:v}).run(),o(!1)},x=()=>{h.chain().focus().clearNodes().unsetAllMarks().run()};return T.jsxs("div",{className:"lexical-editor-wrapper",children:[T.jsxs("div",{className:"toolbar",children:[T.jsx("button",{type:"button",onClick:()=>m("toggleBold"),children:T.jsx("b",{children:"B"})}),T.jsx("button",{type:"button",onClick:()=>m("toggleItalic"),children:T.jsx("i",{children:"I"})}),T.jsx("button",{type:"button",onClick:()=>m("toggleUnderline"),children:T.jsx("u",{children:"U"})}),T.jsx("button",{type:"button",onClick:()=>m("toggleBulletList"),children:"• Bullet"}),T.jsx("button",{type:"button",onClick:()=>m("toggleOrderedList"),children:"1. Number"}),T.jsx("button",{type:"button",onClick:()=>y(1),children:"H1"}),T.jsx("button",{type:"button",onClick:()=>y(2),children:"H2"}),T.jsx("button",{type:"button",onClick:()=>y(3),children:"H3"}),T.jsx("button",{type:"button",onClick:b,children:"🔗 Link"}),T.jsx("button",{type:"button",onClick:x,children:"Reset"}),s&&T.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[T.jsx("input",{ref:d,type:"text",value:u,onChange:v=>c(v.target.value),placeholder:"Enter URL",className:"border px-2 py-1 rounded text-sm"}),T.jsx("button",{type:"button",onClick:S,className:"text-sm px-2 py-1 bg-blue-600 text-black rounded",children:"OK"}),T.jsx("button",{type:"button",onClick:()=>o(!1),className:"text-sm px-2 py-1",children:"Cancel"})]})]}),T.jsx("div",{className:"editor-container",children:T.jsx(m3,{editor:h})})]})};function SL(){const{user:n,token:e}=or(),t=Xn(),[r,s]=R.useState(""),[o,u]=R.useState(""),[c,d]=R.useState([]),[h,m]=R.useState(""),[y,b]=R.useState([""]),[S,x]=R.useState(""),[v,A]=R.useState(""),[C,O]=R.useState(!1),_=["teologji","filozofi","kulturë","politikë","histori"],q="unsigned_preset",P="da6mutfiu",W=async ee=>{var Me,ve;ee.preventDefault(),A("");const oe=[...c,...h.split(",").map(xe=>xe.trim().toLowerCase()).filter(xe=>xe!=="")];let Z=y;if(y[0]instanceof File)try{O(!0);const xe=new FormData;xe.append("file",y[0]),xe.append("upload_preset",q),xe.append("folder","posts"),Z=[(await be.post(`https://api.cloudinary.com/v1_1/${P}/image/upload`,xe)).data.secure_url],O(!1)}catch(xe){console.error(xe),A("Failed to upload media."),O(!1);return}try{const xe={title:r,content:S,tags:oe,media:Z};(n==null?void 0:n.role)==="admin"&&o.trim()&&(xe.authorName=o.trim());const ct=await be.post("https://udhekryqi.com/api/posts",xe,{headers:{Authorization:`Bearer ${e}`}});A("Post created!"),t(`/posts/${ct.data._id}`)}catch(xe){console.error(xe),A(((ve=(Me=xe.response)==null?void 0:Me.data)==null?void 0:ve.message)||"Failed to create post")}};return!n||n.role!=="admin"?T.jsx("p",{className:"text-center mt-10 text-red-600",children:"Hyrja e ndaluar."}):T.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[T.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Shkruaj një Artikull"}),T.jsxs("form",{onSubmit:W,className:"space-y-6",children:[T.jsx("input",{type:"text",placeholder:"Titulli",value:r,onChange:ee=>s(ee.target.value),className:"w-full border px-3 py-2 rounded",required:!0}),(n==null?void 0:n.role)==="admin"&&T.jsx("input",{type:"text",placeholder:"Emri i autorit",value:o,onChange:ee=>u(ee.target.value),className:"w-full border px-3 py-2 rounded"}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium",children:"Tags"}),T.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:_.map(ee=>T.jsxs("label",{className:"flex items-center gap-1",children:[T.jsx("input",{type:"checkbox",value:ee,checked:c.includes(ee),onChange:oe=>d(oe.target.checked?[...c,ee]:c.filter(Z=>Z!==ee))}),ee]},ee))}),T.jsx("input",{type:"text",placeholder:"Shto tjera tags, të ndarë me presje",value:h,onChange:ee=>m(ee.target.value),className:"w-full border px-3 py-2 rounded"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium",children:"Foto"}),T.jsxs("div",{className:"flex gap-4 mb-3",children:[T.jsxs("label",{className:"flex items-center gap-2",children:[T.jsx("input",{type:"radio",name:"mediaMethod",value:"url",checked:typeof y[0]=="string",onChange:()=>b([""])}),"URL"]}),T.jsxs("label",{className:"flex items-center gap-2",children:[T.jsx("input",{type:"radio",name:"mediaMethod",value:"upload",checked:y[0]instanceof File||y[0]===null,onChange:()=>b([null])}),"Ngarko Foto"]})]}),typeof y[0]=="string"&&T.jsx("input",{type:"text",placeholder:"URL",value:y[0],onChange:ee=>b([ee.target.value]),className:"w-full border px-3 py-2 rounded"}),(y[0]===null||y[0]instanceof File)&&T.jsxs("div",{children:[T.jsx("label",{htmlFor:"file-upload",className:"inline-block cursor-pointer bg-gray-800 text-white px-4 py-2 rounded hover:bg-black",children:y[0]instanceof File?y[0].name:"Choose File"}),T.jsx("input",{id:"file-upload",type:"file",accept:"image/*",onChange:ee=>b([ee.target.files[0]]),className:"hidden"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium",children:"Përmbajtja"}),T.jsx(BT,{content:S,onChange:x})]}),T.jsx("button",{type:"submit",disabled:C,className:"bg-black text-white px-6 py-2 rounded hover:bg-gray-900 disabled:opacity-50",children:C?"Uploading...":"Publiko"}),v&&T.jsx("p",{className:"mt-4 text-sm text-center text-red-600",children:v})]})]})}const lm=12;function vL(){const{user:n}=or(),[e,t]=R.useState([]),[r,s]=R.useState(1),o=Xn();R.useEffect(()=>{n&&(async()=>{try{const S=(await be.get("https://udhekryqi.com/api/posts")).data.filter(x=>{var v;return((v=x.author)==null?void 0:v._id)===n.id});t(S)}catch(b){console.error("Failed to fetch posts:",b)}})()},[n]);const u=async()=>{if(window.confirm("Are you sure you want to delete your account? This cannot be undone."))try{const b=localStorage.getItem("token");await be.delete(`https://udhekryqi.com/api/auth/user/${n.id}?deletePosts=true`,{headers:{Authorization:`Bearer ${b}`}}),localStorage.removeItem("token"),localStorage.removeItem("user"),o("/"),window.location.reload()}catch(b){console.error("Failed to delete account:",b),alert("Account deletion failed. Please try again.")}},c=async y=>{if(confirm("Delete this post?"))try{await be.delete(`https://udhekryqi.com/api/posts/${y}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),t(S=>S.filter(x=>x._id!==y))}catch(S){alert("Error deleting post."),console.error(S)}},d=(y,b=90)=>{const S=y.replace(/<[^>]+>/g,"").replace(/\s+/g," ").trim();return S.length>b?S.slice(0,b)+"...":S},h=Math.ceil(e.length/lm),m=e.slice((r-1)*lm,r*lm);return!n||n.role!=="admin"?T.jsx("p",{className:"text-center mt-10 text-red-600",children:"Access denied."}):T.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[T.jsxs("div",{className:"mb-6",children:[T.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Mirësevjen, ",n.name]}),T.jsxs("p",{className:"text-gray-700 mb-4",children:["Artikuj të publikuar: ",e.length]}),T.jsxs("div",{className:"flex gap-4 flex-wrap",children:[T.jsx(ke,{to:"/admin/new-post",className:"bg-black text-white px-4 py-2 rounded hover:bg-gray-800",children:"Krijo artikull"}),T.jsx(ke,{to:"/admin/edit-account",className:"border px-4 py-2 rounded hover:bg-gray-100",children:"Ndrysho të dhënat e llogarisë"}),T.jsx("button",{onClick:u,className:"border border-red-600 text-red-600 px-4 py-2 rounded hover:bg-red-50",children:"Fshij llogarinë"})]})]}),T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:m.map(y=>{var b,S;return T.jsxs("div",{className:"group border rounded overflow-hidden bg-white shadow-sm hover:shadow-md transition relative",children:[T.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 z-10",children:[T.jsx(ke,{to:`/edit-post/${y._id}`,className:"text-xs",children:"✏️"}),T.jsx("button",{onClick:()=>c(y._id),className:"text-xs",children:"❌"})]}),T.jsxs(ke,{to:`/posts/${y._id}`,children:[((b=y.media)==null?void 0:b[0])&&T.jsx("img",{src:y.media[0],alt:y.title,className:"h-48 w-full object-cover"}),T.jsxs("div",{className:"p-4 space-y-2",children:[T.jsx("h3",{className:"text-lg font-bold group-hover:underline",children:y.title}),T.jsx("p",{className:"text-xs uppercase text-gray-500 font-semibold",children:((S=y.author)==null?void 0:S.name)||y.authorName}),T.jsx("p",{className:"text-sm text-gray-600 break-words",children:d(y.content)})]})]})]},y._id)})}),h>1&&T.jsx("div",{className:"flex justify-center mt-8 space-x-2",children:Array.from({length:h},(y,b)=>T.jsx("button",{onClick:()=>s(b+1),className:`px-3 py-1 rounded ${r===b+1?"bg-black text-white":"bg-gray-200 text-gray-800"}`,children:b+1},b+1))})]})}function HS(){const{user:n,login:e}=or(),[t,r]=R.useState((n==null?void 0:n.name)||""),[s,o]=R.useState(""),[u,c]=R.useState(""),[d,h]=R.useState(null),[m,y]=R.useState(""),[b,S]=R.useState(!1),x=()=>{h(null),o(""),c(""),r((n==null?void 0:n.name)||""),y(""),S(!1)},v=async()=>{var O,_;if(y(""),S(!1),d==="password"){if(!s){y("Password cannot be empty.");return}if(s!==u){y("Passwords do not match.");return}}const A=localStorage.getItem("token"),C={};d==="name"&&(C.name=t),d==="password"&&s&&(C.password=s);try{const q=await be.put(`https://udhekryqi.com/api/auth/user/${n.id}`,C,{headers:{Authorization:`Bearer ${A}`}});e(q.data.user,A),S(!0),h(null),o(""),c("")}catch(q){console.error(q),y(((_=(O=q.response)==null?void 0:O.data)==null?void 0:_.message)||"Update failed.")}};return n?T.jsxs("div",{className:"max-w-lg mx-auto mt-10 p-6 border rounded shadow-sm space-y-6",children:[T.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Ndrysho Llogarinë"}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium",children:"Emri"}),d==="name"?T.jsxs("div",{className:"flex gap-2",children:[T.jsx("input",{type:"text",value:t,onChange:A=>r(A.target.value),className:"flex-1 border px-3 py-2 rounded"}),T.jsx("button",{className:"bg-green-600 text-white px-3 py-1 rounded",onClick:v,children:"Ruaj"}),T.jsx("button",{className:"bg-gray-400 text-white px-3 py-1 rounded",onClick:x,children:"Anullo"})]}):T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("p",{children:n.name}),T.jsx("button",{className:"text-blue-600 hover:underline",onClick:()=>h("name"),children:"Ndrysho"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium",children:"Email"}),T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("p",{children:n.email}),T.jsx("span",{className:"text-gray-500 text-sm italic",children:"I pandryshueshëm"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium",children:"Password"}),d==="password"?T.jsxs("div",{className:"space-y-2",children:[T.jsx("input",{type:"password",value:s,onChange:A=>o(A.target.value),className:"w-full border px-3 py-2 rounded",placeholder:"Passwordi i ri"}),T.jsx("input",{type:"password",value:u,onChange:A=>c(A.target.value),className:"w-full border px-3 py-2 rounded",placeholder:"Konfirmo passwordin"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{className:"bg-green-600 text-white px-3 py-1 rounded",onClick:v,children:"Ruaj"}),T.jsx("button",{className:"bg-gray-400 text-white px-3 py-1 rounded",onClick:x,children:"Anullo"})]})]}):T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("p",{className:"italic text-gray-500",children:"••••••••"}),T.jsx("button",{className:"text-blue-600 hover:underline",onClick:()=>h("password"),children:"Ndrysho"})]})]}),m&&T.jsx("p",{className:"text-red-600 mt-2 text-sm text-center",children:m}),b&&T.jsx("p",{className:"text-green-600 mt-2 text-sm text-center",children:"Llogaria u ndryshua me sukses."})]}):T.jsx("p",{className:"text-center mt-10 text-red-600",children:"Unauthorized."})}function EL(){const{id:n}=Mf(),{user:e}=or(),t=Xn(),[r,s]=R.useState({title:"",content:"",tags:[],media:[""],authorName:""}),[o,u]=R.useState(""),[c,d]=R.useState(""),[h,m]=R.useState(!1),y=["teologji","filozofi","kulturë","politikë","histori"];R.useEffect(()=>{be.get(`https://udhekryqi.com/api/posts/${n}`).then(x=>{const v=x.data.tags||[],A=v.filter(O=>y.includes(O)),C=v.filter(O=>!y.includes(O));s({title:x.data.title,content:x.data.content,tags:A,media:x.data.media.length?x.data.media:[""],authorName:x.data.authorName||""}),u(C.join(", "))}).catch(()=>d("Failed to load post."))},[n]);const b=x=>{s(v=>({...v,tags:v.tags.includes(x)?v.tags.filter(A=>A!==x):[...v.tags,x]}))},S=async x=>{x.preventDefault(),d("");const v=[...r.tags,...o.split(",").map(C=>C.trim().toLowerCase()).filter(C=>C)];let A=r.media;if(r.media[0]instanceof File)try{m(!0);const C=new FormData;C.append("file",r.media[0]),C.append("upload_preset","unsigned_preset"),A=[(await be.post("https://api.cloudinary.com/v1_1/da6mutfiu/image/upload",C)).data.secure_url],m(!1)}catch(C){console.error(C),d("Failed to upload media."),m(!1);return}try{const C=localStorage.getItem("token");await be.put(`https://udhekryqi.com/api/posts/${n}`,{...r,tags:v,media:A,authorName:r.authorName},{headers:{Authorization:`Bearer ${C}`}}),t(`/posts/${n}`)}catch(C){console.error(C),d("Failed to update post.")}};return!e||e.role!=="admin"?T.jsx("p",{className:"text-center mt-10 text-red-600",children:"Unauthorized."}):T.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsx("h1",{className:"text-2xl font-bold",children:"Ndrysho Artikullin"}),T.jsx(ke,{to:`/posts/${n}`,className:"text-sm text-red-700 hover:underline",children:"Shih Artikullin"})]}),T.jsxs("form",{onSubmit:S,className:"space-y-6",children:[T.jsx("input",{type:"text",placeholder:"Titulli",value:r.title,onChange:x=>s(v=>({...v,title:x.target.value})),className:"w-full border px-3 py-2 rounded",required:!0}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium",children:"Emri i Autorit (opsionale)"}),T.jsx("input",{type:"text",placeholder:"Shkruani emrin që do shfaqet",value:r.authorName,onChange:x=>s(v=>({...v,authorName:x.target.value})),className:"w-full border px-3 py-2 rounded"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium",children:"Foto"}),T.jsxs("div",{className:"flex gap-4 mb-2",children:[T.jsxs("label",{className:"flex items-center gap-2",children:[T.jsx("input",{type:"radio",name:"mediaType",checked:typeof r.media[0]=="string",onChange:()=>s(x=>({...x,media:[""]}))}),"URL"]}),T.jsxs("label",{className:"flex items-center gap-2",children:[T.jsx("input",{type:"radio",name:"mediaType",checked:r.media[0]instanceof File||r.media[0]===null,onChange:()=>s(x=>({...x,media:[null]}))}),"Ngarko Foton"]})]}),typeof r.media[0]=="string"&&T.jsx("input",{type:"text",placeholder:"Media URL",value:r.media[0],onChange:x=>s(v=>({...v,media:[x.target.value]})),className:"w-full border px-3 py-2 rounded"}),(r.media[0]===null||r.media[0]instanceof File)&&T.jsxs("div",{children:[T.jsx("label",{htmlFor:"file-upload",className:"inline-block cursor-pointer bg-gray-800 text-white px-4 py-2 rounded hover:bg-black",children:r.media[0]instanceof File?r.media[0].name:"Zgjidh Foto"}),T.jsx("input",{id:"file-upload",type:"file",accept:"image/*",onChange:x=>s(v=>({...v,media:[x.target.files[0]]})),className:"hidden"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium",children:"Tags"}),T.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:y.map(x=>T.jsxs("label",{className:"flex items-center gap-1",children:[T.jsx("input",{type:"checkbox",checked:r.tags.includes(x),onChange:()=>b(x)}),x]},x))}),T.jsx("input",{type:"text",placeholder:"Shto tjera tags, të ndarë me presje",value:o,onChange:x=>u(x.target.value),className:"w-full border px-3 py-2 rounded"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block mb-1 font-medium",children:"Përmbajtja"}),T.jsx(BT,{content:r.content,onChange:x=>s(v=>({...v,content:x}))})]}),T.jsx("button",{type:"submit",className:"bg-black text-white px-6 py-2 rounded hover:bg-gray-900",disabled:h,children:h?"Duke ngarkuar...":"Ndrysho Artikullin"}),c&&T.jsx("p",{className:"text-red-600",children:c})]})]})}const om=12;function TL(){const[n,e]=R.useState([]),[t,r]=R.useState([]),[s,o]=R.useState(1),[u,c]=R.useState(""),[d,h]=R.useState(""),{user:m}=or(),y=(m==null?void 0:m.role)==="admin",b=oi();R.useEffect(()=>{const O=new URLSearchParams(b.search).get("search");O&&c(O)},[b.search]),R.useEffect(()=>{(async()=>{try{const _=await be.get("https://udhekryqi.com/api/posts");e(_.data),r(_.data)}catch(_){console.error("Failed to load posts:",_)}})()},[]),R.useEffect(()=>{const O=q=>(q||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase();let _=[...n];if(u.trim()){const q=O(u);_=_.filter(P=>{var Me;const W=O(P.title).includes(q),ee=O(zc(P.content)).includes(q),oe=(P.tags||[]).some(ve=>O(ve).includes(q)),Z=O(((Me=P.author)==null?void 0:Me.name)||P.authorName||"").includes(q);return W||ee||oe||Z})}d&&(_=_.filter(q=>q.tags.some(P=>P.toLowerCase()===d.toLowerCase()))),r(_),o(1)},[u,d,n]);const S=[...new Set(n.flatMap(O=>O.tags||[]))],x=Math.ceil(t.length/om),v=t.slice((s-1)*om,s*om),A=(O,_=90)=>{const q=zc(O||"").replace(/\s+/g," ").trim();return q.length>_?q.slice(0,_)+"...":q},C=async O=>{if(confirm("Delete this post?"))try{await be.delete(`https://udhekryqi.com/api/posts/${O}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),e(_=>_.filter(q=>q._id!==O))}catch(_){alert("Error deleting post."),console.error(_)}};return T.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[T.jsx("h1",{className:"text-3xl font-bold mb-6",children:"All Articles"}),T.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-6",children:[T.jsx("input",{type:"text",value:u,onChange:O=>c(O.target.value),placeholder:"Search articles...",className:"border p-2 rounded w-full sm:w-1/2"}),T.jsxs("select",{value:d,onChange:O=>h(O.target.value),className:"border p-2 rounded",children:[T.jsx("option",{value:"",children:"All Tags"}),S.map((O,_)=>T.jsx("option",{value:O,children:O},_))]})]}),T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:v.map(O=>{var _,q;return T.jsxs("div",{className:"group border rounded overflow-hidden bg-white shadow-sm hover:shadow-md transition relative",children:[y&&T.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 z-10",children:[T.jsx(ke,{to:`/edit-post/${O._id}`,className:"text-xs",children:"✏️"}),T.jsx("button",{onClick:()=>C(O._id),className:"text-xs",children:"❌"})]}),T.jsxs(ke,{to:`/posts/${O._id}`,children:[((_=O.media)==null?void 0:_[0])&&T.jsx("img",{src:O.media[0],alt:O.title,className:"h-48 w-full object-cover"}),T.jsxs("div",{className:"p-4 space-y-2",children:[T.jsx("h3",{className:"text-lg font-bold group-hover:underline",children:O.title}),T.jsx("p",{className:"text-xs uppercase text-gray-500 font-semibold",children:((q=O.author)==null?void 0:q.name)||O.authorName}),T.jsx("p",{className:"text-sm text-gray-600 break-words",children:A(O.content)})]})]})]},O._id)})}),x>1&&T.jsx("div",{className:"flex justify-center mt-8 space-x-2",children:Array.from({length:x},(O,_)=>T.jsx("button",{onClick:()=>o(_+1),className:`px-3 py-1 rounded ${s===_+1?"bg-black text-white":"bg-gray-200 text-gray-800"}`,children:_+1},_+1))})]})}function AL(){const{user:n,token:e}=or(),t=Xn(),[r,s]=R.useState([]),[o,u]=R.useState([]),[c,d]=R.useState("");R.useEffect(()=>{(async()=>{try{const b=(await be.get("https://udhekryqi.com/api/posts")).data,S=b.filter(v=>v.likes.includes(n.id)),x=[];b.forEach(v=>{v.comments.forEach(A=>{A.user===n.id&&x.push({postId:v._id,postTitle:v.title,content:A.content,createdAt:A.createdAt})})}),s(S),u(x)}catch(y){console.error(y),d("Failed to load activity.")}})()},[n]);const h=async()=>{if(window.confirm("Are you sure you want to delete your account? This cannot be undone."))try{await be.delete(`https://udhekryqi.com/api/auth/user/${n.id}`,{headers:{Authorization:`Bearer ${e}`}}),localStorage.removeItem("token"),localStorage.removeItem("user"),t("/"),window.location.reload()}catch(y){console.error("Failed to delete account:",y),alert("Account deletion failed. Please try again.")}};return T.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-10",children:[T.jsxs("h1",{className:"text-3xl font-bold mb-6",children:["Mirësevjen, ",n.name]}),T.jsxs("div",{className:"mb-10 flex flex-wrap gap-4",children:[T.jsx(ke,{to:"/edit-account",className:"border px-4 py-2 rounded hover:bg-gray-100",children:"Ndrysho llogarinë"}),T.jsx("button",{onClick:h,className:"border border-red-600 text-red-600 px-4 py-2 rounded hover:bg-red-50",children:"Fshij llogarinë"})]}),c&&T.jsx("p",{className:"text-red-600 mb-6",children:c}),T.jsxs("section",{className:"mb-12",children:[T.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Artikujt e pëlqyer"}),r.length===0?T.jsx("p",{className:"text-gray-600",children:"Nuk keni pëlqyer asnjë artikull akoma."}):T.jsx("ul",{className:"list-disc list-inside space-y-2",children:r.map(m=>T.jsx("li",{children:T.jsx(ke,{to:`/posts/${m._id}`,className:"text-red-700 hover:underline",children:m.title})},m._id))})]}),T.jsxs("section",{children:[T.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Komentet tuaja"}),o.length===0?T.jsx("p",{className:"text-gray-600",children:"Nuk keni komentuar akoma."}):T.jsx("ul",{className:"space-y-4",children:o.map((m,y)=>T.jsxs("li",{className:"border rounded p-4 bg-white shadow-sm",children:[T.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["On:"," ",T.jsx(ke,{to:`/posts/${m.postId}`,className:"text-red-700 hover:underline",children:m.postTitle})," ","— ",new Date(m.createdAt).toLocaleDateString()]}),T.jsx("p",{children:m.content})]},y))})]})]})}function wL(){return T.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-14 text-gray-800 space-y-16",children:[T.jsxs("section",{className:"text-center space-y-4",children:[T.jsx("h1",{style:{fontFamily:"Georgia, serif"},className:"text-4xl font-bold uppercase tracking-wide",children:"RRETH NESH"}),T.jsx("p",{className:"text-lg italic text-gray-600",children:"Një udhëkryq mendimi, reflektimi dhe besimi."})]}),T.jsx("img",{src:"/kryqi.jpg",alt:"Our Vision",className:"w-full h-full object-cover rounded-xl"}),T.jsxs("section",{className:"space-y-4",children:[T.jsx("h2",{className:"text-2xl font-semibold uppercase tracking-wide",children:"Qëllimi Ynë"}),T.jsxs("p",{children:[T.jsx("b",{children:"Udhëkryqi"})," është një përpjekje për të krijuar një hapësirë reflektimi mbi vlerat dhe besimet që na kanë formuar si qytetërim. Ne besojmë se themeli i një shoqërie të shëndoshë është besimi në të vërtetën dhe moralin objektiv. Këto të dyja i shohim të përsosura në trashëgiminë shpirtërore, filozofike dhe kulturore të Katolicizmit. Nuk pretendojmë të ofrojmë gjithmonë përgjigje përfundimtare, por dëshirojmë të vërtetojmë se ky besim dhe këto parime janë të besueshme, të arsyeshme dhe të nevojshme."]})]}),T.jsxs("section",{className:"space-y-4",children:[T.jsx("h2",{className:"text-2xl font-semibold uppercase tracking-wide",children:"Parimet Tona"}),T.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[T.jsx("li",{children:"Dinjiteti i njeriut si imazh i Zotit"}),T.jsx("li",{children:"Pajtimi i fesë me arsyen"}),T.jsx("li",{children:"Trashëgimia e përhershme dhe e vazhdueshme sekulare dhe fetare"}),T.jsx("li",{children:"Kultura si shprehje e së bukurës dhe së mirës"}),T.jsx("li",{children:"Rendi moral dhe ligji natyror"}),T.jsx("li",{children:"Jeta e pasosur"})]})]}),T.jsxs("section",{className:"space-y-4",children:[T.jsx("h2",{className:"text-2xl font-semibold uppercase tracking-wide",children:"Puna JonË"}),T.jsx("p",{children:"Udhëkryqi boton artikuj që pasqyrojnë një përkushtim ndaj traditës dhe mendimit kritik:"}),T.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[T.jsx("li",{children:"Ese mbi teologjinë, filozofinë dhe jetën morale"}),T.jsx("li",{children:"Reflektime kulturore dhe shoqërore"}),T.jsx("li",{children:"Komente politike me përqasje parimore"}),T.jsx("li",{children:"Shkrime origjinale dhe përkthime në gjuhën shqipe"})]})]}),T.jsxs("section",{className:"space-y-4",children:[T.jsx("h2",{className:"text-2xl font-semibold uppercase tracking-wide",children:"Rreth nesh"}),T.jsxs("p",{children:["Jemi lexues dhe shkrues të zakonshëm nga troje të ndryshme që duam të ruajmë atë që është e vyer dhe themelore për shoqërinë, dhe të ndihmojmë të tjerët të bëjnë të njëjtën gjë. Ky projekt nuk përfaqëson një institucion apo autoritet; është një ftesë për ",T.jsx("b",{children:"bashkëudhëtim"}),"."]})]}),T.jsxs("section",{className:"space-y-4",children:[T.jsx("h2",{className:"text-2xl font-semibold uppercase tracking-wide",children:"Pse ËshtË e nevojshme"}),T.jsxs("p",{children:["Në një botë që shpesh ndjen mungesën e kuptimit, e kaluara nuk është barrë, por dritë.",T.jsx("i",{children:" “Përparimi duhet të nënkuptojë që gjithmonë do të ndryshojmë botën për t’iu përshtatur vizionit; në vend të kësaj, ne vazhdimisht po ndryshojmë vetë vizionin.”"})," Këto janë fjalët e mendimtarit të madh britanik G. K. Chesterton, të cilat shpjegojnë edhe qasjen tonë ndaj këtij aspekti. Një përpjekje për të ndërtuar një të ardhme me themel të fortë duhet të bazohet në një vizion të vërtetë, të mirë dhe të bukur. Udhëkryqi është një hap modest në këtë drejtim."]})]}),T.jsxs("section",{className:"text-center space-y-2",children:[T.jsx("p",{className:"text-lg font-medium",children:"Nëse ndiheni të thirrur nga këto vlera, ju mirëpresim të lexoni, të ndani, apo edhe të kontribuoni me mendimet tuaja."}),T.jsx(ke,{to:"/contact",className:"text-red-700 font-semibold hover:text-black",children:"Na kontaktoni →"})]})]})}function CL(){const[n,e]=R.useState({name:"",email:"",message:""}),[t,r]=R.useState("idle"),s=u=>{e(c=>({...c,[u.target.name]:u.target.value}))},o=async u=>{u.preventDefault();const{name:c,email:d,message:h}=n;if(!c.trim()||!d.trim()||!h.trim()){alert("Ju lutemi plotësoni të gjitha fushat.");return}r("sending");try{await be.post("https://udhekryqi.com/api/auth/contact",{name:c,email:d,message:h}),r("success"),e({name:"",email:"",message:""})}catch(m){console.error("Dërgimi dështoi:",m),r("error")}};return T.jsxs("div",{className:"max-w-3xl mx-auto p-8 space-y-6 text-gray-800",children:[T.jsx("h1",{style:{fontFamily:"Georgia, serif"},className:"text-3xl font-bold uppercase text-center",children:"Na Kontaktoni"}),T.jsxs("form",{onSubmit:o,className:"space-y-4",children:[T.jsx("input",{type:"text",name:"name",placeholder:"Emri juaj",value:n.name,onChange:s,required:!0,className:"w-full border border-gray-300 p-3 rounded focus:outline-none focus:ring-2 focus:ring-red-700"}),T.jsx("input",{type:"email",name:"email",placeholder:"Email",value:n.email,onChange:s,required:!0,className:"w-full border border-gray-300 p-3 rounded focus:outline-none focus:ring-2 focus:ring-red-700"}),T.jsx("textarea",{name:"message",placeholder:"Mesazhi juaj",rows:"6",value:n.message,onChange:s,required:!0,className:"w-full border border-gray-300 p-3 rounded focus:outline-none focus:ring-2 focus:ring-red-700"}),T.jsx("button",{type:"submit",className:"bg-red-700 text-white px-6 py-2 rounded hover:bg-red-800 transition",disabled:t==="sending",children:t==="sending"?"Duke dërguar...":"Dërgo Mesazhin"})]}),t==="success"&&T.jsx("p",{className:"text-green-700 font-medium",children:"Mesazhi u dërgua me sukses. Faleminderit!"}),t==="error"&&T.jsx("p",{className:"text-red-600 font-medium",children:"Dërgimi dështoi. Ju lutemi provoni sërish."})]})}function NL(){const[n,e]=R.useState(""),[t,r]=R.useState(""),[s,o]=R.useState(!1),u=async c=>{var d,h;c.preventDefault(),r(""),o(!0);try{const m=await be.post("https://udhekryqi.com/api/auth/forgot-password",{email:n});r(m.data.message)}catch(m){r(((h=(d=m.response)==null?void 0:d.data)==null?void 0:h.message)||"Request failed")}finally{o(!1)}};return T.jsxs("div",{className:"max-w-md mx-auto mt-10 p-6 border rounded shadow-sm",children:[T.jsx("h2",{className:"text-2xl mb-4 font-semibold",children:"Rivendos Fjalëkalimin"}),T.jsxs("form",{onSubmit:u,className:"space-y-4",children:[T.jsx("input",{type:"email",name:"email",placeholder:"Shkruaj emailin",value:n,onChange:c=>e(c.target.value),className:"w-full border px-3 py-2 rounded",required:!0}),T.jsx("button",{type:"submit",disabled:s,className:"w-full bg-red-700 text-white py-2 rounded hover:bg-red-800",children:s?"Duke dërguar...":"Dërgo emailin e rivendosjes"})]}),t&&T.jsx("p",{className:"mt-4 text-sm text-center text-gray-700",children:t})]})}function OL(){const{token:n}=Mf(),e=Xn(),[t,r]=R.useState(""),[s,o]=R.useState(""),[u,c]=R.useState(!1),d=async h=>{var m,y;h.preventDefault(),o(""),c(!0);try{const b=await be.post(`https://udhekryqi.com/api/auth/reset-password/${n}`,{newPassword:t});o(b.data.message),setTimeout(()=>e("/login"),3e3)}catch(b){o(((y=(m=b.response)==null?void 0:m.data)==null?void 0:y.message)||"Reset failed")}finally{c(!1)}};return T.jsxs("div",{className:"max-w-md mx-auto mt-10 p-6 border rounded shadow-sm",children:[T.jsx("h2",{className:"text-2xl mb-4 font-semibold",children:"Vendos Fjalëkalim të Ri"}),T.jsxs("form",{onSubmit:d,className:"space-y-4",children:[T.jsx("input",{type:"password",name:"newPassword",placeholder:"Fjalëkalimi i ri",value:t,onChange:h=>r(h.target.value),className:"w-full border px-3 py-2 rounded",required:!0}),T.jsx("button",{type:"submit",disabled:u,className:"w-full bg-red-700 text-white py-2 rounded hover:bg-red-800",children:u?"Duke ruajtur...":"Rivendos Fjalëkalimin"})]}),s&&T.jsx("p",{className:"mt-4 text-sm text-center text-gray-700",children:s})]})}function kL(){return T.jsxs("div",{className:"flex flex-col min-h-screen",children:[T.jsx(NN,{}),T.jsx("main",{className:"flex-grow",children:T.jsxs(FC,{children:[T.jsx(zt,{path:"/register",element:T.jsx(ik,{})}),T.jsx(zt,{path:"/login",element:T.jsx(sk,{})}),T.jsx(zt,{path:"/",element:T.jsx(ck,{})}),T.jsx(zt,{path:"/category/:name",element:T.jsx(Ak,{})}),T.jsx(zt,{path:"/posts/:id",element:T.jsx(aM,{})}),T.jsx(zt,{path:"/admin/new-post",element:T.jsx(SL,{})}),T.jsx(zt,{path:"/admin",element:T.jsx(vL,{})}),T.jsx(zt,{path:"/admin/edit-account",element:T.jsx(HS,{})}),T.jsx(zt,{path:"/edit-account",element:T.jsx(HS,{})}),T.jsx(zt,{path:"/edit-post/:id",element:T.jsx(EL,{})}),T.jsx(zt,{path:"/all",element:T.jsx(TL,{})}),T.jsx(zt,{path:"/dashboard",element:T.jsx(AL,{})}),T.jsx(zt,{path:"/rreth-nesh",element:T.jsx(wL,{})}),T.jsx(zt,{path:"/contact",element:T.jsx(CL,{})}),T.jsx(zt,{path:"/forgot-password",element:T.jsx(NL,{})}),T.jsx(zt,{path:"/reset-password/:token",element:T.jsx(OL,{})})]})}),T.jsx(Tk,{})]})}Zw.createRoot(document.getElementById("root")).render(T.jsx(Fe.StrictMode,{children:T.jsx(pN,{children:T.jsx(CN,{children:T.jsx(kL,{})})})}));
